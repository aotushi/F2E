<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
		<script src="https://unpkg.com/vue@3"></script>
	</head>
	<body>
		<div id="app">
			<p>{{id}} --{{name}} -- {{num}}</p>
			<button @click="changeName">点击</button>
		</div>
		<script>
			const {
				createApp,
				ref,
				toRefs,
				reactive,
				computed,
				onBeforeMount,
				onMounted,
				onBeforeUpdate,
				onUpdated,
				onBeforeUnmount,
				onUnmounted,
				onActivated,
				onDeactivated,
				onErrorCaptured,
			} = Vue;
			const app = Vue.createApp({
				setup() {
					const state = reactive({
						id: 1,
						name: "tom",
						num: computed(() => (state.id += 5)),
					});

					function changeName() {
						state.name = "lucy";
					}

					onBeforeMount(() => {
						console.log("onBeforeMount");
					});

					onMounted(() => {
						console.log("onMounted");
					});

					// onBeforeUpdate(() => {
					// 	console.log("onBeforeUpdate");
					// });

					onUpdated(() => {
						console.log("onUpdated");
					});

					onBeforeUnmount(() => {
						console.log("onBeforeUnmount");
					});

					onUnmounted(() => {
						console.log("onUnmounted");
					});

					onActivated(() => {
						console.log("onActivated");
					});

					onDeactivated(() => {
						console.log("onDeactivated");
					});

					onErrorCaptured(() => {
						console.log("onErrorCaptured");
					});

					return {
						...toRefs(state),
						changeName,
					};
				},

				// onBeforeUpdate2(() => {
				// 	console.log("onBeforeUpdate");
				// })

		
			});

			app.mount("#app");
		</script>
	</body>
</html>
