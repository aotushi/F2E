---
alias: å­—ç¬¦ä¸²æ–¹æ³•
---





#### å‡½æ•°çš„è°ƒç”¨

åœ¨Stringå¯¹è±¡çš„åŸå‹é“¾ä¸Šæœ‰ä¸€ç³»åˆ—çš„å‡½æ•°ï¼Œä¾‹å¦‚indexOf()å‡½æ•°ã€substring()å‡½æ•°ã€slice()å‡½æ•°ç­‰ï¼Œé€šè¿‡Stringå¯¹è±¡çš„å®ä¾‹å¯ä»¥è°ƒç”¨è¿™äº›å‡½æ•°åšå­—ç¬¦ä¸²çš„å¤„ç†ã€‚

ä½†æ˜¯æˆ‘ä»¬å‘ç°ï¼Œé‡‡ç”¨å­—é¢é‡æ–¹å¼å®šä¹‰çš„å­—ç¬¦ä¸²æ²¡æœ‰é€šè¿‡newè¿ç®—ç¬¦ç”ŸæˆStringå¯¹è±¡çš„å®ä¾‹ä¹Ÿèƒ½å¤Ÿç›´æ¥è°ƒç”¨åŸå‹é“¾ä¸Šçš„å‡½æ•°ã€‚

```js
'hello'.indexOf('e');  // 1
'hello'.substring(1);  // 'ello'
'hello'.slice(1);      // 'ello'
```

è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ

å®é™…ä¸ŠåŸºæœ¬å­—ç¬¦ä¸²æœ¬èº«æ˜¯æ²¡æœ‰å­—ç¬¦ä¸²å¯¹è±¡çš„å‡½æ•°ï¼Œè€Œåœ¨åŸºæœ¬å­—ç¬¦ä¸²è°ƒç”¨å­—ç¬¦ä¸²å¯¹è±¡æ‰æœ‰çš„å‡½æ•°æ—¶ï¼ŒJavaScriptä¼šè‡ªåŠ¨å°†åŸºæœ¬å­—ç¬¦ä¸²è½¬æ¢ä¸ºå­—ç¬¦ä¸²å¯¹è±¡ï¼Œå½¢æˆä¸€ç§åŒ…è£…ç±»å‹ï¼Œè¿™æ ·åŸºæœ¬å­—ç¬¦ä¸²å°±å¯ä»¥æ­£å¸¸è°ƒç”¨å­—ç¬¦ä¸²å¯¹è±¡çš„æ–¹æ³•äº†ã€‚

åŸºæœ¬å­—ç¬¦ä¸²å’Œå­—ç¬¦ä¸²å¯¹è±¡åœ¨ç»è¿‡eval()å‡½æ•°å¤„ç†æ—¶ï¼Œä¼šäº§ç”Ÿä¸åŒçš„ç»“æœã€‚

eval()å‡½æ•°ä¼šå°†åŸºæœ¬å­—ç¬¦ä¸²ä½œä¸ºæºä»£ç å¤„ç†ï¼Œå¦‚æœæ¶‰åŠè¡¨è¾¾å¼ä¼šç›´æ¥è¿›è¡Œè¿ç®—ï¼Œè¿”å›è¿ç®—åçš„ç»“æœï¼›è€Œå­—ç¬¦ä¸²å¯¹è±¡åˆ™ä¼šè¢«çœ‹ä½œå¯¹è±¡å¤„ç†ï¼Œè¿”å›å¯¹è±¡æœ¬èº«ã€‚

```js
var s1 = '2 + 2';               // åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²å­—é¢é‡
var s2 = new String('2 + 2');   // åˆ›å»ºä¸€ä¸ªå¯¹è±¡å­—ç¬¦ä¸²
console.log(eval(s1));          // 4
console.log(eval(s2));          // String {"2 + 2"}
```


![](https://cdn.staticaly.com/gh/aotushi/image-hosting@master/documentation/code1.3jgtzdbqhjs0.webp)

#### Unicodeæ”¯æŒ

##### codePointAt()

ECMAScript 6æ–°å¢åŠ äº†<u>å®Œå…¨æ”¯æŒUTF-16</u>çš„codePointAt()æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•æ¥å—<u>ç¼–ç å•å…ƒçš„ä½ç½®è€Œéå­—ç¬¦ä½ç½®ä½œä¸ºå‚æ•°</u>ï¼Œè¿”å›ä¸å­—ç¬¦ä¸²ä¸­ç»™å®šä½ç½®å¯¹åº”çš„ç ä½ï¼Œå³ä¸€ä¸ªæ•´æ•°å€¼ã€‚

```javascript
let text = 'ğ ®·a';

console.log(text.charCodeAt(0)); //55362
console.log(text.charCodeAt(1)); //57271
console.log(text.charCodeAt(2)); //97

console.log(text.codePointAt(0)); //134071
console.log(text.codePointAt(1)); //57271
console.log(text.codePointAt(2)); //97
```

**å¯¹äºBMPå­—ç¬¦é›†ä¸­çš„å­—ç¬¦ï¼ŒcodePointAt()æ–¹æ³•çš„è¿”å›å€¼ä¸charCodeAt()æ–¹æ³•çš„ç›¸åŒï¼Œè€Œå¯¹äºéBMPå­—ç¬¦é›†æ¥è¯´è¿”å›å€¼åˆ™ä¸åŒã€‚**å­—ç¬¦ä¸²textä¸­çš„ç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¯éBMPçš„ï¼ŒåŒ…å«ä¸¤ä¸ªç¼–ç å•å…ƒï¼Œæ‰€ä»¥å®ƒçš„lengthå±æ€§å€¼ä¸º3ã€‚charCodeAt()æ–¹æ³•è¿”å›çš„åªæ˜¯ä½ç½®0å¤„çš„ç¬¬ä¸€ä¸ªç¼–ç å•å…ƒï¼Œè€ŒcodePointAt()æ–¹æ³•åˆ™è¿”å›å®Œæ•´çš„ç ä½ï¼Œå³ä½¿è¿™ä¸ªç ä½åŒ…å«å¤šä¸ªç¼–ç å•å…ƒã€‚å¯¹äºä½ç½®1ï¼ˆç¬¬ä¸€ä¸ªå­—ç¬¦çš„ç¬¬äºŒä¸ªç¼–ç å•å…ƒï¼‰å’Œä½ç½®2ï¼ˆå­—ç¬¦â€œaâ€ï¼‰ï¼ŒäºŒè€…çš„è¿”å›å€¼ç›¸åŒã€‚

è¦æ£€æµ‹ä¸€ä¸ªå­—ç¬¦å ç”¨çš„ç¼–ç å•å…ƒæ•°é‡ï¼Œæœ€ç®€å•çš„æ–¹æ³•æ˜¯è°ƒç”¨å­—ç¬¦çš„codePointAt()æ–¹æ³•ï¼Œå¯ä»¥å†™è¿™æ ·çš„ä¸€ä¸ªå‡½æ•°æ¥æ£€æµ‹ï¼š

```javascript
function is32Bit(c) {
  return c.codePointAt(0) > 0XFFFF;  //0xffffæ˜¯65535
}

console.log(is32Bit('ğ ®·')); //true
console.log(is32Bit('a')); //false
```



##### String.fromCodePoint()

ECMAScripté€šå¸¸ä¼šé¢å‘åŒä¸€ä¸ªæ“ä½œæä¾›æ­£åä¸¤ç§æ–¹æ³•ã€‚ä½ å¯ä»¥ä½¿ç”¨codePointAt()æ–¹æ³•åœ¨å­—ç¬¦ä¸²ä¸­æ£€ç´¢ä¸€ä¸ªå­—ç¬¦çš„ç ä½ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨String.fromCodePoint()æ–¹æ³•æ ¹æ®æŒ‡å®šçš„ç ä½ç”Ÿæˆä¸€ä¸ªå­—ç¬¦ã€‚

```javascript
console.log(String.fromCodePoint(134071)); //ğ ®·
```



##### normalize()

Unicodeçš„å¦ä¸€ä¸ªæœ‰è¶£ä¹‹å¤„æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬è¦å¯¹ä¸åŒå­—ç¬¦è¿›è¡Œæ’åºæˆ–æ¯”è¾ƒæ“ä½œï¼Œä¼šå­˜åœ¨ä¸€ç§å¯èƒ½ï¼Œå®ƒä»¬æ˜¯ç­‰æ•ˆçš„ã€‚æœ‰ä¸¤ç§æ–¹å¼å¯ä»¥å®šä¹‰è¿™ç§å…³ç³»ã€‚é¦–å…ˆï¼Œè§„èŒƒçš„ç­‰æ•ˆæ˜¯æŒ‡æ— è®ºä»å“ªä¸ªè§’åº¦æ¥çœ‹ï¼Œä¸¤ä¸ªåºåˆ—çš„ç ä½éƒ½æ˜¯æ²¡æœ‰åŒºåˆ«çš„ï¼›ç¬¬äºŒä¸ªå…³ç³»æ˜¯å…¼å®¹æ€§ï¼Œä¸¤ä¸ªäº’ç›¸å…¼å®¹çš„ç ä½åºåˆ—çœ‹èµ·æ¥ä¸åŒï¼Œä½†æ˜¯åœ¨ç‰¹å®šçš„æƒ…å†µä¸‹å¯ä»¥è¢«äº’ç›¸äº¤æ¢ä½¿ç”¨ã€‚

ä½†å¦‚æœä½ æ›¾ç»å¼€å‘è¿‡ä¸€æ¬¾å›½é™…åŒ–çš„åº”ç”¨ï¼Œé‚£ä¹ˆnormalize()æ–¹æ³•å°±æœ‰ç”¨å¾—å¤šäº†ã€‚

æ‰€ä»¥ï¼Œä»£è¡¨ç›¸åŒæ–‡æœ¬çš„ä¸¤ä¸ªå­—ç¬¦ä¸²å¯èƒ½åŒ…å«ç€ä¸åŒçš„ç ä½åºåˆ—ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå­—ç¬¦â€œÃ¦â€å’Œå«ä¸¤ä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸²â€œaeâ€å¯ä»¥äº’æ¢ä½¿ç”¨ï¼Œä½†æ˜¯ä¸¥æ ¼æ¥è®²å®ƒä»¬ä¸æ˜¯ç­‰æ•ˆçš„ï¼Œé™¤éé€šè¿‡æŸäº›æ–¹æ³•æŠŠè¿™ç§ç­‰æ•ˆå…³ç³»æ ‡å‡†åŒ–ã€‚

ECMAScript 6ä¸ºå­—ç¬¦ä¸²æ·»åŠ äº†ä¸€ä¸ªnormalize()æ–¹æ³•ï¼Œå®ƒå¯ä»¥æä¾›Unicodeçš„æ ‡å‡†åŒ–å½¢å¼ã€‚è¿™ä¸ªæ–¹æ³•æ¥å—ä¸€ä¸ªå¯é€‰çš„å­—ç¬¦ä¸²å‚æ•°ï¼ŒæŒ‡æ˜åº”ç”¨ä»¥ä¸‹çš„æŸç§Unicodeæ ‡å‡†åŒ–å½¢å¼ï¼š

Â· ä»¥æ ‡å‡†ç­‰ä»·æ–¹å¼åˆ†è§£ï¼Œç„¶åä»¥æ ‡å‡†ç­‰ä»·æ–¹å¼é‡ç»„ï¼ˆ"NFC"ï¼‰ï¼Œé»˜è®¤é€‰é¡¹ã€‚

Â· ä»¥æ ‡å‡†ç­‰ä»·æ–¹å¼åˆ†è§£ï¼ˆ"NFD"ï¼‰ã€‚

Â· ä»¥å…¼å®¹ç­‰ä»·æ–¹å¼åˆ†è§£ï¼ˆ"NFKC"ï¼‰ã€‚

Â· ä»¥å…¼å®¹ç­‰ä»·æ–¹å¼åˆ†è§£ï¼Œç„¶åä»¥æ ‡å‡†ç­‰ä»·æ–¹å¼é‡ç»„ï¼ˆ"NFKD"ï¼‰ã€‚

å¯¹äºè¿™4ç§å½¢å¼ä¹‹é—´å·®å¼‚çš„è§£è¯»ä¸åœ¨æœ¬ä¹¦çš„èŒƒå›´ä¹‹å†…ï¼Œä½ åªéœ€ç‰¢è®°**ï¼Œåœ¨å¯¹æ¯”å­—ç¬¦ä¸²ä¹‹å‰ï¼Œä¸€å®šå…ˆæŠŠå®ƒä»¬æ ‡å‡†åŒ–ä¸ºåŒä¸€ç§å½¢å¼ã€‚**ä¸¾ä¸ªä¾‹å­ï¼š

```javascript
let normalized = values.map(function(text) {
  return text.normalize();
})

normalized.sort(function(first, second) {
  if (first < second) {
    return -1;
  } else if (first === second) {
    return 0;
  } else {
    return 1;
  }
})
```

ä»¥ä¸Šè¿™æ®µä»£ç å°†valuesæ•°ç»„ä¸­çš„æ‰€æœ‰å­—ç¬¦ä¸²éƒ½è½¬æ¢æˆåŒä¸€ç§æ ‡å‡†å½¢å¼ï¼Œå› æ­¤è¯¥æ•°ç»„å¯ä»¥è¢«æ­£ç¡®åœ°æ’åºã€‚<u>å¦‚æœä½ æƒ³å¯¹åŸå§‹æ•°ç»„è¿›è¡Œæ’åºï¼Œåˆ™å¯ä»¥åœ¨æ¯”è¾ƒå‡½æ•°ä¸­æ·»åŠ normalize()æ–¹æ³•</u>ï¼Œå°±åƒè¿™æ ·ï¼š

```javascript
values.sort(function(first, second) {
  let firstNormalized = first.nromalize(),
      secondNormalized = second.normalize();
  
  if (firstNormalized < secondNormalized) {
    return -1;
  } else if (firstNormalized === secondNormalized) {
    return 0;
  } else {
    return 1;
  }
})
```

åˆ‡è®°åœ¨è¿›è¡Œæ’åºå’Œæ¯”è¾ƒæ“ä½œå‰ï¼Œå°†è¢«æ“ä½œå­—ç¬¦ä¸²æŒ‰ç…§åŒä¸€æ ‡å‡†è¿›è¡Œæ ‡å‡†åŒ–ã€‚è¿™é‡Œçš„ç¤ºä¾‹éƒ½é‡‡ç”¨é»˜è®¤çš„NFCå½¢å¼ï¼Œä½ ä¹Ÿå¯ä»¥æ˜ç¡®æŒ‡å®šå…¶ä»–å½¢å¼ï¼š

```javascript
values.sort(function(first, second) {
  let firstNormalized = first.nromalize('NFD'),
      secondNormalized = second.normalize('NFD');
  
  if (firstNormalized < secondNormalized) {
    return -1;
  } else if (firstNormalized === secondNormalized) {
    return 0;
  } else {
    return 1;
  }
})
```



#### å­ä¸²è¯†åˆ«

##### includes()

##### startsWith()

##### endsWith()

è‡ªJavaScripté¦–æ¬¡è¢«ä½¿ç”¨ä»¥æ¥ï¼Œå¼€å‘è€…ä»¬å°±å¼€å§‹ä½¿ç”¨indexOf()æ–¹æ³•æ¥åœ¨ä¸€æ®µå­—ç¬¦ä¸²ä¸­æ£€æµ‹å¦ä¸€æ®µå­å­—ç¬¦ä¸²ï¼Œè€Œåœ¨ECMAScript 6ä¸­ï¼Œæä¾›äº†ä»¥ä¸‹3ä¸ªç±»ä¼¼çš„æ–¹æ³•å¯ä»¥è¾¾åˆ°ç›¸åŒæ•ˆæœï¼š

* includes()æ–¹æ³•ï¼Œå¦‚æœåœ¨å­—ç¬¦ä¸²ä¸­æ£€æµ‹åˆ°æŒ‡å®šæ–‡æœ¬åˆ™è¿”å›trueï¼Œå¦åˆ™è¿”å›false
* startsWith()æ–¹æ³•ï¼Œå¦‚æœåœ¨å­—ç¬¦ä¸²çš„èµ·å§‹éƒ¨åˆ†æ£€æµ‹åˆ°æŒ‡å®šæ–‡æœ¬åˆ™è¿”å›trueï¼Œå¦åˆ™è¿”å›false
* endsWith()æ–¹æ³•ï¼Œå¦‚æœåœ¨å­—ç¬¦ä¸²çš„ç»“æŸéƒ¨åˆ†æ£€æµ‹åˆ°æŒ‡å®šæ–‡æœ¬åˆ™è¿”å›trueï¼Œå¦åˆ™è¿”å›falseã€‚

ä»¥ä¸Šçš„3ä¸ªæ–¹æ³•éƒ½æ¥å—ä¸¤ä¸ªå‚æ•°ï¼š

ç¬¬ä¸€ä¸ªå‚æ•°æŒ‡å®šè¦æœç´¢çš„æ–‡æœ¬ï¼›

ç¬¬äºŒä¸ªå‚æ•°æ˜¯å¯é€‰çš„ï¼ŒæŒ‡å®šä¸€ä¸ªå¼€å§‹æœç´¢çš„ä½ç½®çš„ç´¢å¼•å€¼ã€‚

å¦‚æœæŒ‡å®šäº†ç¬¬äºŒä¸ªå‚æ•°ï¼Œåˆ™includes()æ–¹æ³•å’ŒstartsWith()æ–¹æ³•ä¼šä»è¿™ä¸ªç´¢å¼•å€¼çš„ä½ç½®å¼€å§‹åŒ¹é…ï¼ŒendsWith()æ–¹æ³•åˆ™ä»å­—ç¬¦ä¸²é•¿åº¦å‡å»è¿™ä¸ªç´¢å¼•å€¼çš„ä½ç½®å¼€å§‹åŒ¹é…ï¼›å¦‚æœä¸æŒ‡å®šç¬¬äºŒä¸ªå‚æ•°ï¼Œincludes()æ–¹æ³•å’ŒstartsWith()æ–¹æ³•ä¼šä»å­—ç¬¦ä¸²èµ·å§‹å¤„å¼€å§‹åŒ¹é…ï¼ŒendsWith()æ–¹æ³•ä»å­—ç¬¦ä¸²æœ«å°¾å¤„å¼€å§‹åŒ¹é…ã€‚å®é™…ä¸Šï¼ŒæŒ‡å®šç¬¬äºŒä¸ªå‚æ•°ä¼šå¤§å¤§å‡å°‘å­—ç¬¦ä¸²è¢«æœç´¢çš„èŒƒå›´ã€‚

##### ES6æ–¹æ³•å’ŒES5æ¯”è¾ƒ

å°½ç®¡è¿™3ä¸ªæ–¹æ³•æ‰§è¡Œåè¿”å›çš„éƒ½æ˜¯å¸ƒå°”å€¼ï¼Œä¹Ÿæå¤§åœ°ç®€åŒ–äº†å­ä¸²åŒ¹é…çš„æ–¹æ³•ï¼Œä½†æ˜¯å¦‚æœä½ éœ€è¦åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­å¯»æ‰¾å¦ä¸€ä¸ªå­å­—ç¬¦ä¸²çš„å®é™…ä½ç½®ï¼Œè¿˜éœ€ä½¿ç”¨indexOf()æ–¹æ³•æˆ–lastIndexOf()æ–¹æ³•ã€‚

å¯¹äºstartsWith()ã€endsWith()åŠincludes()è¿™3ä¸ªæ–¹æ³•ï¼Œå¦‚æœä½ æ²¡æœ‰æŒ‰ç…§è¦æ±‚ä¼ å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè€Œæ˜¯ä¼ å…¥ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼Œåˆ™ä¼šè§¦å‘ä¸€ä¸ªé”™è¯¯äº§ç”Ÿï¼›è€Œå¯¹äºindexOf()å’Œ???





#### concat()

**å®šä¹‰**

**`concat()`** æ–¹æ³•å°†ä¸€ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ä¸²ä¸åŸå­—ç¬¦ä¸²è¿æ¥åˆå¹¶ï¼Œå½¢æˆä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²å¹¶è¿”å›

**å‚æ•°**

```javascript
str.concat(str2,[, ...strN])
```

`str2 [, ...strN]`  éœ€è¦è¿æ¥åˆ°strçš„å­—ç¬¦ä¸²

**è¿”å›å€¼**

ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼ŒåŒ…å«å‚æ•°æ‰€æä¾›çš„è¿æ¥å­—ç¬¦ä¸²

**æè¿°**

* `concat` æ–¹æ³•å°†ä¸€ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ä¸²ä¸åŸå­—ç¬¦ä¸²è¿æ¥åˆå¹¶ï¼Œå½¢æˆä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²å¹¶è¿”å›ã€‚ `concat` æ–¹æ³•å¹¶ä¸å½±å“åŸå­—ç¬¦ä¸²ã€‚

* å¦‚æœå‚æ•°ä¸æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œå®ƒä»¬åœ¨è¿æ¥ä¹‹å‰å°†ä¼šè¢«è½¬æ¢æˆå­—ç¬¦ä¸²
* å¼ºçƒˆå»ºè®®ä½¿ç”¨[èµ‹å€¼æ“ä½œç¬¦](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Assignment_Operators)ï¼ˆ`+`, `+=`ï¼‰ä»£æ›¿ `concat` æ–¹æ³•. `concat`å­˜åœ¨æ€§èƒ½é—®é¢˜.

```HTML
"".concat({})    // [object Object]
"".concat([])    // ""
"".concat(null)  // "null"
"".concat(true)  // "true"
"".concat(4, 5)  // "45"
```



#### includes()

**å®šä¹‰**

**`includes()`** æ–¹æ³•ç”¨äºåˆ¤æ–­ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦åŒ…å«åœ¨å¦ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ï¼Œæ ¹æ®æƒ…å†µè¿”å› true æˆ– falseã€‚

**å‚æ•°**

```javascript
str.includes(searchString[, fromIndex])
```

`searchString` è¦æœç´¢çš„å­—ç¬¦ä¸²

`fromIndex` **å¯é€‰** 

* ä»å½“å‰å­—ç¬¦ä¸²çš„å“ªä¸ªç´¢å¼•ä½ç½®å¼€å§‹æœå¯»å­å­—ç¬¦ä¸²ï¼Œé»˜è®¤å€¼ä¸º `0`

**æè¿°**

* åŒºåˆ†å¤§å°å†™



#### indexOf()

**å®šä¹‰**

`indexOf()` æ–¹æ³•è¿”å›è°ƒç”¨å®ƒçš„ [`String`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String) å¯¹è±¡ä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„æŒ‡å®šå€¼çš„ç´¢å¼•ï¼Œä» `fromIndex` å¤„è¿›è¡Œæœç´¢ã€‚å¦‚æœæœªæ‰¾åˆ°è¯¥å€¼ï¼Œåˆ™è¿”å› -1ã€‚

**å‚æ•°**

```javascript
str.indexOf(searchValue[, fromIndex]);
```

`searchValue` è¦è¢«æŸ¥æ‰¾çš„å­—ç¬¦ä¸²å€¼

* å¦‚æœæ²¡æœ‰æä¾›ç¡®åˆ‡åœ°æä¾›å­—ç¬¦ä¸²ï¼Œ[searchValue ä¼šè¢«å¼ºåˆ¶è®¾ç½®ä¸º `"undefined"`](https://tc39.github.io/ecma262/#sec-tostring)ï¼Œ ç„¶ååœ¨å½“å‰å­—ç¬¦ä¸²ä¸­æŸ¥æ‰¾è¿™ä¸ªå€¼ã€‚
* ä¸¾ä¸ªä¾‹å­ï¼š`'undefined'.indexOf()` å°†ä¼šè¿”å›0ï¼Œå› ä¸º `undefined` åœ¨ä½ç½®0å¤„è¢«æ‰¾åˆ°ï¼Œä½†æ˜¯ `'undefine'.indexOf()` å°†ä¼šè¿”å› -1 ï¼Œå› ä¸ºå­—ç¬¦ä¸² `'undefined'` æœªè¢«æ‰¾åˆ°ã€‚

`fromIndex` **å¯é€‰** 

* æ•°å­—è¡¨ç¤ºå¼€å§‹æŸ¥æ‰¾çš„ä½ç½®ã€‚å¯ä»¥æ˜¯ä»»æ„æ•´æ•°ï¼Œé»˜è®¤å€¼ä¸º `0`
* å¦‚æœ `fromIndex` çš„å€¼å°äº `0`ï¼Œæˆ–è€…å¤§äº `str.length` ï¼Œé‚£ä¹ˆæŸ¥æ‰¾åˆ†åˆ«ä» `0` å’Œ`str.length` å¼€å§‹ã€‚ï¼ˆè¯‘è€…æ³¨ï¼š `fromIndex` çš„å€¼å°äº `0`ï¼Œç­‰åŒäºä¸ºç©ºæƒ…å†µï¼› `fromIndex` çš„å€¼å¤§äºæˆ–ç­‰äº `str.length` ï¼Œé‚£ä¹ˆç»“æœä¼šç›´æ¥è¿”å› `-1` ã€‚ï¼‰

**è¿”å›å€¼**

* æŸ¥æ‰¾çš„å­—ç¬¦ä¸² `searchValue` çš„ç¬¬ä¸€æ¬¡å‡ºç°çš„ç´¢å¼•ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™è¿”å› `-1`

* è‹¥è¢«æŸ¥æ‰¾çš„å­—ç¬¦ä¸² `searchValue` æ˜¯ä¸€ä¸ª<u>ç©ºå­—ç¬¦ä¸²</u>ï¼Œå°†ä¼šäº§ç”Ÿâ€œå¥‡æ€ªâ€çš„ç»“æœã€‚å¦‚æœ `fromIndex` å€¼ä¸ºç©ºï¼Œæˆ–è€… `fromIndex` å€¼å°äºè¢«æŸ¥æ‰¾çš„å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œè¿”å›å€¼å’Œä»¥ä¸‹çš„ `fromIndex` å€¼ä¸€æ ·
* å¦‚æœ `fromIndex` å€¼å¤§äºç­‰äºå­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œå°†ä¼šç›´æ¥è¿”å›å­—ç¬¦ä¸²çš„é•¿åº¦ï¼ˆ`str.length`ï¼‰

```javascript
'hello world'.indexOf('') // è¿”å› 0
'hello world'.indexOf('', 0) // è¿”å› 0
'hello world'.indexOf('', 3) // è¿”å› 3
'hello world'.indexOf('', 8) // è¿”å› 8
"Blue Whale".indexOf("", -1)       // è¿”å› 0

'hello world'.indexOf('', 11) // è¿”å› 11
'hello world'.indexOf('', 13) // è¿”å› 11
'hello world'.indexOf('', 22) // è¿”å› 11
```

**æè¿°**

* `indexOf` æ–¹æ³•æ˜¯åŒºåˆ†å¤§å°å†™çš„

```javascript
"Blue Whale".indexOf("blue")      // è¿”å› -1
```

**å®ä¾‹**

[ä½¿ç”¨ `indexOf` ç»Ÿè®¡ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­æŸä¸ªå­—æ¯å‡ºç°çš„æ¬¡æ•°](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/indexOf#ä½¿ç”¨_indexof_ç»Ÿè®¡ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­æŸä¸ªå­—æ¯å‡ºç°çš„æ¬¡æ•°)

```javascript
var str = 'To be, or not to be, that is the question.';
var count = 0;
var pos = str.indexOf('e');

while(pos !== -1) {
  count++;
  pos = str.indexOf('e', pos+1)
}
```







#### lastIndexOf()

**å®šä¹‰**

 **`lastIndexOf()`** æ–¹æ³•è¿”å›è°ƒç”¨[`String`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String) å¯¹è±¡çš„æŒ‡å®šå€¼æœ€åä¸€æ¬¡å‡ºç°çš„ç´¢å¼•ï¼Œåœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­çš„æŒ‡å®šä½ç½® `fromIndex`å¤„ä»åå‘å‰æœç´¢ã€‚å¦‚æœæ²¡æ‰¾åˆ°è¿™ä¸ªç‰¹å®šå€¼åˆ™è¿”å›-1 ã€‚

**å‚æ•°**

```javascript
str.lastIndexOf(searchValue[, fromIndex])
```

`searchValue` ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºè¢«æŸ¥æ‰¾çš„å€¼ã€‚

* å¦‚æœ`searchValue`æ˜¯ç©ºå­—ç¬¦ä¸²ï¼Œåˆ™è¿”å›`fromIndex`

`fromIndex` **å¯é€‰**

* å¾…åŒ¹é…å­—ç¬¦ä¸²searchValueçš„å¼€å¤´ä¸€ä½å­—ç¬¦ä» strçš„ç¬¬fromIndexä½å¼€å§‹å‘å·¦å›å‘æŸ¥æ‰¾ã€‚
* `fromIndex`é»˜è®¤å€¼æ˜¯ `+Infinity`ã€‚
* å¦‚æœ `fromIndex >= str.length` ï¼Œåˆ™ä¼šæœç´¢æ•´ä¸ªå­—ç¬¦ä¸²ã€‚
* å¦‚æœ `fromIndex < 0` ï¼Œåˆ™ç­‰åŒäº `fromIndex == 0`ã€‚

**è¿”å›å€¼**

è¿”å›æŒ‡å®šå€¼æœ€åä¸€æ¬¡å‡ºç°çš„ç´¢å¼•(è¯¥ç´¢å¼•ä»æ˜¯ä»¥ä»å·¦è‡³å³0å¼€å§‹è®°æ•°çš„)ï¼Œå¦‚æœæ²¡æ‰¾åˆ°åˆ™è¿”å›-1ã€‚

**æè¿°**

* `'abab'.lastIndexOf('ab', 2)` å°†è¿”å› 2 è€Œä¸æ˜¯ 0, å› ä¸ºfromIndexåªé™åˆ¶å¾…åŒ¹é…å­—ç¬¦ä¸²çš„å¼€å¤´
* `lastIndexOf` æ–¹æ³•åŒºåˆ†å¤§å°å†™

```javascript
'canal'.lastIndexOf('a');     // returns 3 ï¼ˆæ²¡æœ‰æŒ‡æ˜fromIndexåˆ™ä»æœ«å°¾lå¤„å¼€å§‹åå‘æ£€ç´¢åˆ°çš„ç¬¬ä¸€ä¸ªaå‡ºç°åœ¨lçš„åé¢ï¼Œå³indexä¸º3çš„ä½ç½®ï¼‰
'canal'.lastIndexOf('a', 2);  // returns 1ï¼ˆæŒ‡æ˜fromIndexä¸º2åˆ™ä»nå¤„åå‘å‘å›æ£€ç´¢åˆ°å…¶åé¢å°±æ˜¯aï¼Œå³indexä¸º1çš„ä½ç½®ï¼‰
'canal'.lastIndexOf('a', 0);  // returns -1(æŒ‡æ˜fromIndexä¸º0åˆ™ä»cå¤„å‘å·¦å›å‘æ£€ç´¢aå‘ç°æ²¡æœ‰ï¼Œæ•…è¿”å›-1)
'canal'.lastIndexOf('x');     // returns -1
'canal'.lastIndexOf('c', -5); // returns 0ï¼ˆæŒ‡æ˜fromIndexä¸º-5åˆ™è§†åŒ0ï¼Œä»cå¤„å‘å·¦å›å‘æŸ¥æ‰¾å‘ç°è‡ªå·±å°±æ˜¯ï¼Œæ•…è¿”å›0ï¼‰
'canal'.lastIndexOf('c', 0);  // returns 0ï¼ˆæŒ‡æ˜fromIndexä¸º0åˆ™ä»cå¤„å‘å·¦å›å‘æŸ¥æ‰¾cå‘ç°è‡ªå·±å°±æ˜¯ï¼Œæ•…è¿”å›è‡ªå·±çš„ç´¢å¼•0ï¼‰
'canal'.lastIndexOf('');      // returns 5
'canal'.lastIndexOf('', 2);   // returns 2


"blue Whale, Killer Whale".lastIndexOf("blue"); // returns 0

"Blue Whale, Killer Whale".lastIndexOf("blue"); // returns -1
```



#### match()

**å®šä¹‰**

 **`match()`** æ–¹æ³•æ£€ç´¢è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼çš„ç»“æœ

**å‚æ•°**

```javascript
str.match(regexp)
```

`regexp` ä¸€ä¸ª[æ­£åˆ™è¡¨è¾¾å¼](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp)å¯¹è±¡ã€‚

* å¦‚æœä¼ å…¥ä¸€ä¸ªéæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ï¼Œåˆ™ä¼šéšå¼åœ°ä½¿ç”¨ `new RegExp(obj)` å°†å…¶è½¬æ¢ä¸ºä¸€ä¸ª [`RegExp`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp) ã€‚
* å¦‚æœä½ æ²¡æœ‰ç»™å‡ºä»»ä½•å‚æ•°å¹¶ç›´æ¥ä½¿ç”¨match() æ–¹æ³• ï¼Œä½ å°†ä¼šå¾—åˆ°ä¸€ ä¸ªåŒ…å«ç©ºå­—ç¬¦ä¸²çš„ [`Array`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array) ï¼š[""] ã€‚

**è¿”å›å€¼**

* å¦‚æœä½¿ç”¨gæ ‡å¿—ï¼Œåˆ™å°†è¿”å›ä¸å®Œæ•´æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„æ‰€æœ‰ç»“æœï¼Œä½†ä¸ä¼šè¿”å›æ•è·ç»„ã€‚
* å¦‚æœæœªä½¿ç”¨gæ ‡å¿—ï¼Œåˆ™ä»…è¿”å›ç¬¬ä¸€ä¸ªå®Œæ•´åŒ¹é…åŠå…¶ç›¸å…³çš„æ•è·ç»„ï¼ˆ`Array`ï¼‰ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¿”å›çš„é¡¹ç›®å°†å…·æœ‰å¦‚ä¸‹æ‰€è¿°çš„å…¶ä»–å±æ€§ã€‚
  * `groups`: ä¸€ä¸ªæ•è·ç»„æ•°ç»„ æˆ– [`undefined`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/undefined)ï¼ˆå¦‚æœæ²¡æœ‰å®šä¹‰å‘½åæ•è·ç»„ï¼‰
  * `index`: åŒ¹é…çš„ç»“æœçš„å¼€å§‹ä½ç½®
  * `input`: æœç´¢çš„å­—ç¬¦ä¸²

ä¸€ä¸ª[`Array`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array)ï¼Œå…¶å†…å®¹å–å†³äºglobalï¼ˆ`g`ï¼‰æ ‡å¿—çš„å­˜åœ¨ä¸å¦ï¼Œå¦‚æœæœªæ‰¾åˆ°åŒ¹é…åˆ™ä¸º[`null`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/null)

```javascript
const paragraph = 'The quick brown fox jumps over the lazy dog. It barked.';
const regex = /[A-Z]/g;
const found = paragraph.match(regex);

console.log(found); //['T', 'I']


const regex = /[A-Z]/;
const found = paragraph.match(regex);
console.log(found); 

//['T', index: 0, input: 'The quick brown fox jumps over the lazy dog. It barked.', groups: undefined]
```



**æè¿°**

* å¦‚æœæ­£åˆ™è¡¨è¾¾å¼ä¸åŒ…å« `g `æ ‡å¿—ï¼Œ`str.match()` å°†è¿”å›ä¸ [`RegExp.exec()`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp/exec)ç›¸åŒçš„ç»“æœ

**å®ä¾‹**

ä½¿ç”¨ `match` æŸ¥æ‰¾ "`Chapter`" ç´§è·Ÿç€ 1 ä¸ªæˆ–å¤šä¸ªæ•°å€¼å­—ç¬¦ï¼Œå†ç´§è·Ÿç€ä¸€ä¸ªå°æ•°ç‚¹å’Œæ•°å€¼å­—ç¬¦ 0 æ¬¡æˆ–å¤šæ¬¡ã€‚æ­£åˆ™è¡¨è¾¾å¼åŒ…å« `i` æ ‡å¿—ï¼Œå› æ­¤å¤§å°å†™ä¼šè¢«å¿½ç•¥ ????

```javascript
let str = 'For more information, see Chapter 3.4.5.1',
    re = /see (Chapter \d+(\.\d)*)/i,
    found = str.match(re);

console.log(found)
            
            
// logs [ 'see Chapter 3.4.5.1',
//        'Chapter 3.4.5.1',
//        '.1',
//        index: 22,
//        input: 'For more information, see Chapter 3.4.5.1' ]

// 'see Chapter 3.4.5.1' æ˜¯æ•´ä¸ªåŒ¹é…ã€‚
// 'Chapter 3.4.5.1' è¢«'(chapter \d+(\.\d)*)'æ•è·ã€‚
// '.1' æ˜¯è¢«'(\.\d)'æ•è·çš„æœ€åä¸€ä¸ªå€¼ã€‚
// 'index' å±æ€§(22) æ˜¯æ•´ä¸ªåŒ¹é…ä»é›¶å¼€å§‹çš„ç´¢å¼•ã€‚
// 'input' å±æ€§æ˜¯è¢«è§£æçš„åŸå§‹å­—ç¬¦ä¸²ã€‚
```

[`match` ä½¿ç”¨å…¨å±€ï¼ˆglobalï¼‰å’Œå¿½ç•¥å¤§å°å†™ï¼ˆignore caseï¼‰æ ‡å¿—](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/match#example_using_global_and_ignore_case_flags_with_match)

```javascript
var str = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';
var regexp = /[A-E]/gi;
var matches_array = str.match(regexp);

console.log(matches_array);
// ['A', 'B', 'C', 'D', 'E', 'a', 'b', 'c', 'd', 'e']
```

[`ä½¿ç”¨match()ï¼Œä¸ä¼ å‚æ•°`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/match#ä½¿ç”¨matchï¼Œä¸ä¼ å‚æ•°)

```javascript
var str = "Nothing will come of nothing.";

str.match();   // returns [""]
```

[ä¸€ä¸ªéæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ä½œä¸ºå‚æ•°](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/match#ä¸€ä¸ªéæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ä½œä¸ºå‚æ•°)

å½“å‚æ•°æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–ä¸€ä¸ªæ•°å­—ï¼Œå®ƒä¼šä½¿ç”¨new RegExp(obj)æ¥éšå¼è½¬æ¢æˆä¸€ä¸ª [`RegExp`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp)ã€‚å¦‚æœå®ƒæ˜¯ä¸€ä¸ªæœ‰æ­£å·çš„æ­£æ•°ï¼ŒRegExp() æ–¹æ³•å°†å¿½ç•¥æ­£å·ã€‚

```javascript
var str1 = "NaN means not a number. Infinity contains -Infinity and +Infinity in JavaScript.",
    str2 = "My grandfather is 65 years old and My grandmother is 63 years old.",
    str3 = "The contract was declared null and void.";


str1.match("number");   // "number" æ˜¯å­—ç¬¦ä¸²ã€‚è¿”å›["number"]
str1.match(NaN);        // NaNçš„ç±»å‹æ˜¯numberã€‚è¿”å›["NaN"]
str1.match(Infinity);   // Infinityçš„ç±»å‹æ˜¯numberã€‚è¿”å›["Infinity"]
str1.match(+Infinity);  // è¿”å›["Infinity"]
str1.match(-Infinity);  // è¿”å›["-Infinity"]
str2.match(65);         // è¿”å›["65"]
str2.match(+65);        // æœ‰æ­£å·çš„numberã€‚è¿”å›["65"]
str3.match(null);       // è¿”å›["null"]
```



#### matchAll()

**å®šä¹‰**

**`matchAll()`** æ–¹æ³•è¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼çš„ç»“æœåŠåˆ†ç»„æ•è·ç»„çš„è¿­ä»£å™¨

```javascript
const regexp = /t(e)(st(\d?))/g;
const str = 'test1test2';

const array = [...str.matchAll(regexp)];
console.log(array)

//
[
  ['test1', 'e', 'st1', '1', index: 0, input: 'test1test2', groups: undefined],
  ['test2', 'e', 'st2', '2', index: 5, input: 'test1test2', groups: undefined]
]
```

**å‚æ•°**

`regexp`  æ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡

* å¦‚æœæ‰€ä¼ å‚æ•°ä¸æ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ï¼Œåˆ™ä¼šéšå¼åœ°ä½¿ç”¨ `new RegExp(obj)` å°†å…¶è½¬æ¢ä¸ºä¸€ä¸ª [`RegExp`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/RegExp) ã€‚

* `RegExp`å¿…é¡»æ˜¯è®¾ç½®äº†å…¨å±€æ¨¡å¼`g`çš„å½¢å¼ï¼Œå¦åˆ™ä¼šæŠ›å‡ºå¼‚å¸¸`TypeError`ã€‚

**è¿”å›å€¼**

ä¸€ä¸ªè¿­ä»£å™¨ï¼ˆä¸å¯é‡ç”¨ï¼Œç»“æœè€—å°½éœ€è¦å†æ¬¡è°ƒç”¨æ–¹æ³•ï¼Œè·å–ä¸€ä¸ªæ–°çš„è¿­ä»£å™¨ï¼‰

**å®ä¾‹**

åœ¨ `matchAll` å‡ºç°ä¹‹å‰ï¼Œé€šè¿‡åœ¨å¾ªç¯ä¸­è°ƒç”¨ `regexp.exec()` æ¥è·å–æ‰€æœ‰åŒ¹é…é¡¹ä¿¡æ¯ï¼ˆregexp éœ€ä½¿ç”¨ `/g` æ ‡å¿—ï¼‰

```javascript
const regexp = RegExp('foo[a-z]*','g');
const str = 'table football, foosball';
let match;

while ((match = regexp.exec(str)) !== null) {
  console.log(`Found ${match[0]} start=${match.index} end=${regexp.lastIndex}.`);
  // expected output: "Found football start=6 end=14."
  // expected output: "Found foosball start=16 end=24."
}
```

å¦‚æœä½¿ç”¨ `matchAll` ï¼Œå°±å¯ä»¥ä¸å¿…ä½¿ç”¨ while å¾ªç¯åŠ  exec æ–¹å¼ï¼ˆä¸”æ­£åˆ™è¡¨è¾¾å¼éœ€ä½¿ç”¨ `/g` æ ‡å¿—ï¼‰ã€‚ä½¿ç”¨ `matchAll` ä¼šå¾—åˆ°ä¸€ä¸ªè¿­ä»£å™¨çš„è¿”å›å€¼ï¼Œé…åˆ `for...of`, [array spread](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax), æˆ–è€… [`Array.from()`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/from) å¯ä»¥æ›´æ–¹ä¾¿å®ç°åŠŸèƒ½ï¼š

```javascript
const regexp = RegExp('foo[a-z]*','g');
const str = 'table football, foosball';
const matches = str.matchAll(regexp);

for (const match of matches) {
  console.log(`Found ${match[0]} start=${match.index} end=${match.index + match[0].length}.`);
}
// expected output: "Found football start=6 end=14."
// expected output: "Found foosball start=16 end=24."

// matches iterator is exhausted after the for..of iteration
// Call matchAll again to create a new iterator
Array.from(str.matchAll(regexp), m => m[0]);
// Array [ "football", "foosball" ]
```

å¦‚æœæ²¡æœ‰ `/g` æ ‡å¿—ï¼Œ`matchAll` ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚

```javascript
const regexp = RegExp('[a-c]','');
const str = 'abc';
Array.from(str.matchAll(regexp), m => m[0]);
// TypeError: String.prototype.matchAll called with a non-global RegExp argument
```

`matchAll` å†…éƒ¨åšäº†ä¸€ä¸ª regexp çš„å¤åˆ¶ï¼Œæ‰€ä»¥ä¸åƒ [regexp.exec](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/exec), `lastIndex` åœ¨å­—ç¬¦ä¸²æ‰«ææ—¶ä¸ä¼šæ”¹å˜ã€‚????

```javascript
const regexp = RegExp('[a-c]','g');
regexp.lastIndex = 1;
const str = 'abc';
Array.from(str.matchAll(regexp), m => `${regexp.lastIndex} ${m[0]}`);
// Array [ "1 b", "1 c" ]
```

`matchAll` çš„å¦å¤–ä¸€ä¸ªäº®ç‚¹æ˜¯æ›´å¥½åœ°è·å–æ•è·ç»„ã€‚å› ä¸ºå½“ä½¿ç”¨ `match()` å’Œ `/g` æ ‡å¿—æ–¹å¼è·å–åŒ¹é…ä¿¡æ¯æ—¶ï¼Œæ•è·ç»„ä¼šè¢«å¿½ç•¥ï¼š

```javascript
let array = [...str.matchAll(regexp)];

array[0];
// ['test1', 'e', 'st1', '1', index: 0, input: 'test1test2', length: 4]
array[1];
// ['test2', 'e', 'st2', '2', index: 5, input: 'test1test2', length: 4]
```





#### repeat()

**å®šä¹‰**

ECMAScript 6è¿˜ä¸ºå­—ç¬¦ä¸²å¢æ·»äº†ä¸€ä¸ªrepeat()æ–¹æ³•ï¼Œå…¶æ¥å—ä¸€ä¸ªnumberç±»å‹çš„å‚æ•°ï¼Œè¡¨ç¤ºè¯¥å­—ç¬¦ä¸²çš„é‡å¤æ¬¡æ•°ï¼Œè¿”å›å€¼æ˜¯å½“å‰å­—ç¬¦ä¸²é‡å¤ä¸€å®šæ¬¡æ•°åçš„æ–°å­—ç¬¦ä¸²

**å‚æ•°**

```javascript
str.repeat(count)
```

`count`  ä»‹äº `0` å’Œ [`+Infinity`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Number/POSITIVE_INFINITY) ä¹‹é—´çš„æ•´æ•°ã€‚è¡¨ç¤ºåœ¨æ–°æ„é€ çš„å­—ç¬¦ä¸²ä¸­é‡å¤äº†å¤šå°‘éåŸå­—ç¬¦ä¸²

**è¿”å›å€¼**

åŒ…å«æŒ‡å®šå­—ç¬¦ä¸²çš„æŒ‡å®šæ•°é‡å‰¯æœ¬çš„æ–°å­—ç¬¦ä¸²

**æè¿°**

* [`RangeError`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Errors/Negative_repetition_count): é‡å¤æ¬¡æ•°ä¸èƒ½ä¸ºè´Ÿæ•°ã€‚
* [`RangeError`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Errors/Resulting_string_too_large): é‡å¤æ¬¡æ•°å¿…é¡»å°äº infinityï¼Œä¸”é•¿åº¦ä¸ä¼šå¤§äºæœ€é•¿çš„å­—ç¬¦ä¸²ã€‚

**å®ä¾‹**

```javascript
"abc".repeat(-1)     // RangeError: repeat count must be positive and less than inifinity
"abc".repeat(0)      // ""
"abc".repeat(1)      // "abc"
"abc".repeat(2)      // "abcabc"
"abc".repeat(3.5)    // "abcabcabc" å‚æ•°countå°†ä¼šè¢«è‡ªåŠ¨è½¬æ¢æˆæ•´æ•°.
"abc".repeat(1/0)    // RangeError: repeat count must be positive and less than inifinity

({toString : () => "abc", repeat : String.prototype.repeat}).repeat(2)
//"abcabc",repeatæ˜¯ä¸€ä¸ªé€šç”¨æ–¹æ³•,ä¹Ÿå°±æ˜¯å®ƒçš„è°ƒç”¨è€…å¯ä»¥ä¸æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²å¯¹è±¡.
```

ä½¿ç”¨åœºæ™¯.ä¾‹å¦‚å…¶åœ¨æ“ä½œæ–‡æœ¬æ—¶éå¸¸æœ‰ç”¨ï¼Œæ¯”å¦‚åœ¨ä»£ç æ ¼å¼åŒ–å·¥å…·ä¸­åˆ›å»ºç¼©è¿›çº§åˆ«ï¼Œ

```javascript
//ç¼©è¿›æŒ‡å®šæ•°é‡çš„ç©ºæ ¼
let indent = ' '.repeat(4),
    indentLevel = 0;

//å½“éœ€è¦å¢åŠ ç¼©è¿›æ—¶
let newIndent = indent.repeat(++indentLevel);
```



#### replace()

**å®šä¹‰**

**`replace()`** æ–¹æ³•è¿”å›ä¸€ä¸ªç”±æ›¿æ¢å€¼ï¼ˆ`replacement`ï¼‰æ›¿æ¢éƒ¨åˆ†æˆ–æ‰€æœ‰çš„æ¨¡å¼ï¼ˆ`pattern`ï¼‰åŒ¹é…é¡¹åçš„æ–°å­—ç¬¦ä¸²ã€‚æ¨¡å¼å¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–è€…ä¸€ä¸ª[æ­£åˆ™è¡¨è¾¾å¼](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp)ï¼Œæ›¿æ¢å€¼å¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–è€…ä¸€ä¸ªæ¯æ¬¡åŒ¹é…éƒ½è¦è°ƒç”¨çš„å›è°ƒå‡½æ•°ã€‚<span style="color:blue">**å¦‚æœ`pattern`æ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™ä»…æ›¿æ¢ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹ã€‚**</span>

åŸå­—ç¬¦ä¸²ä¸ä¼šæ”¹å˜

**å‚æ•°**

```javascript
replace(regexp, newSubstr)
replace(regexp, replacerFunction)

replace(substr, newSubstr)
replace(substr, replacerFunction)
```

`regexp(pattern)` 

* ä¸€ä¸ª[`RegExp`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp) å¯¹è±¡æˆ–è€…å…¶å­—é¢é‡ã€‚è¯¥æ­£åˆ™æ‰€åŒ¹é…çš„å†…å®¹ä¼šè¢«ç¬¬äºŒä¸ªå‚æ•°çš„è¿”å›å€¼æ›¿æ¢æ‰

`substr(pattern)`

* ä¸€ä¸ªå°†è¢« `newSubStr` æ›¿æ¢çš„ [`å­—ç¬¦ä¸²`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String)ã€‚å…¶è¢«è§†ä¸ºä¸€æ•´ä¸ªå­—ç¬¦ä¸²ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ã€‚ä»…ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹ä¼šè¢«æ›¿æ¢ã€‚

`newSubStr(replacement)`

* ç”¨äºæ›¿æ¢æ‰ç¬¬ä¸€ä¸ªå‚æ•°åœ¨åŸå­—ç¬¦ä¸²ä¸­çš„åŒ¹é…éƒ¨åˆ†çš„[`å­—ç¬¦ä¸²`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String)ã€‚è¯¥å­—ç¬¦ä¸²ä¸­å¯ä»¥å†…æ’ä¸€äº›ç‰¹æ®Šçš„å˜é‡åã€‚å‚è€ƒä¸‹é¢çš„[ä½¿ç”¨å­—ç¬¦ä¸²ä½œä¸ºå‚æ•°](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/replace#ä½¿ç”¨å­—ç¬¦ä¸²ä½œä¸ºå‚æ•°)ã€‚

`function(replacement)`

* ä¸€ä¸ªç”¨æ¥åˆ›å»ºæ–°å­å­—ç¬¦ä¸²çš„å‡½æ•°ï¼Œè¯¥å‡½æ•°çš„è¿”å›å€¼å°†æ›¿æ¢æ‰==ç¬¬ä¸€ä¸ªå‚æ•°==åŒ¹é…åˆ°çš„ç»“æœã€‚å‚è€ƒä¸‹é¢çš„[æŒ‡å®šä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/replace#æŒ‡å®šä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°)ã€‚

**æè¿°**
* è¯¥æ–¹æ³•å¹¶ä¸æ”¹å˜è°ƒç”¨å®ƒçš„å­—ç¬¦ä¸²æœ¬èº«ï¼Œè€Œåªæ˜¯è¿”å›ä¸€ä¸ªæ–°çš„æ›¿æ¢åçš„å­—ç¬¦ä¸²ã€‚
* <span style="color:blue">åœ¨è¿›è¡Œå…¨å±€çš„æœç´¢æ›¿æ¢æ—¶ï¼Œæ­£åˆ™è¡¨è¾¾å¼éœ€åŒ…å« `g` æ ‡å¿—</span>

**ä½¿ç”¨å­—ç¬¦ä¸²ä½œä¸ºå‚æ•°**
æ›¿æ¢çº¸å­—ç¬¦ä¸²å¯ä»¥åŒ…å«ä»¥ä¸‹æŒ‡å®šçš„æ›¿ä»£æ¨¡å¼:

| å˜é‡å    | ä»£è¡¨çš„å€¼                                                     |
| --------- | ------------------------------------------------------------ |
| \$\$        | æ’å…¥ä¸€ä¸ª'$'                                                  |
| \$\&        | inserts the matched substring  (ä¸ regexp ç›¸åŒ¹é…çš„å­ä¸²)      |
| \$\`        | æ’å…¥å½“å‰åŒ¹é…çš„å­—ä¸²å·¦è¾¹çš„å†…å®¹                                 |
| \$\'        | æ’å…¥å½“å‰åŒ¹é…çš„å­ä¸²å³è¾¹çš„å†…å®¹                                 |
| \$\n        | å‡å¦‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ [`RegExp`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp)å¯¹è±¡ï¼Œå¹¶ä¸” n æ˜¯ä¸ªå°äº100çš„éè´Ÿæ•´æ•°ï¼Œé‚£ä¹ˆæ’å…¥ç¬¬ n ä¸ªæ‹¬å·åŒ¹é…çš„å­—ç¬¦ä¸²ã€‚æç¤ºï¼šç´¢å¼•æ˜¯ä»1å¼€å§‹ã€‚å¦‚æœä¸å­˜åœ¨ç¬¬ nä¸ªåˆ†ç»„ï¼Œé‚£ä¹ˆå°†ä¼šæŠŠåŒ¹é…åˆ°åˆ°å†…å®¹æ›¿æ¢ä¸º'$n'çš„å­—é¢é‡ã€‚æ¯”å¦‚ä¸å­˜åœ¨ç¬¬3ä¸ªåˆ†ç»„ï¼Œå°±ä¼šç”¨â€œ$3â€æ›¿æ¢åŒ¹é…åˆ°çš„å†…å®¹ |
| \$\<Name\> | è¿™é‡Œ*`Name`* æ˜¯ä¸€ä¸ªåˆ†ç»„åç§°ã€‚å¦‚æœåœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­å¹¶ä¸å­˜åœ¨åˆ†ç»„ï¼ˆæˆ–è€…æ²¡æœ‰åŒ¹é…ï¼‰ï¼Œè¿™ä¸ªå˜é‡å°†è¢«å¤„ç†ä¸ºç©ºå­—ç¬¦ä¸²ã€‚åªæœ‰åœ¨æ”¯æŒå‘½ååˆ†ç»„æ•è·çš„æµè§ˆå™¨ä¸­æ‰èƒ½ä½¿ç”¨ |

```javascript
let str = 'hello world';

str.replace('o', '$$'); //'hell$ world'
str.replace('o', '$&'); //'hello world' ????
str.replace('o', '$`'); //'hellhell world'
str.replace('o', "$'"); //'hell world world'
```

**æŒ‡å®šä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°**

ä½ å¯ä»¥æŒ‡å®šä¸€ä¸ªå‡½æ•°ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå½“åŒ¹é…æ‰§è¡Œåï¼Œè¯¥å‡½æ•°å°±ä¼šæ‰§è¡Œã€‚ å‡½æ•°çš„è¿”å›å€¼ä½œä¸ºæ›¿æ¢å­—ç¬¦ä¸²ã€‚ (æ³¨æ„ï¼šä¸Šé¢æåˆ°çš„ç‰¹æ®Šæ›¿æ¢å‚æ•°åœ¨è¿™é‡Œä¸èƒ½è¢«ä½¿ç”¨ã€‚) å¦å¤–è¦æ³¨æ„çš„æ˜¯ï¼Œ<u>å¦‚æœç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ­£åˆ™è¡¨è¾¾å¼ï¼Œå¹¶ä¸”å…¶ä¸ºå…¨å±€åŒ¹é…æ¨¡å¼ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–¹æ³•å°†è¢«å¤šæ¬¡è°ƒç”¨ï¼Œæ¯æ¬¡åŒ¹é…éƒ½ä¼šè¢«è°ƒç”¨</u>

å‡½æ•°å‚æ•°:

| å˜é‡å            | ä»£è¡¨çš„å€¼                                                     |
| ----------------- | ------------------------------------------------------------ |
| `match`           | åŒ¹é…çš„å­ä¸²ã€‚ï¼ˆå¯¹åº”äºä¸Šè¿°çš„$&ã€‚ï¼‰                             |
| `p1,p2, ...`      | å‡å¦‚replace()æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ª[`RegExp`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp) å¯¹è±¡ï¼Œåˆ™ä»£è¡¨ç¬¬nä¸ªæ‹¬å·åŒ¹é…çš„å­—ç¬¦ä¸²ã€‚ï¼ˆå¯¹åº”äºä¸Šè¿°çš„$1ï¼Œ$2ç­‰ã€‚ï¼‰ä¾‹å¦‚ï¼Œå¦‚æœæ˜¯ç”¨ `/(\a+)(\b+)/` è¿™ä¸ªæ¥åŒ¹é…ï¼Œ`p1` å°±æ˜¯åŒ¹é…çš„ `\a+`ï¼Œ`p2` å°±æ˜¯åŒ¹é…çš„ `\b+`ã€‚ |
| `offset`          | åŒ¹é…åˆ°çš„å­å­—ç¬¦ä¸²åœ¨åŸå­—ç¬¦ä¸²ä¸­çš„åç§»é‡ã€‚ï¼ˆæ¯”å¦‚ï¼Œå¦‚æœåŸå­—ç¬¦ä¸²æ˜¯ `'abcd'`ï¼ŒåŒ¹é…åˆ°çš„å­å­—ç¬¦ä¸²æ˜¯ `'bc'`ï¼Œé‚£ä¹ˆè¿™ä¸ªå‚æ•°å°†ä¼šæ˜¯ 1ï¼‰ |
| `string`          | è¢«åŒ¹é…çš„åŸå­—ç¬¦ä¸²ã€‚                                           |
| NamedCaptureGroup | å‘½åæ•è·ç»„åŒ¹é…çš„å¯¹è±¡                                         |

ç²¾ç¡®çš„å‚æ•°ä¸ªæ•°ä¾èµ–äº `replace()` çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å¦æ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼ˆ[`RegExp`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp)ï¼‰å¯¹è±¡ï¼Œä»¥åŠè¿™ä¸ªæ­£åˆ™è¡¨è¾¾å¼ä¸­æŒ‡å®šäº†å¤šå°‘ä¸ªæ‹¬å·å­ä¸²ï¼Œå¦‚æœè¿™ä¸ªæ­£åˆ™è¡¨è¾¾å¼é‡Œä½¿ç”¨äº†å‘½åæ•è·ï¼Œ è¿˜ä¼šæ·»åŠ ä¸€ä¸ªå‘½åæ•è·çš„å¯¹è±¡)

è¯¥å‡½æ•° `func(match, p1, p2, ..., pn, offset, input, groups)` å¸¦å‚æ•°è°ƒç”¨ï¼š

1. `match` ï¼ åŒ¹é…é¡¹ï¼Œ
2. `p1, p2, ..., pn` ï¼ åˆ†ç»„çš„å†…å®¹ï¼ˆå¦‚æœ‰ï¼‰ï¼Œ
3. `offset` ï¼ åŒ¹é…é¡¹çš„ä½ç½®ï¼Œ
4. `input` ï¼ æºå­—ç¬¦ä¸²ï¼Œ
5. `groups` ï¼ æ‰€æŒ‡å®šåˆ†ç»„çš„å¯¹è±¡ã€‚

å¦‚æœæ­£åˆ™è¡¨è¾¾å¼ä¸­æ²¡æœ‰æ‹¬å·ï¼Œåˆ™åªæœ‰ 3 ä¸ªå‚æ•°ï¼š`func(str, offset, input)`

æŒ‰å…¶åœ¨å­—ç¬¦ä¸²ä¸­çš„ä½ç½®æ¥æ›¿æ¢æ¯ä¸ªåŒ¹é…é¡¹

```javascript
'Ho-Ho-ho'.replace(/ho/gi, (match, offset) => offset)  //'0-3-6'
```

åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œæœ‰ä¸¤å¯¹æ‹¬å·ï¼Œå› æ­¤å°†ä½¿ç”¨ 5 ä¸ªå‚æ•°è°ƒç”¨æ›¿æ¢å‡½æ•°ï¼šç¬¬ä¸€ä¸ªæ˜¯å®Œå…¨åŒ¹é…é¡¹ï¼Œç„¶åæ˜¯ 2 å¯¹æ‹¬å·ï¼Œç„¶åæ˜¯åŒ¹é…ä½ç½®ï¼ˆåœ¨ç¤ºä¾‹ä¸­æœªä½¿ç”¨ï¼‰å’Œæºå­—ç¬¦ä¸²ï¼š

```javascript
let str = "John Smith";

let result = str.replace(/(\w+) (\w+)/, (match, name, surname) => `${surname}, ${name}`);

alert(result); // Smith, John
```

å¦‚æœæœ‰è®¸å¤šç»„ï¼Œç”¨ rest å‚æ•°ï¼ˆâ€¦ï¼‰å¯ä»¥å¾ˆæ–¹ä¾¿çš„è®¿é—®ï¼š

```javascript
let str = "John Smith";

let result = str.replace(/(\w+) (\w+)/, (...match) => `${match[2]}, ${match[1]}`);

alert(result); // Smith, John
```

æˆ–è€…ï¼Œå¦‚æœæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯å‘½åç»„ï¼Œåˆ™å¸¦æœ‰å®ƒä»¬çš„ `groups` å¯¹è±¡å§‹ç»ˆæ˜¯æœ€åä¸€ä¸ªå¯¹è±¡ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥è¿™æ ·è·å¾—å®ƒï¼š

```javascript
let str = "John Smith";

let result = str.replace(/(?<name>\w+) (?<surname>\w+)/, (...match) => {
  let groups = match.pop();

  return `${groups.surname}, ${groups.name}`;
});

alert(result); // Smith, John
```

ä½¿ç”¨å‡½æ•°å¯ä»¥ä¸ºæˆ‘ä»¬æä¾›ç»ˆææ›¿ä»£åŠŸèƒ½ï¼Œå› ä¸ºå®ƒå¯ä»¥è·å–åŒ¹é…é¡¹çš„æ‰€æœ‰ä¿¡æ¯ï¼Œå¯ä»¥è®¿é—®å¤–éƒ¨å˜é‡ï¼Œå¯ä»¥åšä»»ä½•äº‹ã€‚



**å®ä¾‹**  ????

[äº¤æ¢å­—ç¬¦ä¸²ä¸­çš„ä¸¤ä¸ªå•è¯](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/replace#äº¤æ¢å­—ç¬¦ä¸²ä¸­çš„ä¸¤ä¸ªå•è¯)

```javascript
var re = /(\w+)\s(\w+)/;
var str = "John Smith";
var newstr = str.replace(re, "$2, $1");
// Smith, John
console.log(newstr);
```



åƒåˆ†ä½å¤„ç†

> https://godbasin.github.io/vue-ebook/vue-ebook/3.html#_3-2-2-%E8%BF%87%E6%BB%A4%E5%99%A8

```javascript
// å…¨å±€å®šä¹‰
// åƒåˆ†ä½å¤„ç†
Vue.filter('thousandth', function (value) {
  if (!value) return '';
  return value && value.toString().replace(/^(-?\d+?)((?:\d{3})+)(?=\.\d+$|$)/, function (all, pre, groupOf3Digital) {
    return pre + groupOf3Digital.replace(/\d{3}/g, ',$&')
  });
})
```



å­—ç¬¦ä¸²ä¸­8-10ä½, å‰8ä½å˜ä¸ºå‹æ˜Ÿå·,11ä½+, å‰11ä½ä½æ˜Ÿå·

```js
let str = '123456789012a1234567890c123456789D1234567890123456789012'
let reg = /\d{8,}/g
 //let reg1 = /[^\d]+(\d{8})(\d{1})[^\d]+/g
//let reg2 = /(\d{11})(\d{1})/g
 
str.replace(reg, (match, offset, input) => {
  if (match.length <= 10) {

    return [].slice.call(match).map((item, idx, arr) => idx <= 7 ? "*" : item).join('')

  } else {
    return [].slice.call(match).map((item, idx, arr) => idx <= 10 ? "*" : item).join('')
  }
 })
```









#### replaceAll()

##### define

the method returns a new string with all matches of a `pattern` replaced by a `replacement`. the `pattern` can be a string or a `RegExp`, and the `replacement` can be a string or a function to be called for each match.

The original string is left unchanged.

global flag required when calling replaceAll  with regexp



##### Syntax

```javascript
replaceAll(pattern, replacement)
```



##### Parameters

`pattern`

can be a string or an object with a  [`Symbol.replace`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol/replace) method --- the typical example being a  [regular expression](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp). Any value that doesn't have the `Symbol.replace` method will be coerced to a string.

 If `pattern` is a `RegExp` object (via the [`IsRegExp`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol/match#disabling_the_isregexp_check) check), then is must have the global(g) flag set, or a [`TypeError`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypeError) is thrown.















#### search()

**å®šä¹‰**

**`search()`** æ–¹æ³•æ‰§è¡Œæ­£åˆ™è¡¨è¾¾å¼å’Œ [`String`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String) å¯¹è±¡ä¹‹é—´çš„ä¸€ä¸ªæœç´¢åŒ¹é…

**å‚æ•°**

```javascript
str.search(regexp)
```

`regexp`  ä¸€ä¸ª[`æ­£åˆ™è¡¨è¾¾å¼ï¼ˆregular expressionï¼‰`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp)å¯¹è±¡

* å¦‚æœä¼ å…¥ä¸€ä¸ªéæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ `regexp`ï¼Œåˆ™ä¼šä½¿ç”¨ `new RegExp(regexp)` éšå¼åœ°å°†å…¶è½¬æ¢ä¸ºæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ã€‚

**è¿”å›å€¼**

å¦‚æœåŒ¹é…æˆåŠŸï¼Œåˆ™ `search()` è¿”å›æ­£åˆ™è¡¨è¾¾å¼åœ¨å­—ç¬¦ä¸²ä¸­é¦–æ¬¡åŒ¹é…é¡¹çš„<u>ç´¢å¼•</u>;å¦åˆ™ï¼Œè¿”å› `-1`

**æè¿°**

* å½“ä½ æƒ³è¦çŸ¥é“å­—ç¬¦ä¸²ä¸­æ˜¯å¦å­˜åœ¨æŸä¸ªæ¨¡å¼ï¼ˆpatternï¼‰æ—¶å¯ä½¿ç”¨ `search()`ï¼Œç±»ä¼¼äºæ­£åˆ™è¡¨è¾¾å¼çš„ [`test()`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp/test) æ–¹æ³•ã€‚
* å½“è¦äº†è§£æ›´å¤šåŒ¹é…ä¿¡æ¯æ—¶ï¼Œå¯ä½¿ç”¨ [`match()`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/match)ï¼ˆä½†ä¼šæ›´æ…¢ä¸€äº›ï¼‰ï¼Œè¯¥æ–¹æ³•ç±»ä¼¼äºæ­£åˆ™è¡¨è¾¾å¼çš„ [`exec()`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp/exec) æ–¹æ³•ã€‚

**å®ä¾‹**

```javascript
let str = 'hello world';

str.search('o'); //4
str.search(/o/); //4
```











#### slice()

**å®šä¹‰**

**`slice()`** æ–¹æ³•æå–æŸä¸ªå­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œä¸”ä¸ä¼šæ”¹åŠ¨åŸå­—ç¬¦ä¸²

**å‚æ•°**

```javascript
str.slice(beginIndex[, endIndex])
```

`beginIndex` ä»è¯¥ç´¢å¼•ï¼ˆä»¥ 0 ä¸ºåŸºæ•°ï¼‰å¤„å¼€å§‹æå–åŸå­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦

* å¦‚æœå€¼ä¸ºè´Ÿæ•°ï¼Œä¼šè¢«å½“åš `strLength + beginIndex` çœ‹å¾…ï¼Œè¿™é‡Œçš„`strLength` æ˜¯å­—ç¬¦ä¸²çš„é•¿åº¦

`endIndex`  **å¯é€‰**

* åœ¨è¯¥ç´¢å¼•ï¼ˆä»¥ 0 ä¸ºåŸºæ•°ï¼‰å¤„ç»“æŸæå–å­—ç¬¦ä¸²ã€‚
* å¦‚æœçœç•¥è¯¥å‚æ•°ï¼Œ`slice()` ä¼šä¸€ç›´æå–åˆ°å­—ç¬¦ä¸²æœ«å°¾ã€‚
* å¦‚æœè¯¥å‚æ•°ä¸ºè´Ÿæ•°ï¼Œåˆ™è¢«çœ‹ä½œæ˜¯ strLength + endIndex
* æ–°å­—ç¬¦ä¸²åŒ…æ‹¬`beginIndex`ä½†ä¸åŒ…æ‹¬ `endIndex`

**è¿”å›å€¼**

è¿”å›ä¸€ä¸ªä»åŸå­—ç¬¦ä¸²ä¸­æå–å‡ºæ¥çš„æ–°å­—ç¬¦ä¸²

**æè¿°**

* `slice` ä¸ä¼šä¿®æ”¹åŸå­—ç¬¦ä¸²ï¼ˆåªä¼šè¿”å›ä¸€ä¸ªåŒ…å«äº†åŸå­—ç¬¦ä¸²ä¸­éƒ¨åˆ†å­—ç¬¦çš„æ–°å­—ç¬¦ä¸²

**å®ä¾‹**

slice()ä¼ å…¥è´Ÿå€¼ç´¢å¼•

```javascript
var str = 'The morning is upon us.';
str.slice(-3);     // è¿”å› 'us.'
str.slice(-3, -1); // è¿”å› 'us'
str.slice(0, -1);  // è¿”å› 'The morning is upon us'
```

å¤åˆ¶å­—ç¬¦ä¸²

```HTML
- å¤åˆ¶å­—ç¬¦ä¸²
str.slice();
str.slice(0);
```



#### split()????

**å®šä¹‰**

`**split()** `æ–¹æ³•ä½¿ç”¨æŒ‡å®šçš„åˆ†éš”ç¬¦å­—ç¬¦ä¸²å°†ä¸€ä¸ª[`String`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String)å¯¹è±¡åˆ†å‰²æˆå­å­—ç¬¦ä¸²æ•°ç»„ï¼Œä»¥ä¸€ä¸ªæŒ‡å®šçš„åˆ†å‰²å­—ä¸²æ¥å†³å®šæ¯ä¸ªæ‹†åˆ†çš„ä½ç½®ã€‚ 

**æè¿°**

å¦‚æœä½¿ç”¨<u>ç©ºå­—ç¬¦ä¸²(â€œ)ä½œä¸ºåˆ†éš”ç¬¦</u>ï¼Œåˆ™å­—ç¬¦ä¸²ä¸æ˜¯åœ¨æ¯ä¸ªç”¨æˆ·æ„ŸçŸ¥çš„å­—ç¬¦(å›¾å½¢ç´ é›†ç¾¤)ä¹‹é—´ï¼Œä¹Ÿä¸æ˜¯åœ¨æ¯ä¸ªUnicodeå­—ç¬¦(ä»£ç ç‚¹)ä¹‹é—´ï¼Œè€Œæ˜¯åœ¨æ¯ä¸ªUTF-16ä»£ç å•å…ƒä¹‹é—´ã€‚è¿™ä¼šæ‘§æ¯ä»£ç†å¯¹ã€‚è¿˜è¯·å‚è§[how do you get a string to a character array in javascript](https://stackoverflow.com/questions/4547609/how-do-you-get-a-string-to-a-character-array-in-javascript/34717402#34717402)

**å‚æ•°**

```javascript
str.split([separator[, limit]])
```

`separator`  **å¯é€‰**  æè¿°æ‹†åˆ†åº”å‘ç”Ÿä½ç½®çš„æ¨¡å¼,å¯ä»¥æ˜¯ç®€å•çš„å­—ç¬¦æˆ–è€…æ­£åˆ™è¡¨è¾¾å¼

* æœ€ç®€å•çš„æƒ…å†µæ˜¯åˆ†éš”ç¬¦æ˜¯<u>å•ä¸ªå­—ç¬¦</u>,è¢«ç”¨æ¥åˆ†å‰²é™å®šçš„å­—ç¬¦ä¸².ä¾‹å¦‚,åŒ…å«åˆ¶è¡¨ç¬¦åˆ†éš”å€¼ ï¼ˆTSVï¼‰ çš„å­—ç¬¦ä¸²å¯ä»¥é€šè¿‡å°†åˆ¶è¡¨ç¬¦ä½œä¸ºåˆ†éš”ç¬¦ä¼ é€’æ¥è§£æ
* å¦‚æœåˆ†éš”ç¬¦<u>åŒ…å«å¤šä¸ªå­—ç¬¦</u>,åˆ™å¿…é¡»æ‰¾åˆ°æ•´ä¸ªå­—ç¬¦åºåˆ—æ‰èƒ½æ‹†åˆ†
* å¦‚æœåˆ†éš”ç¬¦<u>è¢«çœç•¥æˆ–è€…å­—ç¬¦ä¸²ä¸­æ²¡æœ‰</u>,åˆ™è¿”å›æ•°ç»„åŒ…å«ä¸€ä¸ªç”±æ•´ä¸ªå­—ç¬¦ä¸²æ„æˆçš„å…ƒç´ 
* å¦‚æœåˆ†éš”ç¬¦å‡ºç°åœ¨å­—ç¬¦ä¸²çš„<u>å¼€å§‹(æˆ–ç»“å°¾)</u>,åˆ™è¿”å›çš„æ•°ç»„çš„ç›¸åº”ä½ç½®æ˜¯ç©ºå­—ç¬¦ä¸²
* å¦‚æœåˆ†éš”ç¬¦æ˜¯ä¸€ä¸ª<u>ç©ºå­—ç¬¦ä¸²</u>, å­—ç¬¦ä¸²å°†è½¬æ¢ä¸ºå…¶æ¯ä¸ª UTF-16"å­—ç¬¦"çš„æ•°ç»„

> å¦‚æœä½¿ç”¨ç©ºå­—ç¬¦ä¸²(â€œ)ä½œä¸ºåˆ†éš”ç¬¦ï¼Œåˆ™å­—ç¬¦ä¸²ä¸æ˜¯åœ¨æ¯ä¸ªç”¨æˆ·æ„ŸçŸ¥çš„å­—ç¬¦(å›¾å½¢ç´ é›†ç¾¤)ä¹‹é—´ï¼Œä¹Ÿä¸æ˜¯åœ¨æ¯ä¸ªUnicodeå­—ç¬¦(ä»£ç ç‚¹)ä¹‹é—´ï¼Œè€Œæ˜¯åœ¨æ¯ä¸ªUTF-16ä»£ç å•å…ƒä¹‹é—´ã€‚è¿™ä¼šæ‘§æ¯ä»£ç†å¯¹

`limit`  **å¯é€‰** ä¸€ä¸ªéè´Ÿæ•´æ•°ï¼ŒæŒ‡å®šå¯¹è¦åŒ…å«åœ¨æ•°ç»„ä¸­çš„å­å­—ç¬¦ä¸²æ•°çš„é™åˆ¶ã€‚

* å¦‚æœæä¾›,åœ¨åˆ†éš”ç¬¦å‡ºç°çš„ä½ç½®åˆ†å‰²å­—ç¬¦ä¸²,ä½†åœ¨é™åˆ¶æ¡ç›®å·²æ”¾å…¥æ•°ç»„æ—¶åœæ­¢.
* å¦‚æœåœ¨è¾¾åˆ°æŒ‡å®šé™åˆ¶ä¹‹å‰å…ˆåˆ°è¾¾å­—ç¬¦ä¸²çš„æœ«å°¾ï¼Œå®ƒå¯èƒ½åŒ…å«å°‘äºé™åˆ¶çš„æ¡ç›®ã€‚
* æ–°æ•°ç»„ä¸­ä¸è¿”å›å‰©ä¸‹çš„æ–‡æœ¬
* å¦‚æœé™åˆ¶æ˜¯0, åˆ™è¿”å›ä¸€ä¸ªç©ºæ•°ç»„



**è¿”å›å€¼**

è¿”å›æºå­—ç¬¦ä¸²ä»¥åˆ†éš”ç¬¦å‡ºç°ä½ç½®åˆ†éš”è€Œæˆçš„ä¸€ä¸ª [`Array`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array) 

**æè¿°**

* æ‰¾åˆ°åˆ†éš”ç¬¦åï¼Œå°†å…¶ä»å­—ç¬¦ä¸²ä¸­åˆ é™¤ï¼Œå¹¶å°†å­å­—ç¬¦ä¸²ä½œä¸ºæ•°ç»„è¿”å›.
* å¦‚æœåˆ†éš”ç¬¦æ˜¯åŒ…å«æ•è·æ‹¬å·çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œåˆ™æ¯æ¬¡åˆ†éš”ç¬¦åŒ¹é…æ—¶ï¼Œæ•è·æ‹¬å·çš„ç»“æœï¼ˆåŒ…æ‹¬ä»»ä½•æœªå®šä¹‰çš„ç»“æœï¼‰å°†è¢«æ‹¼æ¥åˆ°è¾“å‡ºæ•°ç»„ä¸­ã€‚ä½†æ˜¯ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰æµè§ˆå™¨éƒ½æ”¯æŒæ­¤åŠŸèƒ½ã€‚
* å¦‚æœåˆ†éš”ç¬¦æ˜¯ä¸€ä¸ªæ•°ç»„,é‚£ä¹ˆè¿™ä¸ªæ•°ç»„ä¼šè¢«å¼ºåˆ¶è½¬æ¢æˆå­—ç¬¦ä¸²ä¸”ç”¨ä½œåˆ†éš”ç¬¦

**å®ä¾‹**

å®ä¾‹1

```javascript
let str = 'hello world';

console.log(str.split(' ')); ['hello', 'world']
console.log(str.split()); ['hello world']
console.log(str.split('h')); //['', 'ello world', '']

let str = 'hello world';
console.log(str.split('o', 0)); //[]
console.log(str.split('o', 2)); //['hell', 'w']
console.log(str.split('o', 5)); //['hell', 'w', 'rld']

```

æ²¡æœ‰åˆ†éš”ç¬¦+ç©ºå­—ç¬¦ä¸²

```javascript
let str = '';
console.log(str.split()); //['']
```

ç§»é™¤å­—ç¬¦ä¸²ä¸­çš„ç©ºæ ¼

```javascript
const names = 'Harry Trump ;Fred Barney; Helen Rigby ; Bill Abel ;Chris Hand '

const re = /\s*(?:;|$)\s*/
const nameList = names.split(re)

console.log(nameList); //
```

[é æ­£åˆ™æ¥åˆ†å‰²ä½¿ç»“æœä¸­åŒ…å«åˆ†éš”å—](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/split#example_capturing_parentheses)

å¦‚æœ `separator` åŒ…å«æ•è·æ‹¬å·ï¼ˆcapturing parenthesesï¼‰ï¼Œåˆ™å…¶åŒ¹é…ç»“æœå°†ä¼šåŒ…å«åœ¨è¿”å›çš„æ•°ç»„ä¸­

```javascript
var myString = "Hello 1 word. Sentence number 2.";
var splits = myString.split(/(\d)/);

console.log(splits);

//[ "Hello ", "1", " word. Sentence number ", "2", "." ]
```

[ä½¿ç”¨ä¸€ä¸ªæ•°ç»„æ¥ä½œä¸ºåˆ†éš”ç¬¦](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/split#ä½¿ç”¨ä¸€ä¸ªæ•°ç»„æ¥ä½œä¸ºåˆ†éš”ç¬¦)

```javascript
```



åˆ†éš”ç¬¦ä¸ºæœ€åä¸€ä½æ—¶, ä½¿ç”¨splitè½¬æ¢ä¸ºæ•°ç»„,å…¶æœ€åä¸€ä½ä¸ºç©º
åˆ†éš”ç¬¦å«æœ‰ç¬¬ä¸€ä½æ—¶,ä¹Ÿæ˜¯åŒæ ·æ•ˆæœ
```js
// splitä½¿ç”¨å­—ç¬¦ä¸²æ¥ä½œä¸ºåˆ†éš”ç¬¦æ˜¯åŒæ ·çš„æ•ˆæœ

'a '.split(/\s/) //['a', '']
'a,'.split(/,/) //['a', '']

'#/'.split('#') // ['', '/']
```

åˆ†éš”ç¬¦æ˜¯ç©ºå­—ç¬¦ä¸²,å­—ç¬¦ä¸²å°†è½¬æ¢ä¸ºæ¯ä¸ªUTF-16å•å…ƒçš„æ•°ç»„
```js
'ğŸ˜‚'.split('') //['\uD83D', '\uDE02']
```

#### startsWith()

**å®šä¹‰**

`startsWith()` æ–¹æ³•ç”¨æ¥åˆ¤æ–­å½“å‰å­—ç¬¦ä¸²æ˜¯å¦ä»¥å¦å¤–ä¸€ä¸ªç»™å®šçš„å­å­—ç¬¦ä¸²å¼€å¤´ï¼Œå¹¶æ ¹æ®åˆ¤æ–­ç»“æœè¿”å› `true` æˆ– `false`

**å‚æ•°**

```javascript
str.startsWith(searchString[, position])
```

`searchString` è¦æœç´¢çš„å­—ç¬¦ä¸²

`position` **å¯é€‰** 

* åœ¨ `str` ä¸­æœç´¢ `searchString` çš„å¼€å§‹ä½ç½®ï¼Œé»˜è®¤å€¼ä¸º 0

**è¿”å›å€¼**

å¦‚æœåœ¨å­—ç¬¦ä¸²çš„å¼€å¤´æ‰¾åˆ°äº†ç»™å®šçš„å­—ç¬¦åˆ™è¿”å›**`true`**ï¼›å¦åˆ™è¿”å›**`false`**

**æè¿°**

è¿™ä¸ªæ–¹æ³•èƒ½å¤Ÿè®©ä½ ç¡®å®šä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ä»¥å¦ä¸€ä¸ªå­—ç¬¦ä¸²å¼€å¤´ã€‚è¿™ä¸ªæ–¹æ³•åŒºåˆ†å¤§å°å†™

**å®ä¾‹**

```javascript
var str = "To be, or not to be, that is the question.";

alert(str.startsWith("To be"));         // true
alert(str.startsWith("not to be"));     // false
alert(str.startsWith("not to be", 10)); // true
```

#### endsWith()

**å®šä¹‰**

`endsWith()`æ–¹æ³•ç”¨æ¥åˆ¤æ–­å½“å‰å­—ç¬¦ä¸²æ˜¯å¦æ˜¯ä»¥å¦å¤–ä¸€ä¸ªç»™å®šçš„å­å­—ç¬¦ä¸²â€œç»“å°¾â€çš„ï¼Œæ ¹æ®åˆ¤æ–­ç»“æœè¿”å› `true` æˆ– `false`ã€‚

**å‚æ•°**

```javascript
str.endsWith(searchString[, length])
```

`searchString`  è¦æœç´¢çš„å­—ç¬¦ä¸²

`length` **å¯é€‰** 

* ä½œä¸º `str` çš„é•¿åº¦ã€‚é»˜è®¤å€¼ä¸º `str.length`

**è¿”å›å€¼**

å¦‚æœä¼ å…¥çš„å­å­—ç¬¦ä¸²åœ¨æœç´¢å­—ç¬¦ä¸²çš„æœ«å°¾åˆ™è¿”å›**`true`**ï¼›å¦åˆ™å°†è¿”å› **`false`**

**æè¿°**

* å¤§å°å†™æ•æ„Ÿ

**å®ä¾‹**

```javascript
var str = "To be, or not to be, that is the question.";

alert( str.endsWith("question.") );  // true
alert( str.endsWith("to be") );      // false
alert( str.endsWith("to be", 19) );  // true
alert(str.endsWith('to be', 18)); //false
```



#### substring()

**å®šä¹‰**

è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²åœ¨å¼€å§‹ç´¢å¼•åˆ°ç»“æŸç´¢å¼•ä¹‹é—´çš„ä¸€ä¸ªå­é›†,æˆ–ä»å¼€å§‹ç´¢å¼•ç›´åˆ°å­—ç¬¦ä¸²æœ«å°¾çš„ä¸€ä¸ªå­é›†.

**å‚æ•°**

```javascript
str.substring(indexStart[, indexEnd])
```

`indexStart` 

* éœ€è¦æˆªå–çš„ç¬¬ä¸€ä¸ªå­—ç¬¦çš„ç´¢å¼•ï¼Œè¯¥ç´¢å¼•ä½ç½®çš„å­—ç¬¦ä½œä¸ºè¿”å›çš„å­—ç¬¦ä¸²çš„é¦–å­—æ¯

`indexEnd` **å¯é€‰**

* ä¸€ä¸ª 0 åˆ°å­—ç¬¦ä¸²é•¿åº¦ä¹‹é—´çš„æ•´æ•°ï¼Œä»¥è¯¥æ•°å­—ä¸ºç´¢å¼•çš„å­—ç¬¦<span style="text-decoration: underline wavy blue">ä¸åŒ…å«åœ¨æˆªå–çš„å­—ç¬¦ä¸²å†…</span>

**æè¿°**

* æå–ä»`indexStart`åˆ°`indexEnd`(ä¸åŒ…æ‹¬)ä¹‹é—´çš„å­—ç¬¦.
* å¦‚æœçœç•¥`indexEnd`, åˆ™æå–åˆ°å­—ç¬¦ä¸²æœ«å°¾
* å¦‚æœä»»ä¸€å‚æ•°å°äº0æˆ–è€…ä¸ºNaN, åˆ™è¢«å½“åš0
* å¦‚æœä»»ä¸€å‚æ•°å¤§äºå­—ç¬¦ä¸²é•¿åº¦, åˆ™è¢«å½“åšå­—ç¬¦ä¸²çš„é•¿åº¦
* å¦‚æœ`indexStart`å¤§äº`indexEnd`, åˆ™æå–ç»“æœå°±åƒæ˜¯ä¸¤ä¸ªå‚æ•°è°ƒæ¢äº†ä¸€æ ·

**å®ä¾‹**

```javascript
let str = 'mozilla';

//è¾“å‡º'moz'
console.log(str.substring(0,3));
console.log(str.substring(3,0));
console.log(str.substring(3,-3));
console.log(str.substring(3,NaN));
console.log(str.substring(-2, 3));
console.log(str.substring(NaN, 3));

//è¾“å‡º'lla'
console.log(str.substring(4));
console.log(str.substring(4, str.length))
console.log(str.substring(4, 7));
console.log(str.substring(7, 4));

//è¾“å‡º''
console.log(str.substring(4,4)); //''

//è¾“å‡º'mozilla'
console.log(str.substring(0));
console.log(str.substring(0, 7));
```



#### String.prototype.toString()

**å®šä¹‰**

`**toString()**` æ–¹æ³•è¿”å›æŒ‡å®šå¯¹è±¡çš„å­—ç¬¦ä¸²å½¢å¼

**å‚æ•°**

```javascript
str.toString()
```

**è¿”å›å€¼**

ä¸€ä¸ªè¡¨ç¤ºè°ƒç”¨å¯¹è±¡çš„å­—ç¬¦ä¸²

**æè¿°**

* `String` å¯¹è±¡è¦†ç›–äº†[`Object`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object) å¯¹è±¡çš„ `toString` æ–¹æ³•ï¼›å¹¶æ²¡æœ‰ç»§æ‰¿ [`Object.toString()`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/toString)ã€‚
* å¯¹äº `String` å¯¹è±¡ï¼Œ`toString` æ–¹æ³•è¿”å›è¯¥å¯¹è±¡çš„å­—ç¬¦ä¸²å½¢å¼ï¼Œå’Œ [`String.prototype.valueOf()`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/valueOf) æ–¹æ³•è¿”å›å€¼ä¸€æ ·ã€‚

**å®ä¾‹**

è¾“å‡ºä¸€ä¸ªå­—ç¬¦ä¸²å¯¹è±¡ï¼ˆString objectï¼‰çš„å­—ç¬¦ä¸²å€¼

```javascript
var x = new String("Hello world");

console.log(x); //  StringÂ {'Hello world'}
alert(x.toString())      // è¾“å‡º "Hello world"
```



#### trim()

**å®šä¹‰**

**`trim()`** æ–¹æ³•ä¼šä»ä¸€ä¸ªå­—ç¬¦ä¸²çš„ä¸¤ç«¯åˆ é™¤ç©ºç™½å­—ç¬¦ã€‚åœ¨è¿™ä¸ªä¸Šä¸‹æ–‡ä¸­çš„ç©ºç™½å­—ç¬¦æ˜¯æ‰€æœ‰çš„ç©ºç™½å­—ç¬¦ (space, tab, no-break space ç­‰) ä»¥åŠæ‰€æœ‰è¡Œç»ˆæ­¢ç¬¦å­—ç¬¦ï¼ˆå¦‚ LFï¼ŒCRç­‰ï¼‰

**æè¿°**

* `trim()` æ–¹æ³•è¿”å›ä¸€ä¸ªä»ä¸¤å¤´å»æ‰ç©ºç™½å­—ç¬¦çš„å­—ç¬¦ä¸²ï¼Œå¹¶ä¸å½±å“åŸå­—ç¬¦ä¸²æœ¬èº«

**Polyfill**

å¦‚æœ `trim()` ä¸å­˜åœ¨ï¼Œå¯ä»¥åœ¨æ‰€æœ‰ä»£ç å‰æ‰§è¡Œä¸‹é¢ä»£ç 

```javascript
if (!String.prototype.trim) {
  String.prototype.trim = function() {
    return this.replace(/^[\s\uFEFF\xA0]+|[\sFEFF\xA0]+$/g, '');
  }
}
```

#### trimEnd()/trimRight()

#### trimStart()/trimLeft()

#### valueOf()

**å®šä¹‰**

**`valueOf()`** æ–¹æ³•è¿”å› [`String`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String) å¯¹è±¡çš„åŸå§‹å€¼

**æè¿°**

* æ­¤æ–¹æ³•é€šå¸¸ç”±JavaScriptåœ¨å†…éƒ¨è°ƒç”¨ï¼Œè€Œä¸æ˜¯åœ¨ä»£ç ä¸­æ˜¾å¼è°ƒç”¨

**å®ä¾‹**

```javascript
var x = new String('Hello world');
console.log(x.valueOf()); // Displays 'Hello world'
```



#### String.prototype.localeCompare

##### Define

> the method returns a number indicating whether a reference string comes before, or after, or is the same as the given string in sort order.

##### Syntax

> referenceStr.localeCompare(compareString[, lcoales[, options]])

##### Parameters

`compareString`

* the string against which the `referenceStr` is compared.

`locales and options`

* these arguments customize the behavior of the function and let application specify the language whose formatting conventions should be used. In implementations which ignore the locales and options arguments, the locale used and the form of the string returned are entirely implementation-dependent.



##### Return value

* A negative number if the referenceStr occurs before compareString;
* positive if the referenceStr occurs after compareString
* 0 if they are equivalent.





**å®ä¾‹**

æ¯”è¾ƒä¸¤ä¸ªè¾“å…¥æ¡†çš„æ—¶é—´

```js
startTime.localCompare(endTime) 
```



#### æ¨¡æ¿å­—é¢é‡ä¸­ä½¿ç”¨åŸå§‹å€¼

æ¨¡æ¿æ ‡ç­¾åŒæ ·å¯ä»¥è®¿é—®åŸç”Ÿå­—ç¬¦ä¸²ä¿¡æ¯ï¼Œä¹Ÿå°±æ˜¯è¯´é€šè¿‡æ¨¡æ¿æ ‡ç­¾å¯ä»¥è®¿é—®åˆ°å­—ç¬¦è½¬ä¹‰è¢«è½¬æ¢æˆç­‰ä»·å­—ç¬¦å‰çš„åŸç”Ÿå­—ç¬¦ä¸²ã€‚æœ€ç®€å•çš„ä¾‹å­æ˜¯ä½¿ç”¨å†…å»ºçš„**String.raw()**æ ‡ç­¾ï¼š

```javascript
let msg1 = `Multiline\nstring`,
    msg2 = String.raw`Multiline\nstring`;

console.log(msg1); //'Multiline
									 //string'

console.log(msg2); //Multiline\\nstring
```

åœ¨è¿™æ®µä»£ç ä¸­ï¼Œå˜é‡message1ä¸­çš„\nè¢«è§£é‡Šä¸ºä¸€ä¸ªæ–°è¡Œï¼Œè€Œå˜é‡message2è·å–çš„æ˜¯\nçš„åŸç”Ÿå½¢å¼"\\\n"ï¼ˆåæ–œæ ä¸nå­—ç¬¦ï¼‰ï¼Œå¿…è¦çš„æ—¶å€™å¯ä»¥åƒè¿™æ ·æ¥æ£€ç´¢åŸç”Ÿçš„å­—ç¬¦ä¸²ä¿¡æ¯ã€‚

åŸç”Ÿå­—ç¬¦ä¸²ä¿¡æ¯åŒæ ·è¢«ä¼ å…¥æ¨¡æ¿æ ‡ç­¾ï¼Œæ ‡ç­¾å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå®ƒæœ‰ä¸€ä¸ªé¢å¤–çš„å±æ€§rawï¼Œæ˜¯ä¸€ä¸ªåŒ…å«æ¯ä¸€ä¸ªå­—é¢å€¼çš„åŸç”Ÿç­‰ä»·ä¿¡æ¯çš„æ•°ç»„ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œliterals[0]æ€»æœ‰ä¸€ä¸ªç­‰ä»·çš„literals.raw[0]ï¼ŒåŒ…å«ç€å®ƒçš„åŸç”Ÿå­—ç¬¦ä¸²ä¿¡æ¯ã€‚äº†è§£ä¹‹åï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä»£ç æ¨¡ä»¿String.raw()

```javascript
function raw(literals, ...substitutions) {
  let result = '';
  //æ ¹æ®substitutionsçš„æ•°é‡æ¥ç¡®å®šå¾ªç¯çš„æ‰§è¡Œæ¬¡æ•°
  for (let i=0; i<substitutions.length; i++) {
    //ä½¿ç”¨åŸç”Ÿå€¼
    result += literals.raw[i];
    result += substitutions[i];
  }
  
  //åˆå¹¶æœ€åä¸€ä¸ªliterals
  result += literals.raw[literals.length - 1];
  return result;
}

let msg = raw`Multiline\nstring`;

console.log(msg); //'Multiline\\nstring'
console.log(msg.length); //27
```

