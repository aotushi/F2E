### 混合对象'类'

**面向类的设计模式**

* 实例化(instantiation)
* 继承(inheritance)
* (相对)多态(polymorphism)



### 类理论

#### 概述

类/继承描述了一种代码的组织结构形式——一种在软件中对真实世界中问题领域的建模方法

* 封装数据及相关行为
  * 例如,字符串作为数据,不关心具体内容,关心可以对数据做什么，所以可以应用在这种数据上的行为（计算长度、添加数据、搜索，等等）都被设计成String类的方法。
* 使用类对数据结构进行分类，可以把任意数据结构看作范围更广的定义的一种特例。



#### 案例

软件中定义一个<u>Vehicle类</u>和一个<u>Car类</u>来对这种关系进行建模

Vehicle的定义可能包含推进器（比如引擎）、载人能力等等，这些都是Vehicle的行为。我们在Vehicle中定义的是（几乎）所有类型的交通工具（飞机、火车和汽车）都包含的东西。

定义Car时，只要声明它继承（或者扩展）了Vehicle的这个基础定义就行。Car的定义就是对通用Vehicle定义的特殊化。

虽然Vehicle和Car会定义相同的方法，但是实例中的数据可能是不同的，比如每辆车独一无二的VIN（Vehicle Identification Number，车辆识别号码），等等。

这就是类、继承和实例化。

类的另一个核心概念是多态，这个概念是说父类的通用行为可以被子类用更特殊的行为重写。类理论强烈建议父类和子类使用相同的方法名来表示特定的行为，从而让子类重写父类。



#### javascript中的类

由于类是一种设计模式，所以你可以用一些方法（本章之后会介绍）近似实现类的功能。为了满足对于类设计模式的最普遍需求，JavaScript提供了一些近似类的语法。



### 类的机制

#### 建造

这些内容没有看懂. 只摘抄了一句:

类通过复制操作被实例化为对象形式：



#### 构造函数

类实例是由一个特殊的类方法构造的，这个方法名通常和类名相同，被称为构造函数。这个方法的任务就是初始化实例需要的所有信息（状态）。

> 状态该如何理解?



举例来说，思考下面这个关于类的伪代码（编造出来的语法）：

```javascript
class CoolGuy() {
  specialTrick = nothing 
  
  CoolGuy(trick) {
    specialTrick = trick
  }
  
  showOff() {
    output("'Here's my trick:", specialTrick)
  }
}
```

我们可以调用类构造函数来生成一个CoolGuy实例：

```javascript
Joe = new CoolGuy('jumping rope')

Joe.showOff() //Here's my trick: jumping rope
```

注意，CoolGuy类有一个CoolGuy()构造函数，执行new CoolGuy()时实际上调用的就是它。构造函数会返回一个对象（也就是类的一个实例），之后我们可以在这个对象上调用showOff()方法，来输出指定CoolGuy的特长。





> 类构造函数属于类，而且通常和类同名。此外，构造函数大多需要用new来调，这样语言引擎才知道你想要构造一个新的类实例。





### 类的继承

在面向类的语言中，你可以先定义一个类，然后定义一个继承前者的类。后者通常被称为“子类”，前者通常被称为“父类”。

子类会包含父类行为的原始副本，但是也可以重写所有继承的行为甚至定义新行为。



































































