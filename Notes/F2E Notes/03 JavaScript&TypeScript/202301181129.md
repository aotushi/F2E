---
alias:å‡½æ•°å‚æ•°
---



### å‡½æ•°å‚æ•°

ECMAScript å‡½æ•°æ—¢ä¸å…³å¿ƒä¼ å…¥çš„å‚æ•°ä¸ªæ•°ï¼Œä¹Ÿä¸å…³å¿ƒè¿™äº›å‚æ•°çš„æ•°æ®ç±»å‹ã€‚è°ƒç”¨æ—¶ä¼ å…¥å‚æ•°æ•°é‡ä¸è¦æ±‚äºå®šä¹‰æ—¶å‚æ•°æ•°å€¼ä¸€è‡´.å› ä¸ºECMAScript å‡½æ•°çš„å‚æ•°åœ¨å†…éƒ¨è¡¨ç°ä¸ºä¸€ä¸ªæ•°ç»„, åœ¨functionå…³é”®å­—å®šä¹‰(éç®­å¤´)å‡½æ•°æ—¶,å¯ä»¥åœ¨å‡½æ•°å†…éƒ¨è®¿é—®argumentså¯¹è±¡.

**ECMAScript ä¸­å‡½æ•°çš„å‚æ•°å°±æ˜¯å±€éƒ¨å˜é‡**ã€‚

#### å½¢å‚ä¸å®å‚ğŸ”¸

**å®å‚**: è°ƒç”¨å‡½æ•°æ—¶ï¼Œä¼ é€’ç»™å‡½æ•°çš„å€¼è¢«ç§°ä¸ºå‡½æ•°çš„å®å‚ï¼ˆå€¼ä¼ é€’).

**å½¢å‚**: å½¢å‚å°±ç›¸å½“äºåœ¨å‡½æ•°ä¸­å£°æ˜äº†å¯¹åº”çš„å˜é‡,ä½†æ˜¯æ²¡æœ‰å®é™…çš„å€¼.

>å½“å®å‚æ˜¯åŸºæœ¬æ•°æ®ç±»å‹çš„å€¼æ—¶ï¼Œå®é™…æ˜¯å°†å®å‚çš„å€¼å¤åˆ¶ä¸€ä»½ä¼ é€’ç»™å½¢å‚ï¼Œåœ¨å‡½æ•°è¿è¡Œç»“æŸæ—¶å½¢å‚è¢«é‡Šæ”¾ï¼Œè€Œå®å‚ä¸­çš„å€¼ä¸ä¼šå˜åŒ–ã€‚å½“å®å‚æ˜¯å¼•ç”¨ç±»å‹çš„å€¼æ—¶ï¼Œå®é™…æ˜¯å°†å®å‚çš„å†…å­˜åœ°å€ä¼ é€’ç»™å½¢å‚ï¼Œå³å®å‚å’Œå½¢å‚éƒ½æŒ‡å‘ç›¸åŒçš„å†…å­˜åœ°å€ï¼Œæ­¤æ—¶å½¢å‚å¯ä»¥ä¿®æ”¹å®å‚çš„å€¼ï¼Œä½†æ˜¯ä¸èƒ½ä¿®æ”¹å®å‚çš„å†…å­˜åœ°å€

```js
# å½¢å‚(å½¢å¼å‚æ•°)
å®šä¹‰å‡½æ•°æ—¶,å¯ä»¥åœ¨å‡½æ•°çš„()ä¸­å®šä¹‰æ•°é‡ä¸ç­‰çš„å½¢å‚
å½¢å‚å°±ç›¸å½“äºåœ¨å‡½æ•°ä¸­å£°æ˜äº†å¯¹åº”çš„å˜é‡,ä½†æ˜¯æ²¡æœ‰å®é™…çš„å€¼. //è¿”å›çš„æ˜¯undefined
function fn(a, b){
    console.log('a =', a);  //undefined
    console.log('b =', b);  //undefined
}



## å®å‚(å®é™…å‚æ•°)
åœ¨è°ƒç”¨å‡½æ•°æ—¶,å¯ä»¥å‘å‡½æ•°ä¸­ä¼ é€’æ•°é‡ä¸ç­‰çš„å®å‚,
å®å‚ä¼šèµ‹å€¼ç»™å¯¹åº”çš„å½¢å‚
åœ¨JSä¸­ä¸ä¼šæ£€æŸ¥å®å‚çš„ç±»å‹å’Œæ•°é‡
 - å¯ä¼ é€’ä»»æ„ç±»å‹çš„å®å‚
 - å¯ä»¥ä¼ é€’ä»»æ„æ•°é‡çš„å®å‚
 - å¦‚æœæ•°é‡ä¸€æ ·,åˆ™å®å‚å’Œå½¢å‚ä¸€ä¸€å¯¹åº”
 - å¦‚æœå®å‚å°‘,åˆ™æ²¡æœ‰å¯¹åº”çš„å®å‚çš„å½¢å‚æ˜¯undefined
 - å¦‚æœå®å‚å¤š,åˆ™å¤šä½™çš„å®å‚ä¸ä¼šè¢«ä½¿ç”¨
```



#### å‡½æ•°å‚æ•°çš„ä¼ é€’æ–¹å¼
[[202301181129b|å‡½æ•°å‚æ•°ä¼ é€’æ–¹å¼]]







#### ES6-é»˜è®¤å‚æ•°

##### what

åœ¨ECMAScript5.1 åŠä»¥å‰ï¼Œå®ç°é»˜è®¤å‚æ•°çš„ä¸€ç§å¸¸ç”¨æ–¹å¼å°±æ˜¯æ£€æµ‹æŸä¸ªå‚æ•°æ˜¯å¦ç­‰äºundefinedï¼Œå¦‚æœæ˜¯åˆ™æ„å‘³ç€æ²¡æœ‰ä¼ è¿™ä¸ªå‚æ•°ï¼Œé‚£å°±ç»™å®ƒèµ‹ä¸€ä¸ªå€¼; ES6æ”¯æŒæ˜¾å¼å®šä¹‰é»˜è®¤å‚æ•°.

åœ¨ä½¿ç”¨é»˜è®¤å‚æ•°æ—¶ï¼Œarguments å¯¹è±¡çš„å€¼ä¸åæ˜ å‚æ•°çš„é»˜è®¤å€¼ï¼Œåªåæ˜ ä¼ ç»™å‡½æ•°çš„å‚æ•°ã€‚

è·ŸES5 ä¸¥æ ¼æ¨¡å¼ä¸€æ ·ï¼Œä¿®æ”¹å‘½åå‚æ•°ä¹Ÿä¸ä¼šå½±å“arguments å¯¹è±¡ï¼Œå®ƒå§‹ç»ˆä»¥è°ƒç”¨å‡½æ•°æ—¶ä¼ å…¥çš„å€¼ä¸ºå‡†.

é»˜è®¤å‚æ•°å€¼å¹¶ä¸é™äºåŸå§‹å€¼æˆ–å¯¹è±¡ç±»å‹ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨è°ƒç”¨å‡½æ•°è¿”å›çš„å€¼

<u>å‡½æ•°çš„é»˜è®¤å‚æ•°åªæœ‰åœ¨å‡½æ•°è¢«è°ƒç”¨æ—¶æ‰ä¼šæ±‚å€¼ï¼Œä¸ä¼šåœ¨å‡½æ•°å®šä¹‰æ—¶æ±‚å€¼. ä¸”è®¡ç®—é»˜è®¤å€¼çš„å‡½æ•°åªæœ‰åœ¨è°ƒç”¨å‡½æ•°ä½†æœªä¼ ç›¸åº”å‚æ•°æ—¶æ‰ä¼šè¢«è°ƒç”¨</u>ã€‚

```js
//æœªä½¿ç”¨é»˜è®¤å‚æ•°
function multiplay(a,b){
	b=(typeof b!=='undefined'?b:1);
  return a*b;
}
multiplay(5)

//ä½¿ç”¨é»˜è®¤å‚æ•°
function multiplay(a,b=1){
  return a*b;
}
multiply(5)

//argumentså¯¹è±¡å§‹ç»ˆä»¥ä¼ å…¥çš„å€¼ä¸ºå‡†
function makeKing(name = 'Henry') {
  name = 'Louis';
  return `King ${arguments[0]}`;
}
makeKing(); //King undefined
makeKing('Louis'); //King 

//é»˜è®¤å‚æ•°å€¼ä½¿ç”¨å‡½æ•°è¿”å›å€¼
let romanNumerals = ['I', 'II', 'III', 'IV', 'V', 'VI'];
let ordinality = 0;
function getNumerals() {
  //æ¯æ¬¡è°ƒç”¨åé€’å¢
  return romanNumerals[ordinary++];
}
function makeKing(name='Henry', numerals = getNumerals()) {
  return `King ${name} ${numerals}`;
}
console.log(makeKing()); // 'King Henry I'
console.log(makeKing('Louis', 'XVI')); // 'King Louis XVI'
console.log(makeKing()); // 'King Henry II'
console.log(makeKing()); // 'King Henry III'
```



##### **ä½¿ç”¨å¯¹è±¡åšå‡½æ•°é»˜è®¤å€¼ä¸Pythonæ¯”è¾ƒ**

```javascript
function make_list(v, the_list = []) {
  return this_list.push(v)
}

make_list(12) //12

make_list(47) //47

make_list('oh no') //'oh no'
```

```python
def make_list(v, the_list=[]):
	the_list.append(v)
	retur the_list
	
	
make_list(12) //[12]

make_list(47) //[12, 47]

make_list('oh no') ///[12, 47, 'oh no']

//solution

def make_list(v, the_list=[]):
  if the_list is Node:
    the_list = []
  the_list.append(v)
  return the_list
```









##### **é»˜è®¤å‚æ•°è¡¨è¾¾å¼**

é»˜è®¤å‚æ•°é™¤äº†åŸå§‹å€¼,è¿˜å¯ä»¥æ˜¯éåŸå§‹å€¼.ä¾‹å¦‚å‡½æ•°.

```javascript
function getValue() {
  return 5;
}

function add(first, second = getValue()) {
  return first + second;
}

console.log(add(1, 2)); //3
console.log(add(1)); //6
```

åˆæ¬¡è§£æå‡½æ•°å£°æ˜æ—¶ä¸ä¼šè°ƒç”¨getValue()æ–¹æ³•ï¼Œåªæœ‰å½“è°ƒç”¨add()å‡½æ•°ä¸”ä¸ä¼ å…¥ç¬¬äºŒä¸ªå‚æ•°æ—¶æ‰ä¼šè°ƒç”¨ã€‚

æ³¨æ„ï¼Œå½“ä½¿ç”¨å‡½æ•°è°ƒç”¨ç»“æœä½œä¸ºé»˜è®¤å‚æ•°å€¼æ—¶ï¼Œå¦‚æœå¿˜è®°å†™å°æ‹¬å·ï¼Œä¾‹å¦‚ï¼Œsecond= getValueï¼Œåˆ™æœ€ç»ˆä¼ å…¥çš„æ˜¯å¯¹å‡½æ•°çš„å¼•ç”¨ï¼Œè€Œä¸æ˜¯å‡½æ•°è°ƒç”¨çš„ç»“æœã€‚

æ­£å› ä¸ºé»˜è®¤å‚æ•°æ˜¯åœ¨å‡½æ•°è°ƒç”¨æ—¶æ±‚å€¼ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨å…ˆå®šä¹‰çš„å‚æ•°ä½œä¸ºåå®šä¹‰å‚æ•°çš„é»˜è®¤å€¼

```javascript
function add(first, second = first) {
  return first + second;
}

console.log(add(1, 1)); //2
console.log(add(1)); //2
```





##### **é»˜è®¤å‚æ•°ä½œç”¨åŸŸä¸æš‚æ—¶æ€§æ­»åŒº**!

å› ä¸ºåœ¨æ±‚å€¼é»˜è®¤å‚æ•°æ—¶å¯ä»¥å®šä¹‰å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥åŠ¨æ€è°ƒç”¨å‡½æ•°ï¼Œæ‰€ä»¥å‡½æ•°å‚æ•°è‚¯å®šæ˜¯åœ¨æŸä¸ªä½œç”¨åŸŸä¸­
æ±‚å€¼çš„ã€‚ç»™å¤šä¸ªå‚æ•°å®šä¹‰é»˜è®¤å€¼å®é™…ä¸Šè·Ÿä½¿ç”¨let å…³é”®å­—é¡ºåºå£°æ˜å˜é‡ä¸€æ ·.

å› ä¸ºå‚æ•°æ˜¯æŒ‰é¡ºåºåˆå§‹åŒ–çš„ï¼Œæ‰€ä»¥åå®šä¹‰é»˜è®¤å€¼çš„å‚æ•°å¯ä»¥å¼•ç”¨å…ˆå®šä¹‰çš„å‚æ•°

å‚æ•°åˆå§‹åŒ–é¡ºåºéµå¾ªâ€œæš‚æ—¶æ€§æ­»åŒºâ€è§„åˆ™ï¼Œå³å‰é¢å®šä¹‰çš„å‚æ•°ä¸èƒ½å¼•ç”¨åé¢å®šä¹‰çš„

å‚æ•°ä¹Ÿå­˜åœ¨äºè‡ªå·±çš„ä½œç”¨åŸŸä¸­ï¼Œå®ƒä»¬ä¸èƒ½å¼•ç”¨å‡½æ•°ä½“çš„ä½œç”¨åŸŸ

```javascript
function makeKing(name = 'Henry', numerals = 'VIII') {
	return `King ${name} ${numerals}`;
}
console.log(makeKing()); // King Henry VIII
//è¿™é‡Œçš„é»˜è®¤å‚æ•°ä¼šæŒ‰ç…§å®šä¹‰å®ƒä»¬çš„é¡ºåºä¾æ¬¡è¢«åˆå§‹åŒ–ã€‚å¯ä»¥ä¾ç…§å¦‚ä¸‹ç¤ºä¾‹æƒ³è±¡ä¸€ä¸‹è¿™ä¸ªè¿‡ç¨‹ï¼š
function makeKing() {
  let name = 'Henry';
  let numerals = 'VIII';
  return `King ${name} ${numerals}`;
}

//å› ä¸ºå‚æ•°æ˜¯æŒ‰é¡ºåºåˆå§‹åŒ–çš„ï¼Œæ‰€ä»¥åå®šä¹‰é»˜è®¤å€¼çš„å‚æ•°å¯ä»¥å¼•ç”¨å…ˆå®šä¹‰çš„å‚æ•°
function makeKing(name = 'Henry', numerals = name) {
	return `King ${name} ${numerals}`;
}
console.log(makeKing()); // King Henry Henry

//å‚æ•°åˆå§‹åŒ–é¡ºåºéµå¾ªâ€œæš‚æ—¶æ€§æ­»åŒºâ€è§„åˆ™ï¼Œå³å‰é¢å®šä¹‰çš„å‚æ•°ä¸èƒ½å¼•ç”¨åé¢å®šä¹‰çš„
// è°ƒç”¨æ—¶ä¸ä¼ ç¬¬ä¸€ä¸ªå‚æ•°ä¼šæŠ¥é”™
function makeKing(name = numerals, numerals = 'VIII') {
	return `King ${name} ${numerals}`;
}

//å‚æ•°ä¹Ÿå­˜åœ¨äºè‡ªå·±çš„ä½œç”¨åŸŸä¸­ï¼Œå®ƒä»¬ä¸èƒ½å¼•ç”¨å‡½æ•°ä½“çš„ä½œç”¨åŸŸ
// è°ƒç”¨æ—¶ä¸ä¼ ç¬¬äºŒä¸ªå‚æ•°ä¼šæŠ¥é”™
function makeKing(name = 'Henry', numerals = defaultNumeral) {
	let defaultNumeral = 'VIII';
	return `King ${name} ${numerals}`;
}
```

å‡½æ•°å‚æ•°æœ‰è‡ªå·±çš„ä½œç”¨åŸŸå’Œä¸´æ—¶æ­»åŒºï¼Œå…¶ä¸å‡½æ•°ä½“çš„ä½œç”¨åŸŸæ˜¯å„è‡ªç‹¬ç«‹çš„ï¼Œä¹Ÿå°±æ˜¯è¯´<span style="color:blue">å‚æ•°çš„é»˜è®¤å€¼ä¸å¯è®¿é—®å‡½æ•°ä½“å†…å£°æ˜çš„å˜é‡</span>ã€‚



```javascript
// å‡½æ•°è°ƒç”¨æ—¶,å£°æ˜çš„é»˜è®¤å‚æ•°,å¯ä»¥åœ¨å‡½æ•°å¤–éƒ¨è®¿é—®

function f(x) {
  console.log(x);
  var x = 200;
  console.log(x);
  }
f(a = 100);
console.log(a); //100
```







#### ES6-å‰©ä½™å‚æ•°

å°±æ˜¯ä¸‹é¢çš„å‚æ•°æ”¶é›†



#### ES6-å‚æ•°æ‰©å±•ä¸æ”¶é›†

**æ‰©å±•å‚æ•°**

åœ¨ç»™å‡½æ•°ä¼ å‚æ—¶ï¼Œæœ‰æ—¶å€™å¯èƒ½ä¸éœ€è¦ä¼ ä¸€ä¸ªæ•°ç»„ï¼Œè€Œæ˜¯è¦åˆ†åˆ«ä¼ å…¥æ•°ç»„çš„å…ƒç´ .

```javascript
//å‡è®¾æœ‰å¦‚ä¸‹å‡½æ•°å®šä¹‰ï¼Œå®ƒä¼šå°†æ‰€æœ‰ä¼ å…¥çš„å‚æ•°ç´¯åŠ èµ·æ¥ï¼š
let values = [1,2,3,4];
function sum() {
  let sum = 0;
  for (let i=0; i<arguments.length; i++) {
    sum += arguments[i];
  }
  return sum;
}
//es5ä¸­ æƒ³æŠŠå®šä¹‰åœ¨è¿™ä¸ªå‡½æ•°è¿™é¢çš„æ•°ç»„æ‹†åˆ†ï¼Œé‚£ä¹ˆå°±å¾—æ±‚åŠ©äºapply()æ–¹æ³•
console.log(sum().apply(null, values));

//es6 æ‰©å±•æ“ä½œç¬¦
console.log(sum(...values));
```

arguments å¯¹è±¡åªæ˜¯æ¶ˆè´¹æ‰©å±•æ“ä½œç¬¦çš„ä¸€ç§æ–¹å¼ã€‚åœ¨æ™®é€šå‡½æ•°å’Œç®­å¤´å‡½æ•°ä¸­ï¼Œä¹Ÿå¯ä»¥å°†æ‰©å±•æ“ä½œç¬¦ç”¨äºå‘½åå‚æ•°ï¼Œå½“ç„¶åŒæ—¶ä¹Ÿå¯ä»¥ä½¿ç”¨é»˜è®¤å‚æ•°.

```javascript
function getProduct(a, b, c = 1) {
	return a * b * c;
}
let getSum = (a, b, c = 0) => {
	return a + b + c;
}
console.log(getProduct(...[1,2])); // 2
console.log(getProduct(...[1,2,3])); // 6
console.log(getProduct(...[1,2,3,4])); // 6

console.log(getSum(...[0,1])); // 1
console.log(getSum(...[0,1,2])); // 3
console.log(getSum(...[0,1,2,3])); // 3
```



**æ”¶é›†å‚æ•°**

åœ¨å‡½æ•°å®šä¹‰æ—¶ï¼Œå¯ä»¥ä½¿ç”¨æ‰©å±•æ“ä½œç¬¦æŠŠä¸åŒé•¿åº¦çš„ç‹¬ç«‹å‚æ•°ç»„åˆä¸ºä¸€ä¸ªæ•°ç»„(Arrayçš„å®ä¾‹)

æ”¶é›†å‚æ•°çš„å‰é¢å¦‚æœè¿˜æœ‰å‘½åå‚æ•°ï¼Œåˆ™åªä¼šæ”¶é›†å…¶ä½™çš„å‚æ•°ï¼›å¦‚æœæ²¡æœ‰åˆ™ä¼šå¾—åˆ°ç©ºæ•°ç»„ã€‚å› ä¸ºæ”¶é›†
å‚æ•°çš„ç»“æœå¯å˜ï¼Œæ‰€ä»¥åªèƒ½æŠŠå®ƒä½œä¸ºæœ€åä¸€ä¸ªå‚æ•°ï¼š

ä½¿ç”¨æ”¶é›†å‚æ•°å¹¶ä¸å½±å“arguments å¯¹è±¡ï¼Œå®ƒä»ç„¶åæ˜ è°ƒç”¨æ—¶ä¼ ç»™å‡½æ•°çš„å‚æ•°

```javascript
//ä½ç½® åªèƒ½æ”¾åœ¨æœ€å
function getProduct(...values, lastValue) {} //ä¸å¯ä»¥

//ä¸å½±å“argumentså¯¹è±¡
getSum(1,2,3);
function getSum(...values) {
  console.log(arguments.length); //3
  console.log(arguments); //
  console.log(values); //[1,2,3]
}

//æ‰“å°çš„arguments
0: 1
1: 2
2: 3
callee: [Exception: TypeError: 'caller', 'callee', and 'arguments' properties may not be accessed on strict mode functions or the arguments objects for calls to them at Arguments.invokeGetter (<anonymous>:3:28)]
length: 3
Symbol(Symbol.iterator): Æ’ values()
get callee: Æ’ ()
set callee: Æ’ ()
[[Prototype]]: Object
```

å‚æ•°æ”¶é›†(å‰©ä½™å‚æ•°, ä¸å®šå‚æ•°)çš„ä½¿ç”¨é™åˆ¶:

* æ¯ä¸ªå‡½æ•°æœ€å¤šåªèƒ½å£°æ˜ä¸€ä¸ªä¸å®šå‚æ•°,è€Œä¸”ä¸€å®šè¦æ”¾åœ¨æ‰€æœ‰å‚æ•°çš„æœ«å°¾;
* ä¸å®šå‚æ•°ä¸èƒ½ç”¨äºå¯¹è±¡å­—é¢é‡setterä¹‹ä¸­

```javascript
//æŠ›å‡ºè¯­æ³•é”™è¯¯.å½“ä¸å®šå‚åœ¨å¯¹è±¡å­—é¢é‡setterä¸­ä½¿ç”¨
let obj = {
  set name(...value) {
    //
  }
}

//ä¹‹æ‰€ä»¥å­˜åœ¨è¿™æ¡é™åˆ¶ï¼Œæ˜¯å› ä¸ºå¯¹è±¡å­—é¢é‡setterçš„å‚æ•°æœ‰ä¸”åªèƒ½æœ‰ä¸€ä¸ªã€‚è€Œåœ¨ä¸å®šå‚æ•°çš„å®šä¹‰ä¸­ï¼Œå‚æ•°çš„æ•°é‡å¯ä»¥æ— é™å¤šï¼Œæ‰€ä»¥åœ¨å½“å‰ä¸Šä¸‹æ–‡ä¸­ä¸å…è®¸ä½¿ç”¨ä¸å®šå‚æ•°ã€‚
```


