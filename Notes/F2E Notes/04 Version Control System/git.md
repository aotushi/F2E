

## Git

Git æ˜¯ä¸€æ¬¾å¼€æºå…è´¹çš„åˆ†å¸ƒå¼çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œæ˜¯ä¸€ä¸ªåº”ç”¨ç¨‹åº

### èµ„æ–™

> [Gitæƒå¨æŒ‡å— â€” GotGit](https://gotgit.readthedocs.io/en/latest/index.html)



### ä½œç”¨

ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿåœ¨é¡¹ç›®å¼€å‘ä¸­ä½œç”¨é‡å¤§ï¼Œä¸»è¦çš„åŠŸèƒ½æœ‰ä»¥ä¸‹å‡ ç‚¹

- ä»£ç å¤‡ä»½
- ç‰ˆæœ¬å›é€€
- åä½œå¼€å‘
- æƒé™æ§åˆ¶

### ä¸‹è½½å®‰è£…

ä¸‹è½½åœ°å€ <https://git-scm.com/>

å®‰è£…æ–¹å¼ä¸ QQ å®‰è£…ç›¸åŒï¼Œä¸€è·¯ä¸‹ä¸€æ­¥ï¼Œä¸­é—´å¯ä»¥è®¾ç½®è½¯ä»¶çš„å®‰è£…è·¯å¾„



### Linux å¸¸ç”¨å‘½ä»¤

Linux æ˜¯ä¸€å¥—å¼€æºå…è´¹çš„æ“ä½œç³»ç»Ÿã€‚ä¸ç³»ç»Ÿçš„äº¤äº’é€šå¸¸ç”¨å‘½ä»¤æ¥å®ç°ï¼Œå¸¸ç”¨çš„å‘½ä»¤æœ‰ï¼š

- <span style="color:red">ls</span>         æŸ¥çœ‹æ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶ ï¼ˆlist å•è¯çš„ç¼©å†™ï¼‰   
- <span style="color:red">cd</span>       è¿›å…¥æŸä¸€ä¸ªæ–‡ä»¶å¤¹å†… ï¼ˆchange directory ç¼©å†™ï¼‰ cd .. å›åˆ°ä¸Šä¸€çº§  <span style="color:red">Tab é”®è‡ªåŠ¨è¡¥å…¨è·¯å¾„</span>
- clear   æ¸…å±ï¼ˆä¹Ÿå¯ä»¥ä½¿ç”¨ <span style="color:red">ctrl + lÂ </span> å¿«æ·é”®ï¼‰
- mkdir  åˆ›å»ºæ–‡ä»¶å¤¹ï¼ˆmake directoryï¼‰
- touch  test.html   åˆ›å»ºä¸€ä¸ªæ–‡ä»¶
- rm   test.html   åˆ é™¤æ–‡ä»¶ remove
- rm  dir   -r   åˆ é™¤æ–‡ä»¶å¤¹ (-r åˆ é™¤æ–‡ä»¶å¤¹é€‰é¡¹  -f å¼ºåˆ¶) force 
- mv   test.html  t.html   ç§»åŠ¨æ–‡ä»¶ï¼Œé‡å‘½å  move  ç¼©å†™
- cat   test.html  æŸ¥çœ‹æ–‡ä»¶å†…å®¹
- ctrl + c å–æ¶ˆå‘½ä»¤ (cancel)
- Tab è‡ªåŠ¨è¡¥é½è·¯å¾„
- <span style="color:red">ä¸Šä¸‹æ–¹å‘é”®</span>ï¼Œå¯ä»¥æŸ¥çœ‹å‘½ä»¤å†å² (history æŸ¥çœ‹æ‰€æœ‰çš„å†å²å‘½ä»¤)

Vim æ˜¯ä¸€æ¬¾å‘½ä»¤è¡Œä¸‹çš„æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œç¼–è¾‘æ–¹å¼è·Ÿå›¾å½¢åŒ–ç¼–è¾‘å™¨ä¸åŒ

* `vim test.html`  ç¼–è¾‘æ–‡ä»¶ï¼ˆæ–‡ä»¶ä¸å­˜åœ¨åˆ™åˆ›å»ºï¼‰
* i    è¿›å…¥ç¼–è¾‘æ¨¡å¼(i  insert)
* `ESC` + `:wq` ä¿å­˜å¹¶é€€å‡º
* `ESC` + `:q!` ä¸ä¿å­˜å¹¶é€€å‡º

![img](D:/0922frontend/ä¹ é¢˜&ç¬”è®°/ç¬”è®°/assets/vim-vi-workmodel.png)

### Git ä½¿ç”¨

```js
å®˜æ–¹æ–‡æ¡£:https://git-scm.com/docs
```





### gitä¼ è¾“åè®®

> [é€šè¿‡ https / ssh åè®®æ¨æ‹‰ä»£ç  - Gitee.com](https://gitee.com/help/articles/4238#article-header0)



### åŸºæœ¬ä»‹ç»

#### .git ç›®å½•

![1576587724690](D:/0922frontend/ä¹ é¢˜&ç¬”è®°/ç¬”è®°/assets/1576587724690.png)

* hooks ç›®å½•åŒ…å«å®¢æˆ·ç«¯æˆ–æœåŠ¡ç«¯çš„é’©å­è„šæœ¬ï¼Œåœ¨ç‰¹å®šæ“ä½œä¸‹è‡ªåŠ¨æ‰§è¡Œ
* info ä¿¡æ¯æ–‡ä»¶å¤¹. åŒ…å«ä¸€ä¸ªå…¨å±€æ€§æ’é™¤æ–‡ä»¶ï¼Œå¯ä»¥é…ç½®æ–‡ä»¶å¿½ç•¥
* logs ä¿å­˜æ—¥å¿—ä¿¡æ¯
* objects <span style='color:red'>ç›®å½•å­˜å‚¨æ‰€æœ‰æ•°æ®å†…å®¹</span>,æœ¬åœ°çš„ç‰ˆæœ¬åº“å­˜æ”¾ä½ç½®
* refs ç›®å½•å­˜å‚¨æŒ‡å‘æ•°æ®çš„æäº¤å¯¹è±¡çš„æŒ‡é’ˆï¼ˆåˆ†æ”¯ï¼‰
* config æ–‡ä»¶åŒ…å«é¡¹ç›®ç‰¹æœ‰çš„é…ç½®é€‰é¡¹
* description ç”¨æ¥æ˜¾ç¤ºå¯¹ä»“åº“çš„æè¿°ä¿¡æ¯
* HEAD æ–‡ä»¶æŒ‡ç¤ºç›®å‰è¢«æ£€å‡ºçš„åˆ†æ”¯
* index æš‚å­˜åŒºæ–‡ä»¶ï¼Œæ˜¯ä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶  (git ls-files)

> åˆ‡è®°ï¼š <span style="color:red">ä¸è¦æ‰‹åŠ¨å»ä¿®æ”¹ .git æ–‡ä»¶å¤¹ä¸­çš„å†…å®¹</span>

#### ç‰ˆæœ¬åº“çš„ä¸‰ä¸ªåŒºåŸŸ

* å·¥ä½œåŒºï¼ˆä»£ç ç¼–è¾‘åŒºï¼‰
* æš‚å­˜åŒºï¼ˆä¿®æ”¹å¾…æäº¤åŒºï¼‰
* ä»“åº“åŒºï¼ˆä»£ç ä¿å­˜åŒºï¼‰

![img](https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=2469289094,3249956923&fm=26&gp=0.jpg)

#### ç©ºæ–‡ä»¶å¤¹æ— æ³•æäº¤

gitå’Œ svnä¸åŒï¼Œä»…ä»…è·Ÿè¸ªæ–‡ä»¶çš„å˜åŠ¨ï¼Œä¸è·Ÿè¸ªç›®å½•ã€‚

```HTML
æœ€ä¸»æµçš„åšæ³•æ˜¯ï¼Œåœ¨ç©ºç›®å½•ä¸‹åˆ›å»º .gitkeep æˆ–è€… .keep ç©ºæ–‡ä»¶ï¼Œæˆ–è€… .gitignore æ–‡ä»¶ï¼Œè¿™åªæ˜¯ä¸€ä¸ªçº¦å®šä¿—æˆçš„ç©ºç›®å½•è¯†åˆ«æ–‡ä»¶åï¼Œå…¶å®é™¤äº†å ä½è¯†åˆ«ç©ºç›®å½•
```



#### å…³äºé¢œè‰²

* çº¢è‰²   çº¢è‰²çš„æ–‡ä»¶ ä¿®æ”¹åªå­˜åœ¨äºã€å·¥ä½œåŒºã€
* ç»¿è‰²   ç»¿è‰²çš„æ–‡ä»¶ æ­¤ä¿®æ”¹å­˜åœ¨äºã€å·¥ä½œåŒºä¸æš‚å­˜åŒºã€



### ä½¿ç”¨é…ç½®

#### æœ¬åœ°ç”Ÿæˆå¯†é’¥è¿æ¥è¿œç«¯

[æ–‡ç« æ¥æº](https://juejin.cn/post/6844904008163786765)

æœ¬åœ°ç”Ÿæˆå¯†é’¥æ˜¯é…åˆç‰ˆæœ¬å·¥å…·è¿›è¡Œå¼€å‘.ä¸€èˆ¬æœ¬åœ°åªæœ‰ä¸€å¥—å¯†é’¥,ä½†ä¹Ÿå¯ä»¥æ ¹æ®ä¸åŒçš„é‚®ç®±ä¸ºå¤šä¸ªè¿œç«¯ç”Ÿæˆç›¸åº”çš„å¯†é’¥.

1.**ç”ŸæˆSSH-key**

åœ¨gitä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤,è·¯å¾„ä¸å½±å“,ä¼šåœ¨windowç³»ç»Ÿç”¨æˆ·æ–‡ä»¶å¤¹ä¸‹çš„`.ssh`æ–‡ä»¶å¤¹ä¸‹ç”Ÿæˆç›¸åº”å¯†é’¥.

```cmd
//ç”Ÿæˆæ–¹æ³•1
ssh-keygen -t ed25519 -C 'email@example.com'ssh-keygen -t ed25519 -C "email@example.com"  -f ~/.ssh/gitlab_id_rsa

//ç”Ÿæˆæ–¹æ³•2
ssh-keygen -o -t rsa -b 4096 -C "email@example.com" -f ~/.ssh/gitlab_id_rsa

//ä»¥ä¸Šä¸¤ç§æ–¹æ³•åŠ å¯†æ–¹å¼ä¸åŒ
email@example.com ä»£è¡¨æ³¨å†ŒGitlabè´¦å·æ—¶ç”¨çš„é‚®ç®±
-f ä»£è¡¨æ–‡ä»¶å
~/.ssh/ ä»£è¡¨sshçš„æ–‡ä»¶è·¯å¾„
gitlab_id-rsa ä»£è¡¨sshæ–‡ä»¶åï¼ˆå¯ä»¥è‡ªå®šä¹‰ï¼‰
```



2.**è¿œç«¯ç½‘ç«™æ·»åŠ SSH-key**

3.**æµ‹è¯•å¯†é’¥**

ä»¥`GitHub`ä¸ºä¾‹ï¼Œåœ¨`GitBash`ä¸­è¾“å…¥ä»¥ä¸‹çš„å‘½ä»¤

```js
ssh -T git@github.com
//å¦‚æœè¿æ¥æˆåŠŸ,ä¼šæ˜¾ç¤ºç›¸åº”ä¿¡æ¯.
```





#### åŒä¸€ç”µè„‘é…ç½®å¤šä¸ªGitå…¬é’¥

> [ä¸€äº›å¸¸ç”¨çš„ Git è¿›é˜¶çŸ¥è¯†ä¸æŠ€å·§ - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/431093836)





[åŒä¸€å°ç”µè„‘é…ç½®Giteeã€Github çš„ Git SSHå…¬é’¥](https://blog.csdn.net/u010698107/article/details/113485131)

1.æ¸…é™¤gitçš„å…¨å±€è®¾ç½®

```javascript
//æŸ¥çœ‹å…¨å±€é…ç½®
git config --global --list


//åˆ é™¤å…¨å±€ç”¨æˆ·åå’Œé‚®ç®±
git config --global --unset user.name
git config --global --unset user.email
```

2.åˆ›å»ºssh key

è¿›å…¥`.ssh`æ–‡ä»¶å¤¹ä¸‹, ç”Ÿæˆkey

```javascript
cd ~/.ssh
ssh-keygen -t rsa -C "xxx@xxx.com" 
//é‚®ä»¶åœ°å€ä¸ºgiteeæˆ–githubä½¿ç”¨çš„é‚®ä»¶åœ°å€
```

3.é…ç½®githubç§˜é’¥

```javascript
ssh-keygen -t rsa -C "githubä½¿ç”¨çš„é‚®ç®±åœ°å€"

//è®¾ç½®githubçš„ssh keyåç§°ä¸ºid_rsa_github
```

4.é…ç½®giteeç§˜é’¥

```javascript
ssh-keygen -t rsa -C "giteeä½¿ç”¨çš„é‚®ç®±åœ°å€"
//è®¾ç½®giteeçš„ssh keyä¿å­˜åç§°ä¸º id_rsa_gitee
```

5.å‘githubå’Œgiteeæ·»åŠ å…¬é’¥public key

6.åˆ›å»ºé…ç½®æ–‡ä»¶,è§£å†³sshå†²çª

6.1åœ¨`.ssh`æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºconfigæ–‡ä»¶

6.2æ·»åŠ å†…å®¹ä»¥åŒºåˆ†ä¸¤ä¸ªssh key

```javascript
cd ~/.ssh
vim config

#github
Host github.com
HostName github.com
PreferredAuthentications publickey
IdentityFile ~/.ssh/id_rsa_github

#gitee
Host gitee.com
HostName gitee.com
PreferredAuthentications publickey
IdentityFile ~/.ssh/id_rsa_gitee
```

7.æµ‹è¯•é“¾æ¥æ˜¯å¦æ­£å¸¸

```javascript
ssh -T git@github.com

ssh -T git@gitee.com
```





#### ä½¿ç”¨ä¸ªäººä»¤ç‰Œæ–¹æ³•è®¿é—®github

**èƒŒæ™¯**

> åœ¨2021å¹´8æœˆåœæ­¢ä½¿ç”¨è´¦å·å’Œå¯†ç çš„æ–¹å¼è®¿é—®githubä»“åº“ï¼Œæ”¹ä¸ºtokenè®¤è¯çš„æ–¹å¼ã€‚

**tokenè·å–æ–¹å¼**

> setting-->Developer settings-->Personal access tokens--> Generate new token

**æœ¬åœ°å·²æœ‰ä»“åº“æ›´æ”¹å¯†ç ä¸ºtoken**

> git config --local user.password token    //--localå«ä¹‰ä¸ºåªè®¾ç½®å½“å‰ä»“åº“çš„å¯†ç  --globalå°±æ˜¯è®¾ç½®å…¨å±€çš„å¯†ç 





#### èµ·å§‹é…ç½®ç”¨æˆ·åå’Œé‚®ç®±

ç¬¬ä¸€æ¬¡ä½¿ç”¨ Git çš„æ—¶å€™ï¼Œä¼šè¦æ±‚æˆ‘ä»¬é…ç½®ç”¨æˆ·åå’Œé‚®ç®±ï¼Œç”¨äºè¡¨ç¤ºå¼€å‘è€…çš„ä¿¡æ¯

```
git config --global user.name "Your Name" 

git config --global user.email "email@example.com" 
```

> æ³¨æ„å‘½ä»¤ä¹‹é—´çš„ç©ºæ ¼

å¯ä»¥ä½¿ç”¨ `git config -l `å‘½ä»¤æ¥æŸ¥çœ‹é…ç½®ä¿¡æ¯



#### ä»£ç†é…ç½®

##### HTTP

è¿è¡Œgit configä¹‹å,å¯ä»¥çœ‹åˆ°optionsä¿¡æ¯. åœ¨config file locationä¸­å¯ä»¥çœ‹åˆ°åˆglobal,system,local,blobç­‰å…³é”®å­—åŠè§£é‡Š.

global å³æ˜¯è¯»/å†™å½“å‰ç”¨æˆ·å…¨å±€çš„é…ç½®æ–‡ä»¶(~/.gitconfig æ–‡ä»¶ï¼Œå±äºæŸä¸ªè®¡ç®—æœºç”¨æˆ·).  --glboal é€‰é¡¹æŒ‡çš„æ˜¯ä¿®æ”¹ Git çš„å…¨å±€é…ç½®æ–‡ä»¶ ~/.gitconfigï¼Œè€Œéå„ä¸ª Git ä»“åº“é‡Œçš„é…ç½®æ–‡ä»¶ .git/configã€‚protocol æŒ‡çš„æ˜¯ä»£ç†çš„åè®®ï¼Œå¦‚ httpï¼Œhttpsï¼Œsocks5 ç­‰ã€‚port åˆ™ä¸ºç«¯å£å·ã€‚

system å³æ˜¯è¯»å†™ç³»ç»Ÿå…¨å±€çš„é…ç½®æ–‡ä»¶(/etc/gitconfig æ–‡ä»¶ï¼Œå±äºè®¡ç®—æœº)

local å³æ˜¯å½“å‰ clone ä»“åº“ çš„é…ç½®æ–‡ä»¶(ä½äº clone ä»“åº“ä¸‹ .git/config)

```js
https://ericclose.github.io/git-proxy-config.html

//æŸ¥çœ‹å…¨å±€çš„http httpsä»£ç† getå‰é¢å¥½åƒæ²¡æœ‰æ¨ªçº¿
git config --global --get http.proxy
git config --global --get https.proxy



#httpä»£ç†
// è®¾ç½®HTTP ä»£ç† é’ˆå¯¹æ‰€æœ‰åŸŸå
git config --global http.proxy http://127.0.0.1:1080
git config --global https.proxy http://127.0.0.1:1080

// è®¾ç½®Socks5 ä»£ç†
git config --global http.proxy socks5://127.0.0.1:1080
git config --global https.proxy socks5://127.0.0.1:1080
è¿™é‡Œçš„ socks5 ä»…ä»…æ˜¯ä»£ç†ä½¿ç”¨çš„åè®®ï¼Œå®ƒä¾ç„¶æ˜¯é’ˆå¯¹ http è®¾ç½®çš„ï¼Œæ‰€ä»¥ä»…å¯¹ http åè®®çš„ä»“åº“æœ‰æ•ˆã€‚ä½¿ç”¨ git@xxx è¿™ç§ ssh è¿æ¥çš„ä¸ä¼šä½¿ç”¨ä»£ç†ã€‚

//åŸŸåä»£ç†  git config â€“global http.url.proxy protocol://127.0.0.1:port Git ä¸è®¤ https.proxy ï¼Œè®¾ç½® http.proxy å°±å¯ä»¥æ”¯æŒ https äº†ã€‚

git config --global http.https://github.com.proxy http://127.0.0.1:1080


//å–æ¶ˆhttp httpsä»£ç†
git config --global --unset http.proxy
git config --global --unset https.proxy
```



##### SSH

```js
åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒGit ä¾é  ssh å¤„ç†è¿æ¥ï¼› ä¸ºäº†é€šè¿‡ä»£ç†è¿›è¡Œè¿æ¥ï¼Œæ‚¨å¿…é¡»é…ç½® ssh æœ¬èº«ï¼Œåœ¨ ~/.ssh/config æ–‡ä»¶ä¸­è®¾ç½® ProxyCommand é€‰é¡¹ã€‚Linux å’Œ macOS æ˜¯é€šè¿‡ nc æ¥æ‰§è¡Œ ProxyCommand çš„ï¼ŒWindows ä¸‹åˆ™æ˜¯é€šè¿‡ connectã€‚

//httpsä»£ç†
1.ç¼–è¾‘ ~/.ssh/configæ–‡ä»¶
2.æ–‡ä»¶æ·»åŠ å¦‚ä¸‹å†…å®¹
 Host github.com
 	User git
  ProxyCommand connect -H 127.0.0.1:7890 %h %p


Host åé¢ æ¥çš„ github.com æ˜¯æŒ‡å®šè¦èµ°ä»£ç†çš„ä»“åº“åŸŸåã€‚
åœ¨ ProxyCommand ä¸­ï¼ŒWindows ç”¨æˆ·ç”¨çš„æ˜¯ connect ã€‚
-H é€‰é¡¹çš„æ„æ€æ˜¯ HTTP ä»£ç†ã€‚
åœ¨è°ƒç”¨ ProxyCommand æ—¶ï¼Œï¼…h å’Œ ï¼…p å°†ä¼šè¢«è‡ªåŠ¨æ›¿æ¢ä¸ºç›®æ ‡ä¸»æœºåå’Œ SSH å‘½ä»¤æŒ‡å®šçš„ç«¯å£ï¼ˆ %h å’Œ %p ä¸è¦ä¿®æ”¹ï¼Œä¿ç•™åŸæ ·å³å¯ï¼‰ã€‚

//socks5ä»£ç†
1.ç¼–è¾‘ ~/.ssh/config æ–‡ä»¶
vim ~/.ssh/config

2.ç»™æ–‡ä»¶åŠ ä¸Šå¦‚ä¸‹å†…å®¹ï¼š
Host github.com
    User git
    ProxyCommand connect -S 127.0.0.1:7891 %h %p


è§£é‡Šï¼š
Host åé¢ æ¥çš„ github.com æ˜¯æŒ‡å®šè¦èµ°ä»£ç†çš„ä»“åº“åŸŸåã€‚
åœ¨ ProxyCommand ä¸­ï¼ŒWindows ç”¨æˆ·ç”¨çš„æ˜¯ connectã€‚
å•ç‹¬çš„ -S é€‰é¡¹æŒ‡çš„å°±æ˜¯ socks5 ä»£ç†
åœ¨è°ƒç”¨ ProxyCommand æ—¶ï¼Œï¼…h å’Œ ï¼…p å°†ä¼šè¢«è‡ªåŠ¨æ›¿æ¢ä¸ºç›®æ ‡ä¸»æœºåå’Œ SSH å‘½ä»¤æŒ‡å®šçš„ç«¯å£ï¼ˆ %h å’Œ %p ä¸è¦ä¿®æ”¹ï¼Œä¿ç•™åŸæ ·å³å¯ï¼‰ã€‚
```





#### ä½¿ç”¨sshæˆ–httpsæ–¹å¼pull/push

```js
//https://www.cnblogs.com/zhoumiao/p/10493403.html

åˆ‡æ¢æˆhttpsè®¿é—®
git remote set-url origin https://...

åˆ‡æ¢æˆsshæ–¹æ³•
git remote set-url origin git@...
```



#### æŸ¥çœ‹æœ¬æœºssh keyå…¬é’¥

```js
cat ~/.ssh/id_rsa.pub
```



#### è¿œç¨‹ä»“åº“

```js
//æ˜¾ç¤ºæ‰€æœ‰è¿œç¨‹ä»“åº“
git remote -v

//æ·»åŠ è¿œç¨‹ç‰ˆæœ¬åº“
git remote add [shortname][url] //shortnameä¸ºæœ¬åœ°çš„ç‰ˆæœ¬åº“: git rmeote add origin git@github.com:..

//åˆ é™¤è¿œç¨‹ä»“åº“
git remote rm name

//ä¿®æ”¹è¿œç¨‹ä»“åº“åç§°
git remote rename old_name new_name
```







#### é…ç½®å¿½ç•¥æ–‡ä»¶.gitigonre

.gitignore å¯ä»¥åœ¨å­æ–‡ä»¶å¤¹ä¸‹åˆ›å»º

##### ä»“åº“ä¸­æ²¡æœ‰æäº¤è¯¥æ–‡ä»¶

é¡¹ç›®ä¸­æœ‰äº›æ–‡ä»¶ä¸åº”è¯¥å­˜å‚¨åˆ°ç‰ˆæœ¬åº“ä¸­ï¼ŒGit ä¸­éœ€è¦åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ ã€.gitignoreã€ é…ç½®å¿½ç•¥ï¼Œä¸€èˆ¬ä¸ .git ç›®å½•åŒçº§ã€‚

å¸¸è§æƒ…å†µæœ‰ï¼š

1. ä¸´æ—¶æ–‡ä»¶.     
2. å¤šåª’ä½“æ–‡ä»¶ï¼Œå¦‚éŸ³é¢‘ï¼Œè§†é¢‘
3. ç¼–è¾‘å™¨ç”Ÿæˆçš„é…ç½®æ–‡ä»¶  (.idea)
4. npm å®‰è£…çš„ç¬¬ä¸‰æ–¹æ¨¡å—

```js
//ä»¥#å¼€å§‹çš„è¡Œ,è¢«è§†ä¸ºæ³¨é‡Š

//å¿½ç•¥æ‰€æœ‰çš„ .idea æ–‡ä»¶å¤¹
.idea
//å¿½ç•¥æ‰€æœ‰ä»¥ .test ç»“å°¾çš„æ–‡ä»¶
*.test
//å¿½ç•¥ node_modules æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ æ–œæ åŠ ä¸åŠ éƒ½å¯ä»¥
/node_modules

//å¿½ç•¥æ‰æ‰€æœ‰æ–‡ä»¶åæ˜¯foo.txtçš„æ–‡ä»¶
foo.txt

//å¿½ç•¥æ‰€æœ‰ç”Ÿæˆçš„htmlæ–‡ä»¶,é™¤äº†foo.html
*.html
!foo.html

//å¿½ç•¥æ‰€æœ‰.oå’Œ.aæ–‡ä»¶
*.[oa]
```





##### ä»“åº“ä¸­å·²ç»æäº¤è¯¥æ–‡ä»¶
ä¸æ¨è
```js
//1.å¯¹äºå·²ç»åŠ å…¥åˆ°ç‰ˆæœ¬åº“çš„æ–‡ä»¶ï¼Œå¯ä»¥åœ¨ç‰ˆæœ¬åº“ä¸­åˆ é™¤è¯¥æ–‡ä»¶
git rm --cached .idea

//ç„¶ååœ¨ .gitignore ä¸­é…ç½®å¿½ç•¥
.idea

//æœ€å
add  å’Œ commit æäº¤å³å¯
```

[æ¨è](https://blog.csdn.net/NEWCIH/article/details/121989006)
```bash
git update-index --assume-unchanged æ–‡ä»¶å

git update-index --assume-unchanged *.obsidian
```
å¦‚æœä½ éœ€è¦é‡æ–°è¿½è¸ªè¯¥æ–‡ä»¶å¤¹ï¼Œä½ å¯ä»¥ä½¿ç”¨ `git update-index --no-assume-unchanged <file_or_folder>` å‘½ä»¤ã€‚





### åŸºæœ¬æ“ä½œ

#### åˆå§‹åŒ–åŠæäº¤

Git çš„èµ·å§‹æ“ä½œåŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤

1. åˆ›å»ºå¹¶è¿›å…¥ç©ºæ–‡ä»¶å¤¹
2. å³é”® -> ç‚¹å‡» Git Bash Here å¯åŠ¨å‘½ä»¤è¡Œ
3. `git init` ä»“åº“åˆå§‹åŒ–
4. åˆ›å»ºä¸€ä¸ªåˆå§‹åŒ–æ–‡ä»¶ index.html
5. `git add index.html` å°†æ–‡ä»¶åŠ å…¥åˆ°æš‚å­˜åŒº
6. `git commit -m 'æ³¨é‡Š'`   æäº¤åˆ°ä»“åº“  m æ˜¯ message å•è¯çš„ç¼©å†™





#### æŸ¥çœ‹æš‚å­˜åŒºæ–‡ä»¶

```git
git ls-files
```





#### å¸¸ç”¨å‘½ä»¤

```js
- git status ç‰ˆæœ¬çŠ¶æ€æŸ¥çœ‹ 
- git add -A æ·»åŠ æ‰€æœ‰æ–°æ–‡ä»¶åˆ°æš‚å­˜åŒº
- git commit -m 'æ³¨é‡Š ' æäº¤ä¿®æ”¹å¹¶æ³¨é‡Š
- git diff  æŸ¥çœ‹å·¥ä½œåŒºä¸æš‚å­˜åŒºçš„å·®å¼‚ï¼ˆä¸æ˜¾ç¤ºæ–°å¢æ–‡ä»¶ï¼‰ æ˜¾ç¤ºåšäº†å“ªäº›ä¿®æ”¹
- git diff --cached æŸ¥çœ‹æš‚å­˜åŒºä¸ä»“åº“çš„å·®å¼‚

```



```bash
git checkout -b branchName

git add .

git commit -m 'xxx'

git checkout master

git merget branchName

git pull

git push
```







#### çŠ¶æ€æŸ¥çœ‹

git status æŸ¥çœ‹å½“å‰ Git ä»“åº“çš„çŠ¶æ€

#### å¸¸è§çŠ¶æ€

```
On branch master    åœ¨ master åˆ†æ”¯ä¸Š
nothing to commit, working tree clean  æ²¡æœ‰ä»€ä¹ˆéœ€è¦æäº¤, å·¥ä½œæ ‘æ˜¯å¹²å‡€çš„
```

å·¥ä½œåŒºçš„æ‰€æœ‰çš„ä¿®æ”¹éƒ½å·²ç»æäº¤

```
Untracked files:    æœªè·Ÿè¸ªçš„æ–‡ä»¶(æ–°çš„æ–‡ä»¶)
  (use "git add <file>..." to include in what will be committed)
        cart.html   
```

æœ‰æ–°å¢æ–‡ä»¶

```
Changes to be committed:  ä»¥ä¸‹ä¿®æ”¹å°†ä¼šè¢«æäº¤
  (use "git restore --staged <file>..." to unstage)
        new file:   cart.html
```

æš‚å­˜åŒºæœ‰æ–°çš„ä¿®æ”¹, å¯ä»¥ä½¿ç”¨ git commit å‘½ä»¤è¿›è¡Œæäº¤

```
Changes not staged for commit:  ä¸ºç™»ä¸Šèˆå°ä¿®æ”¹æäº¤
  (use "git add <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
        modified:   app.css
        modified:   app.js
```

åœ¨å·¥ä½œåŒºå¯¹è¿™å‡ ä¸ªæ–‡ä»¶è¿›è¡Œäº†å†…å®¹ä¿®æ”¹.



### gitå‘½ä»¤

#### å†å²ç‰ˆæœ¬å›æ»š

> HEADæŒ‡å‘çš„ç‰ˆæœ¬å°±æ˜¯å½“å‰çš„ç‰ˆæœ¬,å› æ­¤gitå…è®¸æˆ‘ä»¬åœ¨ç‰ˆæœ¬çš„å†å²ä¹‹é—´ç©¿æ¢­.
>
> ä½¿ç”¨git logæŸ¥çœ‹æäº¤å†å²,æŸ¥è¯¢éœ€è¦è¿”å›çš„ç‰ˆæœ¬çš„id
>
> ç‰ˆæœ¬å›é€€ä¹‹å,éœ€è¦å†æ¬¡å›åˆ°å›é€€å‰,å¯ä»¥ä½¿ç”¨git reflogæŸ¥çœ‹å‘½ä»¤å†å², é‡Œé¢ä¼šæœ‰éœ€è¦çš„ç‰ˆæœ¬id

#### ç‰ˆæœ¬å›æ»šçš„[3ç§æƒ…å†µ](https://blog.csdn.net/weixin_43410419/article/details/84672111):

#### 1.æ˜ç¡®çŸ¥é“å›é€€åˆ°ç¬¬å‡ ä¸ªç‰ˆæœ¬

```js
å›åˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬: git reset --hard HEAD
å›åˆ°ä¸Šä¸Šä¸€ä¸ªç‰ˆæœ¬: git reset --hard HEAD^^
å›åˆ°20ä¸ªç‰ˆæœ¬ä¹‹å‰: git reset --hard HEAD~20
```

#### 2. å›é€€ç‰ˆæœ¬ä¸ç¡®å®š

```js
1.ä½¿ç”¨git log æŸ¥çœ‹æ¯æ¬¡çš„æäº¤è®°å½•
2.å€ŸåŠ©idæ¥å›é€€
git reset --hard commit_id  //idå¯ä»¥åªç®€å†™ä¸ºå‰7ä½. è¿”å›æŸä¸ªèŠ‚ç‚¹,ä¸ä¿ç•™ä¿®æ”¹.

git commitä¹‹å,æ’¤é”€commitæäº¤,å´ä¿ç•™ä»£ç :
git reset --soft HEAD^ //HEAD^æ˜¯ä¸Šä¸€ä¸ªç‰ˆæœ¬,ä¹Ÿå¯ä»¥å†™æˆHEAD~1
```

#### 3. å›é€€åˆ°æŸä¸ªæ–‡ä»¶ä¹‹å,åˆéœ€è¦è¿”å›æœ€è¿‘æ›´æ–°çš„æŸä¸ªç‰ˆæœ¬

```js
1. git reflog æŸ¥çœ‹æ¯ä¸€æ¬¡å‘½ä»¤è®°å½•
2. git reset --hard commit_id è¿”å›ç›¸åº”çš„ç‰ˆæœ¬
```

#### 4.æ”¾å¼ƒæ‰€æœ‰æœ¬åœ°ä¿®æ”¹

```js
git checkout . //åœ¨addä¹‹å‰ä½¿ç”¨,æ’¤é”€æ‰€æœ‰çš„æ›´æ”¹. åœ¨addä¹‹åä½¿ç”¨,æ— æ•ˆ.
```











#### åˆ†æ”¯

åˆ†æ”¯æ˜¯ Git é‡è¦çš„åŠŸèƒ½ç‰¹æ€§ä¹‹ä¸€ï¼Œå¼€å‘äººå‘˜å¯ä»¥åœ¨ä¸»å¼€å‘çº¿çš„åŸºç¡€ä¸Šåˆ†ç¦»å‡ºæ–°çš„å¼€å‘çº¿ã€‚branch

#### åŸºæœ¬ä»‹ç»

```js
//ä¸ºä»€ä¹ˆä½¿ç”¨åˆ†æ”¯? https://blog.csdn.net/IAlexanderI/article/details/83239459
æœ¬æ¥åœ¨masteråˆ†æ”¯ä¸Šå¼€å‘çš„,å¦‚æœæˆ‘æ¯å®ç°ä¸€ä¸ªå°çš„åŠŸèƒ½,å°±è¿›è¡Œä¸€æ¬¡commitçš„è¯?é‚£ä¹ˆåˆ†æ”¯ä¸Šä¸å°±æœ‰å¾ˆå¤šçš„commitçš„å—?æ¨é€ä¸Šå»,æ‚¨ä¼šçœ‹è§æœåŠ¡å™¨ä¸Šæœ‰å¾ˆå¤šä¸å¿…è¦çš„æäº¤,è¿™æ ·å­å°±ä¸ç®€æ´äº†,ç‰ˆæœ¬å†å²ä¹Ÿä¸æ¸…æ¥š.ä½†æ˜¯ä½¿ç”¨åˆ†æ”¯,å®Œæˆä¸€ä¸ªå®Œæ•´çš„åŠŸèƒ½,ç„¶åä¸»åˆ†æ”¯ä½¿ç”¨ git merge --squash branchName åˆå¹¶åˆ†æ”¯,åšä¸€ä¸ªæ•´çš„æäº¤æ¨é€,é‚£ä¹ˆæœåŠ¡å™¨ä¸Šçš„å†å²åªæœ‰è¿™ä¸€ä¸ªcommitçš„äº†,è¿™ä¸å°±ç®€æ´äº†å—?
    

```



#### åŸºæœ¬æ“ä½œ

| åºå· | å‚æ•°                   | æè¿°                            |
| ---- | ---------------------- | ------------------------------- |
| 1    | git branch             | æŸ¥çœ‹åˆ†æ”¯                        |
| 2    | git branch name        | æ–°å»ºåˆ†æ”¯,å…¶ä¸­nameä¸ºåˆ†æ”¯åç§°     |
| 2.5  | git checkout -b name   | åˆ›å»ºå¹¶åˆ‡æ¢åˆ†æ”¯                  |
| 3    | git checkout name      | åˆ‡æ¢åˆ°nameåˆ†æ”¯                  |
| 4    | git merge name         | åˆå¹¶nameåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯          |
| 5    | git branch -d name     | åˆ é™¤nameåˆ†æ”¯                    |
| 6    | git push -u name:name1 | æäº¤æœ¬åœ°åˆ†æ”¯nameåˆ°è¿œç¨‹åˆ†æ”¯name1 |
| 7    | git log                | æŸ¥çœ‹commitæ—¥å¿—                  |

##### åˆ›å»ºåˆ†æ”¯

name ä¸ºåˆ†æ”¯çš„åç§°

```sh
git branch name   
```

æŸ¥çœ‹åˆ†æ”¯

```sh
git branch
```

##### åˆ‡æ¢åˆ†æ”¯

```sh
git checkout name
```

##### åˆå¹¶åˆ†æ”¯ //

```sh
git merge name éœ€è¦åœ¨ä¸»åˆ†æ”¯ä¸‹åˆå¹¶
```

##### åˆ é™¤åˆ†æ”¯

```sh
git branch -d name
```

##### åˆ›å»ºå¹¶åˆ‡æ¢åˆ†æ”¯

```sh
git checkout -b name   
```

> æ³¨æ„:  <span style="color:red;font-weight:bold">æ¯æ¬¡åœ¨åˆ‡æ¢åˆ†æ”¯å‰ æäº¤ä¸€ä¸‹å½“å‰åˆ†æ”¯</span>



```HTML
- gitä»“åº“åœ¨åˆ‡æ¢åˆ†æ”¯å‰è¦åšå¥½åˆå§‹åŒ–æäº¤
- gitä»“åº“ä¸èƒ½åµŒå¥—
- åˆ†æ”¯åœ¨åˆå¹¶å®Œæ¯•ä¹‹å,å†…å®¹æ˜¯ä¼šä¿ç•™çš„
```



#### å†²çª

å½“å¤šä¸ªåˆ†æ”¯ä¿®æ”¹åŒä¸€ä¸ªæ–‡ä»¶åï¼Œåˆå¹¶åˆ†æ”¯çš„æ—¶å€™å°±ä¼šäº§ç”Ÿå†²çªã€‚å†²çªçš„è§£å†³éå¸¸ç®€å•ï¼Œã€å°†å†…å®¹ä¿®æ”¹ä¸ºæœ€ç»ˆæƒ³è¦çš„ç»“æœã€ï¼Œç„¶åç»§ç»­æ‰§è¡Œ git add ä¸ git commit å°±å¯ä»¥äº†ã€‚

1.å®šä½äº§ç”Ÿå†²çªçš„æ–‡ä»¶(git status/ç›®å½•ç»“å°¾æ˜¾ç¤ºmerging)

2.ä¿®æ”¹å†²çªæ–‡ä»¶çš„å†…å®¹ä¸ºæœ€ç»ˆæƒ³è¦çš„ç»“æœ

3.git add -A å’Œ git commit

å¦‚ä½•æŸ¥çœ‹å†²çª: git statusæˆ–è€…æ˜¯ç›®å½•æœ€åæ˜¯å¦å‡ºç°merging



ä»“åº“ä¸èƒ½åµŒå¥—.åœ¨å¤–å±‚ä½¿ç”¨gitå‘½ä»¤ä¼šæŠ¥é”™,å†…å±‚ä¸ä¼šæŠ¥é”™.

åˆ†æ”¯åœ¨åˆå¹¶å®Œä¹‹å,å†…å®¹ä¼šæ˜¯ä¿ç•™çš„



#### revert commit ä¸ reset commit

Revert çš„æŒ‡ä»¤æ˜¯**å†åšä¸€ä¸ªæ–°çš„ Commitï¼Œæ¥å–æ¶ˆä½ æƒ³è¦æ’¤å›çš„ Commit, æ‰€ä»¥ä¼šå¢åŠ ä¸€æ¡commit**

åœ¨[SourceTree](https://so.csdn.net/so/search?q=SourceTree&spm=1001.2101.3001.7020)ä¸­ï¼Œå¦‚æœæƒ³å–æ¶ˆå·²ç»commitçš„codeï¼Œ**å¯ä»¥å³å‡»é€‰reverse commit.ï¼ˆæ’¤å› è€commitçš„åŒæ—¶ï¼Œæ–°å»ºäº†ä¸€ä¸ªcommit)**

å¦‚æœæƒ³æ’¤å›[commit](https://so.csdn.net/so/search?q=commit&spm=1001.2101.3001.7020)åˆä¸æƒ³æ–°åŠ ä¸€ä¸ªcommitçš„è¯ï¼Œä¸è¦ç”¨reverse commitï¼Œ**è€Œæ˜¯ç”¨Reset æŒ‡ä»¤**



#### reset rebase  revertçš„åŒºåˆ«

| æŒ‡ä»¤   | æ”¹å˜å†å²è®°å½• | ä½¿ç”¨åœºæ™¯                                                     |
| ------ | ------------ | ------------------------------------------------------------ |
| reset  | æ˜¯           | æŠŠç›®å‰çš„çŠ¶æ€è®¾å®šæˆæŸä¸ªæŒ‡å®šçš„ Commitçš„çŠ¶æ€ï¼Œé€šå¸¸é€‚ç”¨äºå°šæœªæ¨å‡ºå»çš„ Commitã€‚ |
| rebase | æ˜¯           | ä¸ç®¡æ˜¯æ–°å¢ã€ä¿®æ”¹ã€åˆ é™¤Commit éƒ½ç›¸å½“æ–¹ä¾¿ï¼Œç”¨æ¥æ•´ç†ã€ç¼–è¾‘æ²¡æœ‰æ¨å‡ºå»çš„ Commit ç›¸å½“æ–¹ä¾¿ï¼Œä½†é€šå¸¸ä¹Ÿåªé€‚ç”¨äºå°šæœªæ¨å‡ºå»çš„ Commitã€‚ |
| revert | æ˜¯           | æ–°å¢ä¸€ä¸ªCommit æ¥å–æ¶ˆå¦ä¸€ä¸ªCommit çš„å…§å®¹ï¼ŒåŸæœ¬çš„ Commit ä¾æ—§ä¼šä¿å­˜åœ¨å†å²è®°å½•ä¸­ã€‚è™½ç„¶ä¼šå› æ­¤è€Œå¢åŠ  Commit æ•°ï¼Œä½†é€šå¸¸æ¯”è¾ƒé€‚ç”¨äºå·²ç»æ¨å‡ºå»çš„ Commitï¼Œæˆ–æ˜¯ä¸å…è®¸ä½¿ç”¨ Reset æˆ– Rebase ä¹‹ä¿®æ”¹å†å²è®°å½•çš„æŒ‡ä»¤çš„åœºåˆã€‚ |



#### åˆå¹¶rebase

> [ã€Gitã€‘rebase ç”¨æ³•å°ç»“ - ç®€ä¹¦ (jianshu.com)](https://www.jianshu.com/p/4a8f4af4e803)

rebaseçš„ä½œç”¨ç®€è¦æ¦‚æ‹¬ä¸ºï¼šå¯ä»¥å¯¹æŸä¸€æ®µçº¿æ€§æäº¤å†å²è¿›è¡Œç¼–è¾‘ã€åˆ é™¤ã€å¤åˆ¶ã€ç²˜è´´ï¼›å› æ­¤ï¼Œåˆç†ä½¿ç”¨rebaseå‘½ä»¤å¯ä»¥ä½¿æˆ‘ä»¬çš„æäº¤å†å²å¹²å‡€ã€ç®€æ´ï¼

ä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼š

> ä¸è¦é€šè¿‡rebaseå¯¹ä»»ä½•å·²ç»æäº¤åˆ°å…¬å…±ä»“åº“ä¸­çš„commitè¿›è¡Œä¿®æ”¹ï¼ˆä½ è‡ªå·±ä¸€ä¸ªäººç©çš„åˆ†æ”¯é™¤å¤–ï¼‰



##### å…·ä½“æ“ä½œ

å½“æˆ‘ä»¬åœ¨æœ¬åœ°ä»“åº“ä¸­æäº¤äº†å¤šæ¬¡ï¼Œåœ¨æˆ‘ä»¬æŠŠæœ¬åœ°æäº¤pushåˆ°å…¬å…±ä»“åº“ä¸­ä¹‹å‰ï¼Œä¸ºäº†è®©æäº¤è®°å½•æ›´ç®€æ´æ˜äº†ï¼Œæˆ‘ä»¬å¸Œæœ›æŠŠå¦‚ä¸‹åˆ†æ”¯Bã€Cã€Dä¸‰ä¸ªæäº¤è®°å½•åˆå¹¶ä¸ºä¸€ä¸ªå®Œæ•´çš„æäº¤ï¼Œç„¶åå†pushåˆ°å…¬å…±ä»“åº“ã€‚

![](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2018/5/2/1631fdf49c54c568~tplv-t2oaga2asx-zoom-in-crop-mark:3024:0:0:0.awebp)

ç°åœ¨æˆ‘ä»¬åœ¨æµ‹è¯•åˆ†æ”¯ä¸Šæ·»åŠ äº†å››æ¬¡æäº¤ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯æŠŠæœ€åä¸‰ä¸ªæäº¤åˆå¹¶ä¸ºä¸€ä¸ªæäº¤

![](https://upload-images.jianshu.io/upload_images/2147642-ce849c4eab3d803b.png?imageMogr2/auto-orient/strip|imageView2/2/w/434/format/webp)



è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨å‘½ä»¤

```bash
git rebase -i [startpoint] [endpoint]
```

`-i`çš„æ„æ€æ˜¯`--interactive`ï¼Œå³å¼¹å‡ºäº¤äº’å¼çš„ç•Œé¢è®©ç”¨æˆ·ç¼–è¾‘å®Œæˆåˆå¹¶æ“ä½œ.

`[startpoint] [endpoint]`åˆ™æŒ‡å®šäº†ä¸€ä¸ªç¼–è¾‘åŒºé—´ï¼Œå¦‚æœä¸æŒ‡å®š`[endpoint]`ï¼Œåˆ™è¯¥åŒºé—´çš„ç»ˆç‚¹é»˜è®¤æ˜¯å½“å‰åˆ†æ”¯HEADæ‰€æŒ‡å‘çš„commit(æ³¨ï¼šè¯¥åŒºé—´æŒ‡å®šçš„æ˜¯ä¸€ä¸ªå‰å¼€åé—­çš„åŒºé—´)ã€‚ 

åœ¨æŸ¥çœ‹åˆ°äº†logæ—¥å¿—åï¼Œæˆ‘ä»¬è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```bash
git rebase -i 36224db
```

æˆ–è€…

```bash
git rebase -i HEAD~3
```

ç„¶åæˆ‘ä»¬ä¼šçœ‹åˆ°å¦‚ä¸‹ç•Œé¢:

![](https://upload-images.jianshu.io/upload_images/2147642-03d48aa767efb307.png?imageMogr2/auto-orient/strip|imageView2/2/w/647/format/webp)



ä¸Šé¢æœªè¢«æ³¨é‡Šçš„éƒ¨åˆ†åˆ—å‡ºçš„æ˜¯æˆ‘ä»¬æœ¬æ¬¡rebaseæ“ä½œåŒ…å«çš„æ‰€æœ‰æäº¤ï¼Œä¸‹é¢æ³¨é‡Šéƒ¨åˆ†æ˜¯gitä¸ºæˆ‘ä»¬æä¾›çš„å‘½ä»¤è¯´æ˜ã€‚æ¯ä¸€ä¸ªcommit id å‰é¢çš„pickè¡¨ç¤ºæŒ‡ä»¤ç±»å‹ï¼Œgit ä¸ºæˆ‘ä»¬æä¾›äº†ä»¥ä¸‹å‡ ä¸ªå‘½ä»¤:

```bash
pickï¼šä¿ç•™è¯¥commitï¼ˆç¼©å†™:pï¼‰

rewordï¼šä¿ç•™è¯¥commitï¼Œä½†æˆ‘éœ€è¦ä¿®æ”¹è¯¥commitçš„æ³¨é‡Šï¼ˆç¼©å†™:rï¼‰

editï¼šä¿ç•™è¯¥commit, ä½†æˆ‘è¦åœä¸‹æ¥ä¿®æ”¹è¯¥æäº¤(ä¸ä»…ä»…ä¿®æ”¹æ³¨é‡Š)ï¼ˆç¼©å†™:eï¼‰

squashï¼šå°†è¯¥commitå’Œå‰ä¸€ä¸ªcommitåˆå¹¶ï¼ˆç¼©å†™:sï¼‰

fixupï¼šå°†è¯¥commitå’Œå‰ä¸€ä¸ªcommitåˆå¹¶ï¼Œä½†æˆ‘ä¸è¦ä¿ç•™è¯¥æäº¤çš„æ³¨é‡Šä¿¡æ¯ï¼ˆç¼©å†™:fï¼‰

execï¼šæ‰§è¡Œshellå‘½ä»¤ï¼ˆç¼©å†™:xï¼‰

dropï¼šæˆ‘è¦ä¸¢å¼ƒè¯¥commitï¼ˆç¼©å†™:dï¼‰
```

æ ¹æ®æˆ‘ä»¬çš„éœ€æ±‚ï¼Œæˆ‘ä»¬å°†commitå†…å®¹ç¼–è¾‘å¦‚ä¸‹:

![](https://upload-images.jianshu.io/upload_images/2147642-a651234e62ed20a5.png?imageMogr2/auto-orient/strip|imageView2/2/w/536/format/webp)



ä¸Šé¢çš„æ„æ€å°±æ˜¯æŠŠç¬¬äºŒæ¬¡ã€ç¬¬ä¸‰æ¬¡æäº¤éƒ½åˆå¹¶åˆ°ç¬¬ä¸€æ¬¡æäº¤ä¸Š

ç„¶å`wq`ä¿å­˜é€€å‡ºåæ˜¯æ³¨é‡Šä¿®æ”¹ç•Œé¢:

![](https://upload-images.jianshu.io/upload_images/2147642-44bbd784dcadfb31.png?imageMogr2/auto-orient/strip|imageView2/2/w/801/format/webp)

å¯ä»¥å†æµè§ˆæ€ æŒ‰ä¸‹ä¸¤ä¸ªddå¯ä»¥åˆ é™¤ä¸€è¡Œ

æœ€ç»ˆçš„ç¼–è¾‘æ•ˆæœå¦‚ä¸‹ï¼š

![](https://upload-images.jianshu.io/upload_images/2147642-334e0a5c47a24f87.png?imageMogr2/auto-orient/strip|imageView2/2/w/448/format/webp)

ç¼–è¾‘å®Œä¿å­˜å³å¯å®Œæˆcommitçš„åˆå¹¶äº†ï¼š













### æœ€ä½³å®è·µ

#### commitä¿¡æ¯

> [How to Write a Git Commit Message (cbea.ms)](https://cbea.ms/git-commit/?continueFlag=5736f6f7a67304664b0f56b2e45e0238)



**The seven rules of a great Git commit message**

* Separate subject from body with a blank line
* Limit the subject line to 50 characters
* Capitalize the subject line 
* Do not end the subject line with a period(æ ‡ç‚¹)
* Use the imperative mood(ç¥ˆä½¿è¯­æ°”) in the subject line
* Wrap the body at 72 characters
* Use the body to explain what and why vs. how

```yaml
SUBJECT LINE COMMENT (LESS THAT 50 CHARACTERS)
// blank line
body line(less that 72 characters)
//

```





#### å‰ç«¯å·¥ç¨‹åŒ–ä¸‹gitæäº¤è§„èŒƒ

> [ä»£ç è§„èŒƒ | å¸¦ä½ å…¥é—¨å‰ç«¯å·¥ç¨‹ (gitee.io)](https://woai3c.gitee.io/introduction-to-front-end-engineering/02.html#æ‰©å±•)

git è§„èŒƒä¸€èˆ¬åŒ…æ‹¬ä¸¤ç‚¹ï¼šåˆ†æ”¯ç®¡ç†è§„èŒƒå’Œ git commit è§„èŒƒã€‚



#### åˆ†æ”¯ç®¡ç†è§„èŒƒ

ä¸€ä¸ªé¡¹ç›®å¯ä»¥åˆ›å»ºä¸¤ä¸ªåˆ†æ”¯ï¼šmaster å’Œ devã€‚master å¯¹åº”çº¿ä¸Šåˆ†æ”¯ï¼Œä¸èƒ½ç›´æ¥åœ¨ master åˆ†æ”¯ä¸Šå†™ä»£ç ï¼Œå¼€å‘æ—¶éœ€è¦ä» master ä¸Šæ‹‰ä¸€ä¸ª dev åˆ†æ”¯è¿›è¡Œå¼€å‘ã€‚



**å¼€å‘æ–°åŠŸèƒ½**

å½“å›¢é˜Ÿæˆå‘˜å¼€å‘æ–°åŠŸèƒ½æ—¶ï¼Œéœ€è¦ä» dev ä¸Šæ‹‰ä¸€ä¸ª `feature-åŠŸèƒ½åç§°-å¼€å‘å§“å` åˆ†æ”¯è¿›è¡Œå¼€å‘ï¼Œä¾‹å¦‚ï¼š`feature-login-tgz`ã€‚å¼€å‘å®Œæˆåéœ€è¦åˆå¹¶å› dev åˆ†æ”¯ã€‚

**ä¿®æ”¹bug**

å½“å›¢é˜Ÿæˆå‘˜ä¿®æ”¹ bug æ—¶ï¼Œéœ€è¦ä»æœ‰ bug çš„åˆ†æ”¯ï¼ˆç¯å¢ƒï¼‰ä¸Šæ‹‰ä¸€ä¸ª `bug-åŠŸèƒ½åç§°-å¼€å‘å§“å` åˆ†æ”¯è¿›è¡Œä¿®å¤ï¼Œä¾‹å¦‚ï¼š`bug-login-tgz`ã€‚ä¿®å¤å®Œæˆåéœ€è¦åˆå¹¶å›åŸæ¥å‡ºç° bug çš„åˆ†æ”¯ã€‚

ä»¥ `feature` æˆ– `bug` å¼€å§‹çš„åˆ†æ”¯éƒ½å±äºä¸´æ—¶åˆ†æ”¯ï¼Œåœ¨é€šè¿‡æµ‹è¯•å¹¶ä¸Šçº¿åéœ€è¦å°†ä¸´æ—¶åˆ†æ”¯è¿›è¡Œåˆ é™¤ã€‚é¿å… git ä¸Šå‡ºç°å¤ªå¤šæ— ç”¨çš„åˆ†æ”¯ã€‚

**åˆå¹¶åˆ†æ”¯**

åœ¨å°†ä¸€ä¸ªåˆ†æ”¯åˆå¹¶åˆ°å¦ä¸€ä¸ªåˆ†æ”¯æ—¶ï¼ˆä¾‹å¦‚å°† `feature-*` åˆå¹¶åˆ° devï¼‰ï¼Œéœ€è¦æŸ¥çœ‹è‡ªå·±çš„æ–°åˆ†æ”¯ä¸­æœ‰æ²¡æœ‰å¤šä¸ªé‡å¤æäº¤æˆ–æ„ä¹‰ä¸æ˜çš„ commitã€‚å¦‚æœæœ‰ï¼Œåˆ™éœ€è¦å¯¹å®ƒä»¬è¿›è¡Œåˆå¹¶ï¼ˆgit rebaseï¼‰ã€‚ç¤ºä¾‹ï¼š

```bash
# è¿™ä¸¤ä¸ª commit å¯ä»¥åˆå¹¶æˆä¸€ä¸ª
chore: ä¿®æ”¹æŒ‰é’®æ–‡å­—
chore: ä¿®æ”¹æŒ‰é’®æ ·å¼

# åˆå¹¶å
chore: ä¿®æ”¹æŒ‰é’®æ ·å¼åŠæ–‡å­—
```

**æ³¨æ„**ï¼šåœ¨å°† `feature-*` åˆå¹¶åˆ° dev æ—¶ï¼Œéœ€è¦å…ˆå°† dev åˆ†æ”¯åˆå¹¶åˆ° `feature-*` åˆ†æ”¯ï¼Œç„¶åå†å°† `feature-*` åˆå¹¶åˆ° dev åˆ†æ”¯ï¼Œé¿å…å‡ºç°ä»£ç å†²çªçš„æƒ…å†µã€‚åŒç†ï¼Œåˆå¹¶ `bug-*` åˆ†æ”¯ä¹Ÿä¸€æ ·ã€‚  ????

**éƒ¨ç½²**

å½“ dev åˆ†æ”¯é€šè¿‡æµ‹è¯•åï¼Œå°±å¯ä»¥åˆå¹¶åˆ° master è¿›è¡Œå‘å¸ƒäº†



**å‘å¸ƒå¯èƒ½å‡ºç°çš„æ„å¤–æƒ…å†µ**

ä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾ç¨‹åºè¦æ–°å¢ aã€b ä¸¤ä¸ªåŠŸèƒ½ï¼Œæˆ‘ä»¬çš„æ“ä½œæµç¨‹æ˜¯è¿™æ ·çš„ï¼š

1. ä» dev åˆ†æ”¯æ‹‰ä¸¤ä¸ªæ–°åˆ†æ”¯ `feature-a-tgz`ã€`feature-b-tgz`ã€‚
2. å¼€å‘å®Œæˆåˆå¹¶å› devã€‚
3. dev æµ‹è¯•å®Œæ¯•åï¼Œåˆå¹¶åˆ° master è¿›è¡Œå‘å¸ƒã€‚

å¦‚æœè¿™æ—¶çªç„¶è¢«å‘ŠçŸ¥ b åŠŸèƒ½ä¸ä¸Šï¼Œåªä¸Š a åŠŸèƒ½ã€‚æˆ‘ä»¬å¯ä»¥å°† `feature-a-tgz` åˆ†æ”¯é‡æ–°éƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒï¼Œè¿™æ ·å°±ä¸ç”¨åšä»»ä½•çš„ä»£ç å›æ»šã€‚åªè¦ `feature-a-tgz` åˆ†æ”¯æµ‹è¯•é€šè¿‡å°±å¯ä»¥ç›´æ¥åˆåˆ° master è¿›è¡Œçº¿ä¸Šå‘å¸ƒã€‚



#### git commitæäº¤è§„èŒƒ

 commit message çš„æ ¼å¼ï¼š

```bash
<type>(<scope>): <subject>
<BLANK LINE>
<body>
<BLANK LINE>
<footer>
```

commit message åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†(ä½¿ç”¨ç©ºè¡Œåˆ†å‰²):

1. æ ‡é¢˜è¡Œï¼ˆsubjectï¼‰: å¿…å¡«, æè¿°ä¸»è¦ä¿®æ”¹ç±»å‹å’Œå†…å®¹ã€‚
2. ä¸»é¢˜å†…å®¹ï¼ˆbodyï¼‰: æè¿°ä¸ºä»€ä¹ˆä¿®æ”¹, åšäº†ä»€ä¹ˆæ ·çš„ä¿®æ”¹, ä»¥åŠå¼€å‘çš„æ€è·¯ç­‰ç­‰ã€‚
3. é¡µè„šæ³¨é‡Šï¼ˆfooterï¼‰: å¯ä»¥å†™æ³¨é‡Šï¼Œæ”¾ BUG å·çš„é“¾æ¥ã€‚

scope

commit message å½±å“çš„åŠŸèƒ½æˆ–æ–‡ä»¶èŒƒå›´, æ¯”å¦‚: route, component, utils, build...

[subject](https://woai3c.gitee.io/introduction-to-front-end-engineering/02.html#subject)

commit message çš„æ¦‚è¿°

[body](https://woai3c.gitee.io/introduction-to-front-end-engineering/02.html#body)

å…·ä½“ä¿®æ”¹å†…å®¹, å¯ä»¥åˆ†ä¸ºå¤šè¡Œ.

[footer](https://woai3c.gitee.io/introduction-to-front-end-engineering/02.html#footer)

ä¸€äº›å¤‡æ³¨, é€šå¸¸æ˜¯ BREAKING CHANGE æˆ–ä¿®å¤çš„ bug çš„é“¾æ¥





commit çš„ç±»å‹ï¼š

- feat: æ–°åŠŸèƒ½ã€æ–°ç‰¹æ€§
- fix: ä¿®æ”¹ bug
- perf: æ›´æ”¹ä»£ç ï¼Œä»¥æé«˜æ€§èƒ½ï¼ˆåœ¨ä¸å½±å“ä»£ç å†…éƒ¨è¡Œä¸ºçš„å‰æä¸‹ï¼Œå¯¹ç¨‹åºæ€§èƒ½è¿›è¡Œä¼˜åŒ–ï¼‰
- refactor: ä»£ç é‡æ„ï¼ˆé‡æ„ï¼Œåœ¨ä¸å½±å“ä»£ç å†…éƒ¨è¡Œä¸ºã€åŠŸèƒ½ä¸‹çš„ä»£ç ä¿®æ”¹ï¼‰
- docs: æ–‡æ¡£ä¿®æ”¹
- style: ä»£ç æ ¼å¼ä¿®æ”¹, æ³¨æ„ä¸æ˜¯ css ä¿®æ”¹ï¼ˆä¾‹å¦‚åˆ†å·ä¿®æ”¹ï¼‰
- test: æµ‹è¯•ç”¨ä¾‹æ–°å¢ã€ä¿®æ”¹
- build: å½±å“é¡¹ç›®æ„å»ºæˆ–ä¾èµ–é¡¹ä¿®æ”¹
- revert: æ¢å¤ä¸Šä¸€æ¬¡æäº¤
- ci: æŒç»­é›†æˆç›¸å…³æ–‡ä»¶ä¿®æ”¹
- chore: å…¶ä»–ä¿®æ”¹ï¼ˆä¸åœ¨ä¸Šè¿°ç±»å‹ä¸­çš„ä¿®æ”¹ï¼‰
- release: å‘å¸ƒæ–°ç‰ˆæœ¬

#####  çº¦å®šå¼æäº¤è§„èŒƒ

ä»¥ä¸‹å†…å®¹æ¥æºäºï¼šhttps://www.conventionalcommits.org/zh-hans/v1.0.0-beta.4/

- æ¯ä¸ªæäº¤éƒ½å¿…é¡»ä½¿ç”¨ç±»å‹å­—æ®µå‰ç¼€ï¼Œå®ƒç”±ä¸€ä¸ªåè¯ç»„æˆï¼Œè¯¸å¦‚ `feat` æˆ– `fix` ï¼Œå…¶åæ¥ä¸€ä¸ªå¯é€‰çš„ä½œç”¨åŸŸå­—æ®µï¼Œä»¥åŠä¸€ä¸ªå¿…è¦çš„å†’å·ï¼ˆè‹±æ–‡åŠè§’ï¼‰å’Œç©ºæ ¼ã€‚
- å½“ä¸€ä¸ªæäº¤ä¸ºåº”ç”¨æˆ–ç±»åº“å®ç°äº†æ–°ç‰¹æ€§æ—¶ï¼Œå¿…é¡»ä½¿ç”¨ `feat` ç±»å‹ã€‚
- å½“ä¸€ä¸ªæäº¤ä¸ºåº”ç”¨ä¿®å¤äº† `bug` æ—¶ï¼Œå¿…é¡»ä½¿ç”¨ `fix` ç±»å‹ã€‚
- ä½œç”¨åŸŸå­—æ®µå¯ä»¥è·Ÿéšåœ¨ç±»å‹å­—æ®µåé¢ã€‚ä½œç”¨åŸŸå¿…é¡»æ˜¯ä¸€ä¸ªæè¿°æŸéƒ¨åˆ†ä»£ç çš„åè¯ï¼Œå¹¶ç”¨åœ†æ‹¬å·åŒ…å›´ï¼Œä¾‹å¦‚ï¼š `fix(parser):`
- æè¿°å­—æ®µå¿…é¡»ç´§æ¥åœ¨ç±»å‹/ä½œç”¨åŸŸå‰ç¼€çš„ç©ºæ ¼ä¹‹åã€‚æè¿°æŒ‡çš„æ˜¯å¯¹ä»£ç å˜æ›´çš„ç®€çŸ­æ€»ç»“ï¼Œä¾‹å¦‚ï¼š `fix: array parsing issue when multiple spaces were contained in string.`
- åœ¨ç®€çŸ­æè¿°ä¹‹åï¼Œå¯ä»¥ç¼–å†™æ›´é•¿çš„æäº¤æ­£æ–‡ï¼Œä¸ºä»£ç å˜æ›´æä¾›é¢å¤–çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚æ­£æ–‡å¿…é¡»èµ·å§‹äºæè¿°å­—æ®µç»“æŸçš„ä¸€ä¸ªç©ºè¡Œåã€‚
- åœ¨æ­£æ–‡ç»“æŸçš„ä¸€ä¸ªç©ºè¡Œä¹‹åï¼Œå¯ä»¥ç¼–å†™ä¸€è¡Œæˆ–å¤šè¡Œè„šæ³¨ã€‚è„šæ³¨å¿…é¡»åŒ…å«å…³äºæäº¤çš„å…ƒä¿¡æ¯ï¼Œä¾‹å¦‚ï¼šå…³è”çš„åˆå¹¶è¯·æ±‚ã€Reviewerã€ç ´åæ€§å˜æ›´ï¼Œæ¯æ¡å…ƒä¿¡æ¯ä¸€è¡Œã€‚
- ç ´åæ€§å˜æ›´å¿…é¡»æ ‡ç¤ºåœ¨æ­£æ–‡åŒºåŸŸæœ€å¼€å§‹å¤„ï¼Œæˆ–è„šæ³¨åŒºåŸŸä¸­æŸä¸€è¡Œçš„å¼€å§‹ã€‚ä¸€ä¸ªç ´åæ€§å˜æ›´å¿…é¡»åŒ…å«å¤§å†™çš„æ–‡æœ¬ `BREAKING CHANGE`ï¼Œåé¢ç´§è·Ÿå†’å·å’Œç©ºæ ¼ã€‚
- åœ¨ `BREAKING CHANGE:` ä¹‹åå¿…é¡»æä¾›æè¿°ï¼Œä»¥æè¿°å¯¹ API çš„å˜æ›´ã€‚ä¾‹å¦‚ï¼š `BREAKING CHANGE: environment variables now take precedence over config files.`
- åœ¨æäº¤è¯´æ˜ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ `feat` å’Œ `fix` ä¹‹å¤–çš„ç±»å‹ã€‚
- å·¥å…·çš„å®ç°å¿…é¡»ä¸åŒºåˆ†å¤§å°å†™åœ°è§£ææ„æˆçº¦å®šå¼æäº¤çš„ä¿¡æ¯å•å…ƒï¼Œåªæœ‰ `BREAKING CHANGE` å¿…é¡»æ˜¯å¤§å†™çš„ã€‚
- å¯ä»¥åœ¨ç±»å‹/ä½œç”¨åŸŸå‰ç¼€ä¹‹åï¼Œ: ä¹‹å‰ï¼Œé™„åŠ  `!` å­—ç¬¦ï¼Œä»¥è¿›ä¸€æ­¥æé†’æ³¨æ„ç ´åæ€§å˜æ›´ã€‚å½“æœ‰ `!` å‰ç¼€æ—¶ï¼Œæ­£æ–‡æˆ–è„šæ³¨å†…å¿…é¡»åŒ…å« `BREAKING CHANGE: description`



#### commitå®ä¾‹

##### fixï¼ˆä¿®å¤BUGï¼‰

æ¯æ¬¡ git commit æœ€å¥½åŠ ä¸ŠèŒƒå›´æè¿°ã€‚

ä¾‹å¦‚è¿™æ¬¡ BUG ä¿®å¤å½±å“åˆ°å…¨å±€ï¼Œå¯ä»¥åŠ ä¸ª globalã€‚å¦‚æœå½±å“çš„æ˜¯æŸä¸ªç›®å½•æˆ–æŸä¸ªåŠŸèƒ½ï¼Œå¯ä»¥åŠ ä¸Šè¯¥ç›®å½•çš„è·¯å¾„ï¼Œæˆ–è€…å¯¹åº”çš„åŠŸèƒ½åç§°ã€‚

```js
// ç¤ºä¾‹1
fix(global):ä¿®å¤checkboxä¸èƒ½å¤é€‰çš„é—®é¢˜
// ç¤ºä¾‹2 ä¸‹é¢åœ†æ‹¬å·é‡Œçš„ common ä¸ºé€šç”¨ç®¡ç†çš„åç§°
fix(common): ä¿®å¤å­—ä½“è¿‡å°çš„BUGï¼Œå°†é€šç”¨ç®¡ç†ä¸‹æ‰€æœ‰é¡µé¢çš„é»˜è®¤å­—ä½“å¤§å°ä¿®æ”¹ä¸º 14px
// ç¤ºä¾‹3
fix(test): value.length -> values.length
```

##### [#](https://woai3c.gitee.io/introduction-to-front-end-engineering/02.html#feat-æ·»åŠ æ–°åŠŸèƒ½æˆ–æ–°é¡µé¢)featï¼ˆæ·»åŠ æ–°åŠŸèƒ½æˆ–æ–°é¡µé¢ï¼‰

```js
feat: æ·»åŠ ç½‘ç«™ä¸»é¡µé™æ€é¡µé¢

è¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œå‡è®¾å¯¹ä»»åŠ¡é™æ€é¡µé¢è¿›è¡Œäº†ä¸€äº›æè¿°ã€‚
 
è¿™é‡Œæ˜¯å¤‡æ³¨ï¼Œå¯ä»¥æ˜¯æ”¾ BUG é“¾æ¥æˆ–è€…ä¸€äº›é‡è¦æ€§çš„ä¸œè¥¿ã€‚
```

##### [#](https://woai3c.gitee.io/introduction-to-front-end-engineering/02.html#chore-å…¶ä»–ä¿®æ”¹)choreï¼ˆå…¶ä»–ä¿®æ”¹ï¼‰

chore çš„ä¸­æ–‡ç¿»è¯‘ä¸ºæ—¥å¸¸äº‹åŠ¡ã€ä¾‹è¡Œå·¥ä½œã€‚é¡¾åæ€ä¹‰ï¼Œå³ä¸åœ¨å…¶ä»– commit ç±»å‹ä¸­çš„ä¿®æ”¹ï¼Œéƒ½å¯ä»¥ç”¨ chore è¡¨ç¤ºã€‚

```js
chore: å°†è¡¨æ ¼ä¸­çš„æŸ¥çœ‹è¯¦æƒ…æ”¹ä¸ºè¯¦æƒ…
```

å…¶ä»–ç±»å‹çš„ commit å’Œä¸Šé¢ä¸‰ä¸ªç¤ºä¾‹å·®ä¸å¤šï¼Œåœ¨æ­¤ä¸å†èµ˜è¿°ã€‚



#### éªŒè¯git commitè§„èŒƒ

åˆ©ç”¨ [git hook (opens new window)](https://git-scm.com/book/zh/v2/è‡ªå®šä¹‰-Git-Git-é’©å­)èƒ½åœ¨ç‰¹å®šçš„é‡è¦åŠ¨ä½œå‘ç”Ÿæ—¶è§¦å‘è‡ªå®šä¹‰è„šæœ¬ã€‚

éªŒè¯ git commit è§„èŒƒä¹Ÿä¸ä¾‹å¤–ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡ git çš„ `pre-commit` é’©å­å‡½æ•°æ¥è¿›è¡Œã€‚å½“ç„¶ï¼Œä½ è¿˜éœ€è¦ä¸‹è½½ä¸€ä¸ªè¾…åŠ©æ’ä»¶ husky æ¥å¸®åŠ©ä½ è¿›è¡ŒéªŒè¯ã€‚

> pre-commit é’©å­åœ¨é”®å…¥æäº¤ä¿¡æ¯å‰è¿è¡Œï¼Œå®ƒç”¨äºæ£€æŸ¥å³å°†æäº¤çš„å¿«ç…§ã€‚

husky æ˜¯ä¸€ä¸ªå¼€æºçš„å·¥å…·ï¼Œä½¿ç”¨å®ƒæˆ‘ä»¬å¯ä»¥åœ¨ `package.json` é‡Œé…ç½® `git hook` è„šæœ¬ã€‚ä¸‹é¢è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹å¦‚ä½•ä½¿ç”¨ï¼š

ä¸‹è½½

```bash
npm i -D husky
```

åœ¨package.jsonä¸­åŠ ä¸Šä¸‹é¢çš„ä»£ç 

```json
"husky": {
  "hooks": {
    "pre-commit": "npm run lint",
    "commit-msg": "FORCE_COLOR=1 node script/verify-commit.js",
    "pre-push": "npm test"
  }
}
```

ç„¶ååœ¨ä½ é¡¹ç›®æ ¹ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ `script`ï¼Œå¹¶åœ¨ä¸‹é¢æ–°å»ºä¸€ä¸ªæ–‡ä»¶ `verify-commit.js`ï¼Œè¾“å…¥ä»¥ä¸‹ä»£ç ï¼š

```javascript
const chalk = require('chalk')

const msgPath = process.env.HUSKY_GIT_PARAMS
const userEmail = process.env.GIT_AUTHOR_EMAIL
const msg = require('fs')
.readFileSync(msgPath, 'utf-8')
.trim()

const commitRE = /^(feat|fix|docs|style|refactor|perf|test|workflow|build|ci|chore|release|workflow)(\(.+\))?: .{1,80}/

if (!commitRE.test(msg)) {
    console.log()
    console.error(
    `  ${chalk.bgRed.white(' ERROR ')} ${chalk.red(
        'ä¸åˆæ³•çš„ commit æ¶ˆæ¯æ ¼å¼',
    )}\n\n`
        + chalk.red(
            '  è¯·ä½¿ç”¨æ­£ç¡®çš„æäº¤æ ¼å¼:\n\n',
        )
        + `    ${chalk.green('feat: add \'comments\' option')}\n`
        + `    ${chalk.green('fix: handle events on blur (close #28)')}\n\n`
        + chalk.blue('  è¯·æŸ¥çœ‹ git commit æäº¤è§„èŒƒï¼šhttps://github.com/woai3c/Front-end-articles/blob/master/git%20commit%20style.mdã€‚\n'),
    )

    process.exit(1)
}
```



ç°åœ¨æ¥è§£é‡Šä¸‹å„ä¸ªé’©å­çš„å«ä¹‰ï¼š

1. `"pre-commit": "npm run lint"`ï¼Œåœ¨ `git commit` å‰æ‰§è¡Œ `npm run lint` æ£€æŸ¥ä»£ç æ ¼å¼ã€‚
2. `"commit-msg": "node script/verify-commit.js"`ï¼Œåœ¨ `git commit` æ—¶æ‰§è¡Œè„šæœ¬ `verify-commit.js` éªŒè¯ commit æ¶ˆæ¯ã€‚å¦‚æœä¸ç¬¦åˆè„šæœ¬ä¸­å®šä¹‰çš„æ ¼å¼ï¼Œå°†ä¼šæŠ¥é”™ã€‚
3. `"pre-push": "npm test"`ï¼Œåœ¨ä½ æ‰§è¡Œ `git push` å°†ä»£ç æ¨é€åˆ°è¿œç¨‹ä»“åº“å‰ï¼Œæ‰§è¡Œ `npm test` è¿›è¡Œæµ‹è¯•ã€‚å¦‚æœæµ‹è¯•å¤±è´¥ï¼Œå°†ä¸ä¼šæ‰§è¡Œè¿™æ¬¡æ¨é€ã€‚

é€šè¿‡å·¥å…·ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆå¥½çš„ç®¡ç†å›¢é˜Ÿæˆå‘˜çš„ git commit æ ¼å¼ï¼Œæ— éœ€ä½¿ç”¨äººåŠ›æ¥æ£€æŸ¥ï¼Œå¤§å¤§æé«˜äº†å¼€å‘æ•ˆç‡ã€‚



#### lint-staged

ä½¿ç”¨ `lint-staged` å¯ä»¥åªå¯¹ git æš‚å­˜åŒºä¸Šçš„æ–‡ä»¶è¿›è¡Œæ ¡éªŒï¼Œä¸éœ€è¦å¯¹æ‰€æœ‰çš„æ–‡ä»¶è¿›è¡Œ lint æ£€æŸ¥ã€‚

å®‰è£…

```bash
npm i -D lint-staged
```

å°†åŸæ¥ `package.json` æ–‡ä»¶ä¸­çš„ä»£ç ï¼š

```json
"husky": {
  "hooks": {
    "pre-commit": "npm run lint",
    "commit-msg": "node script/verify-commit.js",
    "pre-push": "npm test"
  }
},
```

æ”¹ä¸º

```bash
"husky": {
  "hooks": {
    "pre-commit": "lint-staged",
    "commit-msg": "node script/verify-commit.js",
    "pre-push": "npm test"
  }
},
"lint-staged": {
  "src/**/*.{js,jsx,ts,tsx}": "eslint",
  "test/**/*.{js,jsx,ts,tsx}": "eslint"
},
```

æ–‡ä»¶è¿‡æ»¤è¯´æ˜ï¼š

```javascript
{
    "*.js": "é¡¹ç›®ä¸‹æ‰€æœ‰çš„ js æ–‡ä»¶ï¼ˆä¸åŒ…å«å­æ–‡ä»¶å¤¹ï¼‰",
    "**/*.js": "é¡¹ç›®ä¸‹æ‰€æœ‰çš„ js æ–‡ä»¶",
    "src/*.js": "src ç›®å½•æ‰€æœ‰çš„ js æ–‡ä»¶ï¼ˆä¸åŒ…å«å­æ–‡ä»¶å¤¹ï¼‰",
    "src/**/*.js": "src ç›®å½•æ‰€æœ‰çš„ js æ–‡ä»¶"
}
```

å¤šä¸ªåç¼€åŒ¹é…ï¼š

```json
"lint-staged": {
    "src/**/*.{js,jsx,ts,tsx}": "eslint",
  },
```





#### ä¿®æ”¹æœ€è¿‘ä¸€æ¬¡çš„æäº¤ä¿¡æ¯

git çš„ç‰ˆæœ¬ç®¡ç†æ€è·¯ï¼Œååˆ†ç®€å•ï¼šä½¿ç”¨ä¸€ä¸ªç±»ä¼¼é“¾è¡¨çš„ç»“æ„ï¼Œå°†æ¯æ¬¡ä¿®æ”¹è®°å½•ä¸²è”èµ·æ¥ã€‚æ¯æ¬¡æäº¤éƒ½ä¼šäº§ç”Ÿä¸€ä¸ª SHA1 çš„å”¯ä¸€æ ‡ç¤ºç¬¦ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ git æä¾›çš„å‘½ä»¤è¡Œå·¥å…·å¯¹â€œé“¾è¡¨â€ä¸­çš„æ¯æ¬¡ä¿®æ”¹è¿›è¡Œç¼–è¾‘ã€åˆ é™¤ã€æ’å…¥ã€ç§»åŠ¨ç­‰ç­‰å¤šç§æ“ä½œã€‚

> [git å¸¸ç”¨æŠ€å·§ | å°èƒ¡å­å“¥çš„ä¸ªäººç½‘ç«™ (barretlee.com)](https://www.barretlee.com/blog/2018/11/26/git-å¸¸ç”¨æŠ€å·§/)

ä¸‹é¢æ˜¯ä¸€ä¸ªæäº¤äº† 4 æ¬¡çš„åˆ†æ”¯æ•ˆæœï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„æ„æ€æ˜¯ `èŠ‚ç‚¹å(commit ä¿¡æ¯ - SHA1)`ï¼š

```
A(add A - 510fdc) -> B(add B - 0406b6) -> C(add C - 39a9c2) -> D(add D - 3131e0)<å½“å‰>
```

å°†ä¸Šæ¬¡æäº¤çš„ä¿¡æ¯ï¼ˆadd Dï¼‰ï¼Œä¿®æ”¹ä¸º `push D`ï¼Œå¯ä»¥é€šè¿‡ commit çš„ amend æŒ‡ä»¤è¿›è¡Œä¿®æ”¹ï¼Œå¦‚ä¸‹ï¼š

```bash
git commit --amend
# æ‰§è¡Œå‘½ä»¤åï¼Œä¼šè¿›å…¥åˆ°ä¸€ä¸ªäº¤äº’çª—å£ï¼Œå¯ä»¥åœ¨äº¤äº’çª—å£å†…ä¿®æ”¹ä¸Šæ¬¡çš„æäº¤ä¿¡æ¯
```



#### åˆ©ç”¨rebaseå¯¹æäº¤è¿›è¡Œå„ç§ä¿®æ”¹

rebase çš„å¸¸ç”¨æ“ä½œåˆ†ä¸ºè¿™ä¹ˆå‡ æ­¥ï¼š

1. é€‰æ‹©æ“ä½œçš„èµ·ç‚¹ä½ç½®ï¼Œ`git rebase -i SHA1`
2. æŒ‡å®šæ¯ä¸ªèŠ‚ç‚¹çš„æ“ä½œæ–¹å¼ï¼Œ`ä¿ç•™/åˆ é™¤/ä¿®æ”¹/...`ï¼Œè¿›å…¥æ“ä½œ
3. è¿›å…¥ä¸‹ä¸€æ­¥æ“ä½œ/ç»ˆæ­¢æ“ä½œï¼Œ`git rebase --continue`ï¼Œ`git rebase --abort`

æ¯”å¦‚æˆ‘ä»¬è¦å°†èŠ‚ç‚¹ B çš„ commit ä¿¡æ¯ï¼ˆadd Bï¼‰ï¼Œä¿®æ”¹ä¸º `push B`ï¼Œé‚£ä¹ˆæŒ‰ç…§ä¸Šè¿°çš„æ“ä½œæŒ‡å—ï¼Œå¯ä»¥æ‰§è¡Œï¼ˆ**ç¬¬ä¸€æ­¥**ï¼‰ï¼š

```bash
# ç¬¬ä¸€æ­¥ï¼Œè¿›å…¥ B ä¹‹å‰çš„èŠ‚ç‚¹ï¼ŒA
git rebase -i 510fdc # 510fdc æ˜¯ A èŠ‚ç‚¹çš„ SHA1
```

æ­¤æ—¶ä¼šè¿›å…¥ä¸€ä¸ªäº¤äº’çª—å£ï¼Œå†…å®¹å¤§è‡´ä¸ºï¼š

```bash
pick B 0406b6
pick C 39a9c2
pick D 3131e0
```

**ä½ éœ€è¦çœ‹æ‡‚è¿™ä¸ªç»“æ„**ã€‚ç”±äºæˆ‘ä»¬å°†æ“ä½œæŒ‡é’ˆæŒ‡å‘äº† Aï¼Œæ‰€ä»¥å®ƒä¼šå±•ç¤º A ä»¥åçš„æ‰€æœ‰æäº¤è®°å½•ï¼Œæ ¹æ®é“¾è¡¨é¡ºåºæ’åˆ—ï¼Œä¾æ¬¡å±•ç¤ºèŠ‚ç‚¹ Bã€Cã€Dï¼Œå‰é¢çš„ä¸€ä¸ªè‹±æ–‡å•è¯æ˜¯æ“ä½œæŒ‡ä»¤ï¼Œæ€»å…±æœ‰è¿™ä¹ˆå‡ ç§æŒ‡ä»¤ï¼š

- `pick`ï¼Œä¿ç•™èŠ‚ç‚¹ï¼Œä¸åšä»»ä½•å˜æ›´
- `edit`ï¼Œä¿ç•™èŠ‚ç‚¹ï¼Œä¿®æ”¹å†…å®¹
- `drop`ï¼Œåˆ é™¤èŠ‚ç‚¹ï¼Œåˆ é™¤æœ¬æ¬¡æäº¤
- `reword`ï¼Œä¿ç•™èŠ‚ç‚¹ï¼Œä¿®æ”¹æäº¤ä¿¡æ¯
- `squash`ï¼Œä¿ç•™èŠ‚ç‚¹ä¿®æ”¹ï¼Œå¹¶ä¸”ä¸ä¸Šä¸€ä¸ªèŠ‚ç‚¹åˆå¹¶ï¼Œä¹Ÿå°±æ˜¯ä¸¤æ¬¡æäº¤å¹¶åšä¸€æ¬¡
- `fixup`ï¼Œä¿ç•™èŠ‚ç‚¹ä¿®æ”¹ï¼Œå¿½ç•¥æœ¬æ¬¡æäº¤ä¿¡æ¯
- `exec`ï¼Œrun command (the rest of the line) using shell



ç”¨çš„æ¯”è¾ƒå¤šçš„æ˜¯å‰ä¸‰ä¸ªï¼Œå¯ä»¥åªå…³æ³¨å‰ä¸‰ä¸ªã€‚æˆ‘ä»¬éœ€è¦ä¿®æ”¹ä¸‹äº¤äº’çª—å£çš„å†…å®¹ï¼Œæ”¹ä¸ºï¼ˆ**ç¬¬äºŒæ­¥**ï¼‰ï¼š

```bash
+ edit B 0406b6
- pick B 0406b6
pick C 39a9c2
pick D 3131e0
```

ä¸Šé¢æ˜¯ diffï¼Œå®é™…å†…å®¹æ˜¯ï¼š

```bash
edit B 0406b6
pick C 39a9c2
pick D 3131e0
```

æ­¤æ—¶ä¼šè¿›å…¥ä¸€ä¸ªä¸´æ—¶ git åˆ†æ”¯ï¼Œå¤§è‡´æ˜¯è¿™æ ·ï¼š

```bash
branch(0406b6):
```

ç”±äºä½ å‘Šè¯‰äº† git è¦å¯¹ B èŠ‚ç‚¹å°±è¡Œä¿®æ”¹ï¼Œæ‰€ä»¥å®ƒå°±åœåœ¨äº† B å¤„ç†ï¼Œç­‰ç€ä½ ä¿®æ”¹ï¼Œæ­¤æ—¶ï¼Œä½ å¯ä»¥é€šè¿‡ amend å‘½ä»¤ä¿®æ”¹æäº¤ä¿¡æ¯ï¼š

```bash
branch(0406b6): git commit --amend
# è¿›å…¥äº¤äº’çª—å£ï¼Œå°† commit ä¿¡æ¯ä¿®æ”¹ä¸º push B
```

æ“ä½œå®Œæˆåï¼Œæ‰§è¡Œï¼ˆ**ç¬¬ä¸‰æ­¥**ï¼‰ï¼š

```bash
git rebase --continue
```

ç”±äºä½ å‘Šè¯‰ git åªéœ€è¦æ“ä½œä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ‰€ä»¥å®ƒä¼šå›åˆ°æœ€åˆçš„ä½ç½®<å½“å‰>ï¼Œå¦åˆ™çš„è¯ï¼Œå®ƒä¼šç»§ç»­è¿›å…¥ä¸‹ä¸€ä¸ªä¸´æ—¶ git åˆ†æ”¯ã€‚å½“ç„¶ï¼Œå¦‚æœä½ è¿›å…¥ç¬¬ä¸‰æ­¥ä»¥åï¼Œçªç„¶åˆä¸æƒ³ä¿®æ”¹äº†ï¼Œå¯ä»¥æ‰§è¡Œï¼š

```bash
git rebase --skip
```

è·³è¿‡å¯¹æœ¬èŠ‚ç‚¹çš„ä¿®æ”¹ã€‚



#### å°†ä¸€ä¸ªåˆ†æ”¯åˆå¹¶åˆ°å¦ä¸€ä¸ªåˆ†æ”¯

é€šè¿‡ `git cherry-pick SHA1` è¿™ä¸ªæŒ‡ä»¤å¯ä»¥å¯ä»¥å®Œæˆç›®æ ‡ï¼Œ

```bash
master: A(add A - 510fdc) -> B(add B - 0406b6) -> C(add C - 39a9c2)<å½“å‰>
                                     \
dev:                             D(add D - 4569c2) -> E(add E - 087342)
```

å¦‚æœæˆ‘ä»¬æƒ³æŠŠ dev åˆ†æ”¯ D èŠ‚ç‚¹çš„ä¿®æ”¹åˆå¹¶åˆ° master åˆ†æ”¯ï¼Œå¯ä»¥æ‰§è¡Œï¼š

```bash
# é¦–å…ˆç¡®ä¿è‡ªå·±åœ¨ master åˆ†æ”¯ä¸Šï¼Œgit branch master
git cherry-pick 4569c2 # 4569c2 ä¸º D èŠ‚ç‚¹çš„ SHA1
```



#### å¿«é€Ÿå®šä½ä¸€ä¸ªbugåœ¨å“ªæ¬¡ä¿®æ”¹ä¸Š

å‡è®¾æˆ‘ä»¬åœ¨æœ¬åœ°æäº¤äº†ä¸€å † commitï¼Œæ­£å‡†å¤‡ push åˆ°ä»“åº“ä¹‹å‰ï¼Œå‘ç°æœ‰ä¸€ä¸ª bugï¼Œä½†æ˜¯è®°ä¸èµ·æ¥æ˜¯å“ªä¸€æ¬¡ commit é€ æˆçš„äº†ï¼Œæ€ä¹ˆåŠï¼Ÿæˆ‘ä»¬éœ€è¦é€šè¿‡ `reset/rebase/stash` ç­‰æ“ä½œå›æ»šåˆ°ä¸Šä¸€ä¸ªçŠ¶æ€è¿›è¡Œæµ‹è¯•ï¼Œä½†æ˜¯è¿™æ ·ä¼šå¾ˆéº»çƒ¦ï¼Œè€Œä¸”æ•ˆç‡ä¸ä¸€å®šå¾ˆé«˜ï¼Œgit ä¸ºæˆ‘ä»¬æä¾›äº†æ›´åŠ ä¾¿æ·çš„å·¥å…· `git bisect`ï¼Œé€šè¿‡äºŒåˆ†æ³•æ‰¾ bugã€‚å®ƒæä¾›çš„å‘½ä»¤ä¹Ÿå¾ˆç›´ç™½ï¼š

```bash
git bisect start                 # è¿›å…¥äºŒåˆ†æŸ¥æ‰¾
git bisect good [good-commit-id] # è®¾ç½®æ²¡é—®é¢˜çš„ç‰ˆæœ¬ SHA1ï¼Œæ’æŸ¥èµ·ç‚¹
git bisect bad [bad-commit-id]   # è®¾ç½®æœ‰é—®é¢˜çš„ç‰ˆæœ¬ SHA1ï¼Œæ’æŸ¥ç»ˆç‚¹
# æ­¤æ—¶ git å°±ä¼šè‡ªåŠ¨è¿›å…¥åˆ°ä¸­é—´ç‰ˆæœ¬çŠ¶æ€
```

è¿›å…¥ä¸­é—´ç‰ˆæœ¬çŠ¶æ€ï¼Œæµ‹è¯•åï¼Œå¦‚æœæœ‰é—®é¢˜ï¼Œå°±æ ‡è®°ä¸º badï¼Œå¦‚æœæ²¡æœ‰é—®é¢˜ï¼Œå°±æ ‡è®°ä¸º goodï¼Œå¦‚ä¸‹ï¼š

```bash
git bisect bad  # æœ‰é—®é¢˜
git bisect good # æ²¡é—®é¢˜
```

å½“ä½ æ‰¾åˆ°é—®é¢˜ä»¥åï¼Œå¯ä»¥æ‰§è¡Œ reset å›åˆ°åˆå§‹çŠ¶æ€ï¼š

```bash
git bisect reset
```

ç„¶åé€šè¿‡ä¸Šé¢ä»‹ç»çš„ rebase edit æ“ä½œå¯¹é”™è¯¯åˆ†æ”¯è¿›è¡Œä¿®æ”¹ã€‚



## GitHub

### ä»‹ç»

GitHub æ˜¯ä¸€ä¸ª Git ä»“åº“ç®¡ç†ç½‘ç«™ã€‚å¯ä»¥åˆ›å»ºè¿œç¨‹ä¸­å¿ƒä»“åº“ï¼Œä¸ºå¤šäººåˆä½œå¼€å‘æä¾›ä¾¿åˆ©ã€‚

ä¼ä¸šä¸­ä½¿ç”¨çš„ä¸­å¿ƒä»“åº“å¤§æ¦‚ç‡ä¸æ˜¯github,ä¹Ÿå¯èƒ½ä¸æ˜¯ç äº‘.å…¬å¸ä¼šæ­å»ºå±äºè‡ªå·±çš„Gitä¸­å¿ƒä»“åº“æœåŠ¡.

GitLabæ˜¯ä¸€ä¸ªè½¯ä»¶,å¯ä»¥ç”¨æ¥æ­å»ºç±»ä¼¼ä¸githubçš„æœåŠ¡.

### ä½¿ç”¨æµç¨‹



#### å‘½ä»¤ä»‹ç»

```js
- remoteå‘½ä»¤
git removeå‘½ä»¤æ˜¯å¯¹è¿œç¨‹ä»“åº“'åˆ«å'è¿›è¡Œç®¡ç†
add æ·»åŠ 
origin åŸå§‹çš„èµ·æº åˆ«å

 - åˆ é™¤åˆ«å remove
git remote remove åˆ«å

 - é‡å‘½å
 git remote rename one two æŠŠoneæ”¹ä¸ºtwo
 
- Linuxå‘½ä»¤ä½¿ç”¨æŠ€å·§,è·å–å‘½ä»¤å¸®åŠ©
 - ä½¿ç”¨-h. ä¾‹å¦‚git remote -h
 - ä½¿ç”¨--help. ä¸¤ä¸ªå¯ä»¥é…åˆä½¿ç”¨,ä¸€æ–¹æ— æ³•ä½¿ç”¨ä½¿ç”¨å¦ä¸€æ–¹


# åˆ†æ”¯é‡å‘½å
å°†å½“å‰åˆ†æ”¯çš„åç§°æ”¹ä¸ºmain
git branch -M main

# æ¨é€å‘½ä»¤
git push -u origin main

git pushå°†æœ¬åœ°ä»“åº“çš„[æŸä¸ªåˆ†æ”¯]æ¨é€åˆ°è¿œç«¯çš„ä»“åº“çš„æŸä¸ªåˆ†æ”¯
- origin è¿œç«¯ä»“åº“çš„URLçš„åˆ«å(ä¸è¿œç«¯ä»“åº“çš„URLç­‰æ•ˆçš„)
- main æœ¬åœ°ä»“åº“çš„åˆ†æ”¯å
- -u è®¾ç½®åˆ†æ”¯çš„å…³è”
  - ç¬¬ä¸€æ¬¡æ¨é€æ—¶åŠ -uä¹‹å,åç»­å†æ¬¡æäº¤è¯¥åˆ†æ”¯,åˆ™ä¸éœ€è¦å†å†™[åˆ«åä¸åˆ†æ”¯å]

# ä»£ç æ¨é€
git push origin main
 - origin è¿œç«¯ä»“åº“çš„åˆ«å
 - main è¦æ›´æ–°çš„è¿œç«¯ä»“åº“çš„åˆ†æ”¯å

- æ¨é€ä¹‹å‰è¦å…ˆæ‰§è¡Œä¸€æ¬¡git pull(ä¸‹è½½åˆ°æœ¬åœ°çš„å’Œç°åœ¨äº‘ç«¯çš„å†…å®¹ä¸ä¸€è‡´,å·²æœ‰å…¶ä»–æ–¹çš„æäº¤)

# ä»£ç å¼ºåˆ¶æ¨é€
git push -f origin main(æˆ–æ˜¯master)


- githubæ“ä½œæŒ‡å¯¼
â€¦or create a new repository on the command line
echo "# one" >> README.md
git init
git add README.md
git commit -m "first commit"
git branch -M main
git remote add origin https://github.com/aotushi/one.git
git push -u origin main
                
â€¦or push an existing repository from the command line
git remote add origin https://github.com/aotushi/one.git
git branch -M main
git push -u origin main
```

#### æ¨é€ä»“åº“æ­¥éª¤

```HTML
1.æœ¬åœ°åˆ›å»ºä¸€ä¸ªä»“åº“, å¹¶åšæäº¤
2.githubä¸Šåˆ›å»ºä»“åº“
3.è¿è¡Œå‘½ä»¤æ¨é€
 - 3.1 git remote add origin URL
 - 3.2 git branch -M main
 - 3.3 git push -u origin main


å¦‚æœå‡ºç°æŠ¥é”™:hint: Updates were rejected because the tip of your current branch is behind...

å¯ä»¥å¼ºåˆ¶æ¨é€: git push -f origin main

```



#### git cloneä»“åº“é€Ÿåº¦å¤ªæ…¢çš„è§£å†³æ–¹æ³•

æ¥æº:[çŸ¥ä¹](https://www.zhihu.com/question/27159393)

1.ä½¿ç”¨é•œåƒåŸŸå

åªéœ€è¦å°† [www.github.com](https://link.zhihu.com/?target=http%3A//www.github.com/)/åé¢ä¸ºä»£ç åº“ æ”¹ä¸º[www.github.com.cnpmjs.org/åé¢ä¸ºä»£ç åº“åœ°å€](https://link.zhihu.com/?target=http%3A//xn--www-c88d846h.github.com.cnpmjs.org/%E5%90%8E%E9%9D%A2%E4%B8%BA%E4%BB%A3%E7%A0%81%E5%BA%93%E5%9C%B0%E5%9D%80) 

2.ä½¿ç”¨ä»£ç†



GitHub è¿œç¨‹ä»“åº“ä½¿ç”¨æµç¨‹è¾ƒä¸ºç®€å•ï¼Œä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§åœºæ™¯ï¼š

#### <span style="color:red">æœ¬åœ°æœ‰ä»“åº“</span>

1. æ³¨å†Œå¹¶æ¿€æ´»è´¦å·

2. åˆ›å»ºä»“åº“

3. è·å–ä»“åº“çš„åœ°å€

4. æœ¬åœ°é…ç½®è¿œç¨‹ä»“åº“çš„åœ°å€

   ```shell
   git remote add origin https://github.com/xiaohigh/test2.git  
   //è¿œç«¯ä»“åº“ç®¡ç†   å¼—æ‹‰åŸºç±³å°”Â·ä¼Šé‡Œå¥‡Â·ä¹Œé‡Œæ‰¬è¯ºå¤«
   add  æ·»åŠ 
   origin è¿œç«¯ä»“åº“çš„åˆ«å
   https://github.com/xiaohigh/test2.git    ä»“åº“åœ°å€
   
   ```

5. æœ¬åœ°æäº¤ï¼ˆç¡®è®¤ä»£ç å·²ç»æäº¤åˆ°æœ¬åœ°ä»“åº“ï¼‰

6. å°†æœ¬åœ°ä»“åº“å†…å®¹æ¨é€åˆ°è¿œç¨‹ä»“åº“

   ```shell
   git push -u origin master
   //
   push æ¨é€
   -u   å…³è”, åŠ ä¸Šä»¥å,åç»­æäº¤æ—¶å¯ä»¥ç›´æ¥ä½¿ç”¨ git push
   origin è¿œç«¯ä»“åº“çš„åˆ«å
   master æœ¬åœ°ä»“åº“çš„åˆ†æ”¯
   ```



#### gitæœ¬åœ°åˆ†æ”¯å…³è”è¿œç¨‹ä»“åº“åˆ†æ”¯

```js
git pull origin develop
è·å–è¿œç¨‹ä»“åº“ä¸­ develop åˆ†æ”¯ä¸Šçš„ commitsï¼Œç„¶åæŠŠorigin/develop merge åˆ°ä½ ç›®å‰ checkout ä¸‹æ¥çš„åˆ†æ”¯ä¸­

```



#### <span style="color:red">æœ¬åœ°æ²¡æœ‰ä»“åº“</span>

1. æ³¨å†Œå¹¶æ¿€æ´»è´¦å·

2. å…‹éš†ä»“åº“

   ```shell
   git clone https://github.com/xiaohigh/test2.git 
   ```

3. å¢åŠ å’Œä¿®æ”¹ä»£ç 

4. æœ¬åœ°æäº¤

   ```shell
   git add -A
   git commit -m 'message'
   ```

5. æ¨é€åˆ°è¿œç¨‹

   ```shell
   git push origin master
   ```

> å…‹éš†ä»£ç ä¹‹åï¼Œ æœ¬åœ°ä»“åº“ä¼šé»˜è®¤æœ‰ä¸€ä¸ªè¿œç¨‹åœ°å€çš„é…ç½®ï¼Œ åå­—ä¸º origin

#### <span style="color:red">å¤šäººåˆä½œ</span>

##### è´¦å·ä»“åº“é…ç½®

GitHub å›¢é˜Ÿåä½œå¼€å‘ä¹Ÿæ¯”è¾ƒå®¹æ˜“ç®¡ç†ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªç»„ç»‡

- é¦–é¡µ -> å³ä¸Šè§’ `+` å·-> new Organization
- å…è´¹è®¡åˆ’
- å¡«å†™ç»„ç»‡åç§°å’Œè”ç³»æ–¹å¼ï¼ˆä¸ç”¨ä½¿ç”¨ä¸­æ–‡åç§°ï¼‰
- é‚€è¯·å…¶ä»–å¼€å‘è€…è¿›å…¥ç»„ç»‡ï¼ˆä¼šæœ‰é‚®ä»¶é‚€è¯·ï¼‰

* ç‚¹å‡»ç»„ç»‡å³ä¾§çš„ settings è®¾ç½®
* å·¦ä¾§ Member privileges
* å³ä¾§ Base permissions è®¾ç½® write ğŸ‘Œ

##### åä½œæµç¨‹

ç¬¬ä¸€æ¬¡

* å¾—åˆ° Git è¿œç¨‹ä»“åº“çš„åœ°å€å’Œè´¦å·å¯†ç 

* å°†ä»£ç å…‹éš†åˆ°æœ¬åœ°ï¼ˆåœ°å€æ¢æˆè‡ªå·±çš„ï¼‰

  ```shell
  git clone https://github.com/xiaohigh/test.git
  
  - ç¬¬äºŒç§å†™æ³•
  git clone https://github.com/xiaohigh/test.git æ–‡ä»¶å¤¹åç§°
  ```

* åˆ‡æ¢åˆ†æ”¯

  ```
  git checkout -b xiaohigh //å‘½åè§„åˆ™:è‡ªå·±åå­—/å½“å‰å¼€å‘åŠŸèƒ½å‘½å
  ```

* å¼€å‘ä»£ç 

* æœ¬åœ°æäº¤

  ```shell
  git add -A
  git commit -m 'æ³¨é‡Šå†…å®¹'
  ```

* åˆå¹¶åˆ†æ”¯

  ```shell
  git checkout master  //åˆ‡æ¢åˆ°ä¸»åˆ†æ”¯ä¹‹ä¸‹
  git merge xiaohigh
  ```

* æ›´æ–°æœ¬åœ°ä»£ç 

  ```shell
  git pull  //å‰æè¿œç«¯ä»“åº“å·²æœ‰å…¶ä»–æ–¹è¿›è¡Œäº†æ›´æ–°,å’Œå½“å‰æœ¬åœ°cloneä¸‹æ¥çš„å·²ä¸ä¸€è‡´
  ```

* æäº¤ä»£ç 

  ```shell
  git push 
  ```

##### å·¥ä½œæµç¨‹

ç¬¬äºŒæ¬¡æµç¨‹(åœ¨åŸå…ˆçš„æ–‡ä»¶å¤¹å†…)

1. æ›´æ–°ä»£ç 

   ```
   git checkout master
   git pull
   ```

2. åˆ‡æ¢å¹¶åˆå¹¶åˆ†æ”¯ //åˆ‡æ¢å¹¶æ–°å»ºåˆ†æ”¯

   ```
   git checkout xiaohigh
   git merge master
   
   //
   git checkout -b newbranch
   ```

3. å¼€å‘åŠŸèƒ½

4. æäº¤

   ```
   git add -A
   git commit -m 'æ³¨é‡Š'
   ```

5. åˆå¹¶åˆ†æ”¯

   ```
   git checkout master
   git merge xiaohigh
   ```

6. æ›´æ–°ä»£ç 

   ```
   git pull
   ```

7. æ¨é€ä»£ç 

   ```
   git push
   ```

##### å†²çªè§£å†³

åŒåˆ†æ”¯å†²çªä¸€æ ·çš„å¤„ç†ï¼Œå°†ä»£ç è°ƒæ•´æˆæœ€ç»ˆçš„æ ·å¼ï¼Œæäº¤ä»£ç å³å¯ã€‚



### githubä½¿ç”¨åœºæ™¯

#### 1.githubè¿œç¨‹ä»“åº“åæˆ–åœ°å€æ›´æ”¹,æœ¬åœ°å¦‚ä½•åŒæ­¥?

```js
1.æŸ¥çœ‹æœ¬åœ°ä»“åº“åœ°å€
git remote -v
2.åˆ é™¤è¿œç¨‹ä»“åº“åœ°å€
git remote rm origin
3.æ·»åŠ è¿œç¨‹ä»“åº“(ä¿®æ”¹è¿‡åå­—çš„)
git remote add origin åœ°å€
4.åŒæ­¥
git pull origin master

//å…¶ä»– æ¨é€å¯èƒ½é‡åˆ°çš„é—®é¢˜ ä¸Šæ¸¸æ— åˆ†æ”¯
git push --set-upstream origin master
```



### GitFlow

GitFlow æ˜¯å›¢é˜Ÿå¼€å‘çš„ä¸€ç§æœ€ä½³å®è·µï¼Œå°†ä»£ç åˆ’åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªåˆ†æ”¯

![img](D:/0922frontend/ä¹ é¢˜&ç¬”è®°/ç¬”è®°/assets/o_git-workflow-release-cycle-4maintenance.png)

- Master ä¸»åˆ†æ”¯ã€‚ä¸Šé¢åªä¿å­˜æ­£å¼å‘å¸ƒçš„ç‰ˆæœ¬
- Hotfix  çº¿ä¸Šä»£ç  Bug ä¿®å¤åˆ†æ”¯ã€‚å¼€å‘å®Œåéœ€è¦åˆå¹¶å›Masterå’ŒDevelopåˆ†æ”¯ï¼ŒåŒæ—¶åœ¨Masterä¸Šæ‰“ä¸€ä¸ªtag
- Feather åŠŸèƒ½åˆ†æ”¯ã€‚å½“å¼€å‘æŸä¸ªåŠŸèƒ½æ—¶ï¼Œåˆ›å»ºä¸€ä¸ªå•ç‹¬çš„åˆ†æ”¯ï¼Œå¼€å‘å®Œæ¯•åå†åˆå¹¶åˆ° dev åˆ†æ”¯
- Release åˆ†æ”¯ã€‚å¾…å‘å¸ƒåˆ†æ”¯ï¼ŒReleaseåˆ†æ”¯åŸºäºDevelopåˆ†æ”¯åˆ›å»ºï¼Œåœ¨è¿™ä¸ªReleaseåˆ†æ”¯ä¸Šæµ‹è¯•ï¼Œä¿®æ”¹Bug
- Develop å¼€å‘åˆ†æ”¯ã€‚å¼€å‘è€…éƒ½åœ¨è¿™ä¸ªåˆ†æ”¯ä¸Šæäº¤ä»£ç 

é¦–æ¬¡å…‹éš†å®Œä»£ç åï¼Œåªè¦æœ‰4ä¸ªåˆ†æ”¯(master hotfix release develop),éœ€è¦åˆ‡æ¢åˆ°å¼€å‘åˆ†æ”¯

```sh
//æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯
git branch -a
//åˆ‡æ¢åˆ°å¼€å‘åˆ†æ”¯
git checkout  dev

//æäº¤çš„è¯ä¸€èˆ¬åªæ˜¯æäº¤æ›´æ”¹çš„åˆ†æ”¯,å…¶ä»–åˆ†æ”¯ä¸å¿…æäº¤
```


#### githubæœ¬åœ°è‡ªåŠ¨æäº¤

åœ¨æœ¬åœ°å°†æ›´æ–°è‡ªåŠ¨æäº¤åˆ°githubä»“åº“çš„æ–¹æ³•:
* [ä½¿ç”¨git-auto-commit Action](https://github.com/marketplace/actions/git-auto-commit)
* [git-autocommit](https://github.com/kspi/git-autocommit)
* inotifywait
* https://www.cnblogs.com/Java3y/p/12196210.html
* https://www.ruanyifeng.com/blog/2019/09/getting-started-with-github-actions.html
* 



## é™„å½•

### Git å®˜æ–¹ä¹¦ç±

[https://git-scm.com/book/zh/v2/%E8%B5%B7%E6%AD%A5-%E5%85%B3%E4%BA%8E%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6](https://git-scm.com/book/zh/v2/èµ·æ­¥-å…³äºç‰ˆæœ¬æ§åˆ¶)

### CRLF

CRLF æ˜¯Carriage-Return Line-Feed çš„ç¼©å†™ã€‚

CR è¡¨ç¤ºçš„æ˜¯ ASCII ç çš„ç¬¬ 13 ä¸ªç¬¦å· \r å›è½¦ï¼ŒLF è¡¨ç¤ºçš„æ˜¯ ASCII ç è¡¨çš„ç¬¬ 10 ä¸ªç¬¦å· \n æ¢è¡Œã€‚

æ¯ä¸ªæ“ä½œç³»ç»Ÿå¯¹å›è½¦æ¢è¡Œçš„å­˜å‚¨æ–¹å¼ä¸åŒ

* windows ä¸‹ç”¨ CRLFï¼ˆ\r\nï¼‰è¡¨ç¤º
* linux å’Œ unix ä¸‹ç”¨ LFï¼ˆ\nï¼‰è¡¨ç¤º
* mac ç³»ç»Ÿä¸‹ç”¨ CRï¼ˆ\rï¼‰è¡¨ç¤º

![æ‰“å­—æœº](D:/0922frontend/ä¹ é¢˜&ç¬”è®°/ç¬”è®°/assets/æ‰“å­—æœº.jpg)

### 

### å¸¸è§é”™è¯¯

#### å›è½¦æ¢è¡Œè½¬æ¢é—®é¢˜

```sh
warning: LF will be replaced by CRLF in 5.html.
The file will have its original line endings in your working directory
```

è¿™ä¸ªé—®é¢˜ä¸»è¦æ˜¯ Git åœ¨ä½ æäº¤æ—¶è‡ªåŠ¨åœ°æŠŠå›è½¦ï¼ˆCRï¼‰å’Œæ¢è¡Œï¼ˆLFï¼‰è½¬æ¢æˆæ¢è¡Œï¼ˆLFï¼‰ï¼Œæ²¡æœ‰å½±å“ï¼Œ<span style="color:red">è¿™é‡Œå»ºè®®å¤§å®¶ä¿ç•™è¿™ä¸ªçŠ¶æ€</span>ã€‚å¯ä»¥é€šè¿‡ä¸‹é¢çš„å‘½ä»¤è®¾ç½®ä¸è½¬æ¢ï¼Œä½†æ˜¯ä¸æ¨è

```sh
git config --global core.autocrlf false // ä¸æ¨è
```

#### æäº¤æŠ¥é”™

![img](D:/0922frontend/ä¹ é¢˜&ç¬”è®°/ç¬”è®°/assets/1532788288.bmp)

å…¶ä»–äººå·²ç»æäº¤è¿‡ï¼Œæœ¬åœ°ä»£ç éœ€è¦æ›´æ–°ï¼Œé¦–å…ˆè¿è¡Œ git pull å‘½ä»¤



#### å†²çªæé†’

![1574235172869](D:/0922frontend/ä¹ é¢˜&ç¬”è®°/ç¬”è®°/assets/1574235172869.png)

ç¼–è¾‘å†²çª

#### æäº¤é”™è¯¯

```sh
xiaohigh@DESKTOP-252ML8M MINGW64 /d/www/BJ0819/day13/ä»£ç /1-GitHub/7-test-ssh/8-https-to-ssh (master)
$ git push
fatal: The current branch master has no upstream branch.
To push the current branch and set the remote as upstream, use

    git push --set-upstream origin master
```

å¦‚æœç¬¬ä¸€æ¬¡å°†æœ¬åœ°ä»“åº“åˆ†æ”¯æäº¤åˆ°è¿œç¨‹æ—¶ï¼Œç›´æ¥ä½¿ç”¨ `git push` å¯èƒ½ä¼šæŠ¥è¿™ä¸ªé”™è¯¯ï¼Œè§£å†³æ–¹æ³•

```sh
git push -u origin master
```

### æäº¤é”™è¯¯

![1576840150520](D:/0922frontend/ä¹ é¢˜&ç¬”è®°/ç¬”è®°/assets/1576840150520.png)

å½“å‰æ‰€åœ¨æ–‡ä»¶å¤¹ä¸æ˜¯ä¸€ä¸ª git ä»“åº“ç›®å½•ï¼Œåˆ‡æ¢ç›®å½•å·¥ä½œ

### æ‰¾ä¸åˆ° .git çš„æ–¹æ³•

![1582943996890](E:\github\notebook\note2\assets\1582943996890.png)



#### åœ¨çº¿ç»ƒä¹ ç½‘ç«™

https://learngitbranching.js.org/